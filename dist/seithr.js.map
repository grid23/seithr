{"version":3,"sources":["webpack://seithr/webpack/bootstrap","webpack://seithr/./lib/decorators/bound.js","webpack://seithr/./lib/decorators/final.js","webpack://seithr/./lib/decorators/frozen.js","webpack://seithr/./lib/decorators/index.js","webpack://seithr/./lib/store.js","webpack://seithr/./lib/utils/cancelAnimationFrames.js","webpack://seithr/./lib/errors.js","webpack://seithr/./lib/events/Event.js","webpack://seithr/./lib/models/ModelChange.js","webpack://seithr/./lib/env.js","webpack://seithr/./lib/utils/dummy.js","webpack://seithr/./lib/events/EventDispatcher.js","webpack://seithr/./lib/events/EventTarget.js","webpack://seithr/./lib/utils/isNative.js","webpack://seithr/./lib/utils/toType.js","webpack://seithr/./lib/uids/UID.js","webpack://seithr/./lib/nodes/Node.js","webpack://seithr/./lib/models/Model.js","webpack://seithr/./lib/cookies/Cookie.js","webpack://seithr/./lib/css/CSSHook.js","webpack://seithr/./lib/serializers/Serializer.js","webpack://seithr/./lib/css/CSSRule.js","webpack://seithr/./lib/css/CSSConditionalRule.js","webpack://seithr/./lib/css/CSSMediaRule.js","webpack://seithr/./lib/utils/domready.js","webpack://seithr/./lib/utils/isSameDomain.js","webpack://seithr/./lib/utils/ReadyStateFul.js","webpack://seithr/./lib/utils/requestAnimationFrames.js","webpack://seithr/./lib/routing/Route.mjs","webpack://seithr/./lib/routing/RouteDispatcher.mjs","webpack://seithr/./lib/routing/Router.mjs","webpack://seithr/./lib/utils/singleton.js","webpack://seithr/./lib/views/View.js","webpack://seithr/./lib/views/ZParser.js","webpack://seithr/./lib/css/Stylesheet.js","webpack://seithr/./lib/utils/trait.js","webpack://seithr/./lib/graph/Vertex.js","webpack://seithr/./lib/graph/Edge.js","webpack://seithr/./lib/graph/DepthFirstTree.js","webpack://seithr/./lib/graph/Traversal.js","webpack://seithr/./lib/graph/Graph.js","webpack://seithr/./lib/graph/BreadthFirstTree.js","webpack://seithr/./lib/graph/HyperGraph.js","webpack://seithr/./lib/index.js"],"names":["kind","key","placement","descriptor","value","extras","undefined","initializer","get","configurable","frozen","deep","enumerable","writable","Object","freeze","args","WeakMap","generatorFn","store","has","set","ERR_EVENT_NOT_IMPLEMENTED","ERR_EVENT_TARGET_IS_NOT_VALID","ERR_CANNOT_BE_REUSED","ERR_CSSTEXT","ERR_FN_EXPECTED","ERR_GENERATOR_EXPECTED","ERR_INVALID_TARGET","ERR_NODE_NOT_CHILD","ERR_NODE_NOT_IMPLEMENTED","ERR_READYSTATEFUL_NOT_IMPLEMENTED","ERR_SAME_OBJ","ERR_ILLEGAL_CONSTRUCTOR","ERR_INVALID_DATA","ERR_TYPE_UNKNOWN","ERR_NOT_ITERABLE","ERR_NOT_A_NODE","ERR_RHANDLER","ERR_ROUTE_BUSY","ERR_NOTROUTE","ERR_SS_NOT_WRITABLE","ERR_STRING_EXPECTED","WARN_LATE_NEXT","EALRDYCONN","EINVALIDCONS","ENOTEDGE","ENOTGRAPH","ENOTINSET","ENOTVERTEX","EPRLLLNOTALLOW","ETOOMANYVERT","EUNCOMPEDGE","EUNKNWNREL","sdetail","Symbol","sevent","sondom","soriginaltarget","sphase","Event","type","bubbles","cancelable","composed","detail","event","document","createEvent","initEvent","seal","final","window","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","originalEvent","domnode","currentTarget","dompath","deepPath","map","node","defaultPrevented","eventPhase","originalTarget","relatedTarget","target","preventDefault","stopPropagation","stopImmediatePropagation","ModelChange","path","TYPE","spath","join","BUBBLES","a","createElement","b","appendChild","addEventListener","e","dispatchEvent","EventDispatcher","targets","dispatch","broadcast","Error","srelatedtarget","Node","root","rootNode","sdummy","head","contains","r_value","BROADCAST_PHASE","sbroadcastChannel","dummy","EventTarget","nhandler","handler","slice","from","removeEventListener","known_exceptions","rnative","fn","toString","match","indexOf","o","Array","isArray","ntype","constructor","native","next","prototype","Map","Set","WeakSet","Reflect","apply","toLowerCase","def_chars","def_map","def_radix","def_regexp","schars","smap","sradix","sregexp","UID","chars","CHARS","MAP","radix","RADIX","regexp","REGEXP","generate","replace","c","r","Date","now","Math","random","snodename","snodetype","snodevalue","stextnode","suid","registerIDX","name","OBJECT_NODE","nodeValue","leastCommonAncestor","iterable","iterator","TypeError","nodes","every","size","paths","forEach","push","parentNode","last","candidates","pop","filter","v","defineProperty","domchildren","childNodes","firstChild","lastChild","nextSibling","setAttribute","typeOf","removeAttribute","previousSibling","getRootNode","domsiblings","siblings","uid","parent","child","comparePosition","top","hasChildNodes","referenceNode","referenceChild","insertBefore","removeChild","replaceChild","sdata","soverflow","sseal","sstrictseal","ssymbol","starget","sproxy","dispatchUpdate","model","xref","proxies","revocable","noop","strictlySealed","revocableMeta","opts","traps","hasOwnProperty","Proxy","create","revoke","proxy","revocableProxy","hook","overflow","candidate","io","curr","defineProperties","toJSON","silent","sealed","Model","ref","strictseal","valueOf","strict","JSON","parse","stringify","keyFor","m","bool","change","modelchange","sdomain","sexpires","sfrombrowser","sname","ssession","LIFESPAN","TOP_DOMAIN","cookiestr","cookie","domain","toUTCString","split","location","hostname","i","length","hit","Sync","from_browser","Cookie","expires","maxAge","session","isNaN","sync","events","navigator","cookieEnabled","COOKIE_ENABLED","exists","data","unescape","console","error","string","escape","hookedprops","defaulthandler","property","CSSHook","transform","bind","propertyHandler","prophandler","sproperty","sprophandler","def_delimiter","def_separator","def_key_separator","rspacetoplus","rplustospace","sdelimiter","sseparator","Serializer","object","del","delimiter","sep","separator","search","pair","idx","decodeURIComponent","trim","keys","encodeURIComponent","objectify","serialize","scssrule","sselectortext","CSSRuleEvent","cssRule","to","Reset","TextUpdate","SelectorUpdate","rcssparse","serializer","CSSRule","fromstr","shift","exec","cssText","serializeCssText","CSSStyleDeclaration","getPropertyValue","style","prop","getProperty","getHook","setProperty","selectorText","props","objectifyCssText","k","reset","textupdate","rconditional","updaters_text","sactive","sadd","satsheet","sbasecsstext","sbufferrules","sconditiontext","sremove","srules","ssync","stype","CSSConditionalRule","condition","atrule","conditionText","rule","insertRule","splice","rules","is_rule","is_conditional","cond_rule","deleteRule","buffer_rules","cssRules","idxs","CSSMediaRule","gather","documentElement","title","getElementsByTagName","viewport","querySelector","body","ready","Promise","resolve","onready","setTimeout","isready","readyState","href","sfrom","sreadystate","sto","ReadyStateChange","ReadyStateFul","UNINITIALIZED","rsf","readystatechange","generator","onframe","done","requestAnimationFrame","Class","Singleton","singleton","getOwnPropertyNames","getOwnPropertySymbols","staticProperty","getOwnPropertyDescriptor","sargs","sconstructor","sexpression","sfragment","sprops","ssubviewAsChild","stemplate","supdates","xmap","revocableNodeProxy","view","all","revocablePropProxy","transformPath","reduce","acc","step","parseFloat","expression","parts","values","current","View","isPrototypeOf","expressWith","conf","subviewAsChild","Parser","template","updates","updaters","updater","add","handlers","fragment","refs","auto_vars","CLASS_LIST_COMPAT","Element","HTMLElement","createElementNS","classList","evaluate","String","parseInt","setAttributeExceptions","namespaces","html","svg","xml","xmlns","xlink","sbuffer","scontext","slength","sowner","spile","spointer","srefs","svars","rextractsvars","rpathmodel","extractVars","input","output","Function","operators","captured","buffer","capture","lookAhead","traversals","pile","nodeType","ELEMENT_NODE","attr","ns","update","setAttributeNS","bracket","was","requested","remove","classname","getAttribute","concat","safe","TEXT_NODE","createTextNode","textNodes","warn","onnode","textContent","position","innerHTML","remains","ignore","debug","log","symbol","Constructor","instance","context","owner","pointer","glyph","operator","createDocumentFragment","vars","unpile","nodeName","any","int","uint","snode","sready","ssheet","swritable","Ready","sheet","Stylesheet","isSameDomain","dict","id","includes","isLocalFile","ZParser","media","domready","then","hrt","disabled","call","reject","onload","msSetImmediate","sparents","classes","prototypes","accumulator","getPrototypeOf","unshift","slabel","Vertex","label","sedges","sgraphs","graph","edge","Graph","addEdge","edges","addEdges","adjacents","adjacentsIn","adjacentsOut","vertex","arcFrom","arcs","vertices","arcTo","connections","degree","extravertArcWith","hyperarcs","hyperEdgeWith","indegree","Edge","lines","lineWith","relation","loop","loops","outdegree","removeEdge","removeEdges","slbabel","sdirection","sextraverted","sgraph","srelation","svertexa","svertexb","svertices","relations","LINE","INOUT","ININ","OUTIN","OUTOUT","REGION","HYPERARC","states","CONNECTED","DISCONNECTED","types","ARC","LOOP","otherVertices","addVertex","addVertices","l","removeVertex","Boolean","out","rel","ReferenceError","directed","bidirected","sroot","straversal","DepthFirstTree","rootVertex","traversal","dft","setPrototypeOf","Traversal","stack","nextVertex","queue","sort","BreadthFirstTree","breadthFirstTree","sallowed","allowance","PARALLELS","presets","LINES","UNDIRECTED","ARCS","DIRECTED","CONNECTIONS","ALL","allows","state","some","inward","outward","construct","added","depthFirstTree","bft","HyperGraph","process"],"mappings":"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","file":"seithr.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\"\r\n\r\nexport default ({ kind, key, placement, descriptor }) => {\r\n    if ( kind !== \"method\")\r\n      return { kind, key, placement, descriptor }\r\n\r\n    if ( descriptor.value)\r\n      return {\r\n          kind, key, placement, descriptor\r\n        , extras: [{\r\n              kind:\"field\", key, placement: \"own\",  descriptor: { ...descriptor, value: undefined }\r\n            , initializer(){ return this::descriptor.value }\r\n          }]\r\n      }\r\n    else if ( descriptor.get )\r\n      return {\r\n          kind, key, placement, descriptor: {\r\n              ...descriptor\r\n            , get(){ return this::descriptor.get() }\r\n          }\r\n      }\r\n}\r\n","\"use strict\"\r\n\r\nexport default ({kind, key, placement, descriptor}) => {\r\n    return {\r\n        kind, key, placement, descriptor:{ ...descriptor, configurable:false }\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nconst frozen = (deep, { descriptor, key, kind, placement, initializer }) => {\r\n    if ( kind !== \"field\" )\r\n      return { descriptor, key, kind, placement, initializer }\r\n\r\n    //TODO deep support :D\r\n    return {\r\n        key, kind, placement\r\n      , descriptor:{ configurable: false, enumerable:descriptor.enumerable, writable: false }\r\n      , initializer: function(){\r\n            return () => Object.freeze(initializer())\r\n        }()\r\n    }\r\n}\r\n\r\nexport default (...args) => {\r\n    if ( typeof args[0] === \"boolean\" )\r\n      return (...args) => frozen(true, ...args)\r\n    else\r\n      return frozen(false, ...args)\r\n}\r\n","\"use strict\"\r\n\r\nexport bound from \"./bound\"\r\nexport final from \"./final\"\r\nexport frozen from \"./frozen\"\r\n","\"use strict\"\r\n\r\nexport default new WeakMap\r\n","\"use strict\"\n\nimport store from \"store\"\n\nexport default (generatorFn) => {\n    if ( store.has(generatorFn) )\n      store.set(generatorFn, false)\n}\n","\"use strict\"\r\n\r\nexport const ERR_EVENT_NOT_IMPLEMENTED = \"ERR_EVENT_NOT_IMPLEMENTED\"\r\nexport const ERR_EVENT_TARGET_IS_NOT_VALID = \"ERR_EVENT_TARGET_IS_NOT_VALID\"\r\nexport const ERR_CANNOT_BE_REUSED = \"ERR_CANNOT_BE_REUSED\"\r\nexport const ERR_CSSTEXT = \"ERR_CSSTEXT\"\r\nexport const ERR_FN_EXPECTED = \"function expected\"\r\nexport const ERR_GENERATOR_EXPECTED = \"ERR_GENERATOR_EXPECTED\"\r\nexport const ERR_INVALID_TARGET = \"ERR_INVALID_TARGET\"\r\nexport const ERR_NODE_NOT_CHILD = \"ERR_NODE_NOT_CHILD\"\r\nexport const ERR_NODE_NOT_IMPLEMENTED = \"ERR_NODE_NOT_IMPLEMENTED\"\r\nexport const ERR_READYSTATEFUL_NOT_IMPLEMENTED = \"ERR_READYSTATEFUL_NOT_IMPLEMENTED\"\r\nexport const ERR_SAME_OBJ = \"ERR_SAME_OBJ\"\r\nexport const ERR_ILLEGAL_CONSTRUCTOR = \"ERR_ILLEGAL_CONSTRUCTOR\"\r\nexport const ERR_INVALID_DATA = \"ERR_INVALID_DATA\"\r\nexport const ERR_TYPE_UNKNOWN = \"ERR_TYPE_UNKNOWN\"\r\nexport const ERR_NOT_ITERABLE = \"ERR_NOT_ITERABLE\"\r\nexport const ERR_NOT_A_NODE = \"ERR_NOT_A_NODE\"\r\nexport const ERR_RHANDLER = \"not a valid route handler\"\r\nexport const ERR_ROUTE_BUSY = \"route has already been used\"\r\nexport const ERR_NOTROUTE = \"not a valid route object\"\r\nexport const ERR_SS_NOT_WRITABLE = \"ERR_SS_NOT_WRITABLE\"\r\nexport const ERR_STRING_EXPECTED = \"ERR_STRING_EXPECTED\"\r\nexport const WARN_LATE_NEXT = \"WARN_LATE_NEXT\"\r\n\r\n// graph\r\nexport const EALRDYCONN = \"edge is already connected to a graph\"\r\nexport const EINVALIDCONS = \"invalid constructor\"\r\nexport const ENOTEDGE = \"object does not implement Edge\"\r\nexport const ENOTGRAPH = \"object does not implement Graph\"\r\nexport const ENOTINSET = \"object does not belong to the set\"\r\nexport const ENOTVERTEX = \"object does not implement Vertex\"\r\nexport const EPRLLLNOTALLOW = \"graph doesn't allow parallel edges\"\r\nexport const ETOOMANYVERT = \"edges cannot hold more vertices\"\r\nexport const EUNCOMPEDGE = \"edge type is not allowed by this graph\"\r\nexport const EUNKNWNREL = \"relation is unknown\"\r\n","\"use strict\"\r\n\r\nimport { final } from \"decorators\"\r\nimport { ERR_EVENT_NOT_IMPLEMENTED } from \"errors\"\r\nimport store from \"store\"\r\n\r\nexport const sdetail = new Object(Symbol(\"detail\"))\r\nexport const sevent = new Object(Symbol(\"\"))\r\nexport const sondom = new Object(Symbol())\r\nexport const soriginaltarget = new Object(Symbol())\r\nexport const sphase = new Object(Symbol())\r\n\r\nexport default class Event {\r\n    // static from(event){\r\n    //     if ( !(event instanceof Event) && !(event instanceof window.Event) )\r\n    //       throw new Error(ERR_EVENT_NOT_IMPLEMENTED)\r\n    //\r\n    //     const From = event.constructor\r\n    //     const to = new From(event.type, event)\r\n    //     Object.setPrototypeOf(to, Event.prototype)\r\n    //     Object.keys(From.prototype)\r\n    //     .forEach(property => {\r\n    //         if ( Event.prototype.hasOwnProperty(property) )\r\n    //           return\r\n    //         Object.defineProperty(to, property, Object.getOwnPropertyDescriptor(From.prototype, property))\r\n    //     })\r\n    //\r\n    //     store.set(to, new WeakMap)\r\n    //     store.get(to).set(sdetail, Object.seal(event.detail||null))\r\n    //\r\n    //     if ( event.target ) store.get(to).set(soriginaltarget, event.target)\r\n    //     return to\r\n    // }\r\n\r\n    @final\r\n    static get NONE(){ return window.Event.NONE }\r\n    @final\r\n    static get CAPTURING_PHASE(){ return window.Event.CAPTURING_PHASE }\r\n    @final\r\n    static get AT_TARGET(){ return window.Event.AT_TARGET  }\r\n    @final\r\n    static get BUBBLING_PHASE(){ return window.Event.BUBBLING_PHASE }\r\n    @final\r\n    static get BROADCAST_PHASE(){ return window.Event.BUBBLING_PHASE + 1 }\r\n\r\n    constructor(type, { bubbles=true, cancelable=true, composed=false, detail=null }={}){\r\n        const event = document.createEvent(\"Event\")\r\n        event.initEvent(type, bubbles, cancelable)\r\n\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sdetail, Object.seal(detail))\r\n        store.get(this).set(sevent, event)\r\n        store.set(event, this) // x-reference\r\n    }\r\n\r\n    @final\r\n    get originalEvent(){ return store.get(this).get(sevent) }\r\n\r\n    @final\r\n    get bubbles(){ return this.originalEvent.bubbles }\r\n\r\n    @final\r\n    get cancelable(){ return this.originalEvent.cancelable }\r\n\r\n    @final\r\n    get currentTarget(){\r\n        const domnode = this.originalEvent.currentTarget\r\n        return store.get(this).get(sondom) ? store.get(domnode) : domnode\r\n    }\r\n\r\n    @final\r\n    get deepPath(){\r\n        const dompath = this.originalEvent.deepPath\r\n        return !dompath ? dompath\r\n               : store.get(this).get(sondom) ? dompath.map(node => store.get(node))\r\n               : dompath\r\n    }\r\n\r\n    @final\r\n    get defaultPrevented(){  return this.originalEvent.defaultPrevented }\r\n\r\n    @final\r\n    get detail(){ return store.get(this).get(sdetail) || (this.originalEvent.detail?this.originalEvent.detail:null) }\r\n\r\n    @final\r\n    get eventPhase(){ return store.get(this).get(sphase) || this.originalEvent.eventPhase }\r\n\r\n    @final\r\n    get explicitOriginalTarget(){ return this.originalTarget }\r\n\r\n    @final\r\n    get originalTarget(){\r\n        const domnode = this.originalEvent.originalTarget\r\n        return store.get(this).has(soriginaltarget) ? store.get(this).get(soriginaltarget)\r\n               : store.get(this).get(sondom) ? store.get(domnode)\r\n               : domnode\r\n    }\r\n\r\n    @final\r\n    get relatedTarget(){\r\n      const domnode = this.originalEvent.relatedTarget\r\n      return store.get(this).get(sondom) ? store.get(domnode) : domnode\r\n    }\r\n\r\n    @final\r\n    get target(){\r\n        const domnode = this.originalEvent.target\r\n        return store.get(this).get(sondom) ? store.get(domnode) : domnode\r\n    }\r\n\r\n    @final\r\n    get type(){ return this.originalEvent.type }\r\n\r\n    @final\r\n    preventDefault() { return this.originalEvent.preventDefault() }\r\n\r\n    @final\r\n    stop() { return this.originalEvent.stopPropagation() }\r\n\r\n    @final\r\n    stopImmediate() { return this.originalEvent.stopImmediatePropagation() }\r\n}\r\n","\"use strict\"\r\n\r\nimport Event from \"events/Event\"\r\nimport spath from \"models/Model\"\r\nimport store from \"store\"\r\n\r\nexport default class ModelChange extends Event {\r\n    static get TYPE(){ return \"model:change\" }\r\n\r\n    constructor(path){\r\n        super(ModelChange.TYPE, { bubbles: false })\r\n        store.get(this).set(spath, path)\r\n    }\r\n\r\n    get path(){ return store.get(this).get(spath) }\r\n    get toString(){ return this.path.join(\".\") }\r\n}\r\n","\"use strict\"\r\n\r\nexport const BUBBLES = (() => {\r\n    let bubbles = false\r\n    const a = document.createElement(\"div\")\r\n    const b = a.appendChild(document.createElement(\"div\"))\r\n    a.addEventListener(\"bubblestest\", e => bubbles=true)\r\n\r\n    const e = document.createEvent(\"Event\")\r\n    e.initEvent(\"bubblestest\", true, true)\r\n    b.dispatchEvent(e)\r\n\r\n    return bubbles\r\n})()\r\n","\"use strict\"\r\n\r\nexport default () => document.createElement(\"div\")\r\n","\"use strict\"\r\n\r\nimport { BUBBLES } from \"env\"\r\nimport { final } from \"decorators\"\r\n\r\nimport { ERR_EVENT_NOT_IMPLEMENTED, ERR_EVENT_TARGET_IS_NOT_VALID } from \"errors\"\r\nimport Event from \"events/Event\"\r\nimport store from \"store\"\r\nimport { sbroadcastChannel, sdummy } from \"events/EventTarget\"\r\nimport { sevent, sondom, sphase, soriginaltarget } from 'events/Event'\r\n\r\nexport default class EventDispatcher {\r\n    @final\r\n    static get BUBBLES(){ return BUBBLES }\r\n\r\n    constructor(){\r\n        store.set(this, new WeakMap)\r\n    }\r\n\r\n    @final\r\n    broadcast(event, targets){\r\n        return this.dispatch(event, targets, true)\r\n    }\r\n\r\n    @final\r\n    dispatch(event, {target, relatedTarget, originalTarget}={}, broadcast=false){\r\n        if ( (!(event instanceof Event) && !(event instanceof window.Event)) || !store.has(event) )\r\n          throw new Error(ERR_EVENT_NOT_IMPLEMENTED)\r\n\r\n        relatedTarget && store.get(event).set(srelatedtarget, relatedTarget)\r\n        originalTarget && store.get(event).set(soriginaltarget, originalTarget || target)\r\n\r\n        if ( target instanceof window.Node ) {\r\n            store.get(event).set(sondom, false)\r\n            return target.dispatchEvent(store.get(event).get(event.originalEvent))\r\n        }\r\n\r\n        if ( !store.has(target) )\r\n          throw new Error(ERR_EVENT_TARGET_IS_NOT_VALID)\r\n\r\n        store.get(event).set(sondom, true)\r\n\r\n        if ( !BUBBLES ) {\r\n            const root = store.get(store.get(target).rootNode).get(sdummy)\r\n\r\n            if ( !document.head.contains(root) )\r\n              document.head.appendChild(root)\r\n        }\r\n        const r_value = store.get(target).get(sdummy).dispatchEvent(event.originalEvent)\r\n\r\n        if ( r_value && broadcast ) {\r\n            store.get(event).set(sphase, Event.BROADCAST_PHASE)\r\n            store.get(sbroadcastChannel).dispatchEvent(event.originalEvent)\r\n        }\r\n        \r\n        return r_value\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { BUBBLES } from \"env\"\r\nimport dummy from \"utils/dummy\"\r\nimport Event from \"events/Event\"\r\nimport EventDispatcher from \"events/EventDispatcher\"\r\nimport { final, frozen } from \"decorators\"\r\nimport store from \"store\"\r\n\r\nexport const sbroadcastChannel = new Object(Symbol(\"broadcastchannel\"))\r\nexport const sdummy = new Object(Symbol(\"dummy\"))\r\n\r\nstore.set(sbroadcastChannel, dummy())\r\n\r\nexport default class EventTarget {\r\n    constructor(){\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sdummy, dummy())\r\n        store.set(store.get(this).get(sdummy), this) //cross-reference\r\n    }\r\n\r\n    addBroadcastListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = function(e){\r\n            if ( store.has(e) )\r\n              e = store.get(e)\r\n            return nhandler(e)\r\n        }\r\n\r\n        store.set(args[1], handler)\r\n        return store.get(sbroadcastChannel).addEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n    addEventListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = function(e){\r\n            if ( store.has(e) )\r\n              e = store.get(e)\r\n            return nhandler(e)\r\n        }\r\n\r\n        store.set(args[1], handler)\r\n        return store.get(this).get(sdummy).addEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n\r\n    broadcastEvent(event, { relatedTarget, originalTarget }={}){\r\n        return this.dispatchEvent(event, { target: store.get(sbroadcastChannel), relatedTarget, originalTarget:this }, true)\r\n    }\r\n    dispatchEvent(event, { relatedTarget, originalTarget } = {}, broadcast=false){\r\n        if ( (event && event.eventPhase > Event.NONE) || (event instanceof window.Event && !(event instanceof Event)) )\r\n          event = Event.from(event)\r\n\r\n        return new EventDispatcher().dispatch(event, {\r\n            target: this, relatedTarget, originalTarget\r\n        }, broadcast)\r\n    }\r\n\r\n    removeBroadcastListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = store.get(nhandler)\r\n\r\n        return store.get(sbroadcastChannel).removeEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n    removeEventListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = store.get(nhandler)\r\n\r\n        return store.get(this).get(sdummy).removeEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nconst known_exceptions = [\"[object CSSMediaRule]\"]\r\nconst rnative = /\\s*\\[native code\\]\\s*/i\r\n\r\nexport default fn => {\r\n    try {\r\n        const toString = fn.toString() || \"\"\r\n        return typeof fn == \"function\" ? !!toString.match(rnative)\r\n             : known_exceptions.indexOf(toString) > -1 ? true\r\n             : false\r\n    } catch(e){\r\n        return null\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport native from \"utils/isNative\"\r\n\r\nexport default o => {\r\n    if ( Array.isArray(o) )\r\n      return \"array\"\r\n\r\n    const ntype = typeof o\r\n    return ntype !== \"object\" ? ( o === o ? ntype : \"nan\" )\r\n      : o && o.constructor && native(o.next) ? \"generator\"\r\n      : o && o.constructor && !native(o.constructor) ? \"instance\"\r\n      : o && typeof o.prototype == \"function\" ? \"function\"\r\n      : o && typeof o.constructor == Map ? \"map\"\r\n      : o && typeof o.constructor == WeakMap ? \"weakmap\"\r\n      : o && typeof o.constructor == Set ? \"set\"\r\n      : o && typeof o.constructor == WeakSet ? \"weakset\"\r\n      : Reflect.apply(Object.prototype.toString, o, []).slice(8, - 1).toLowerCase()\r\n}\r\n","\"use strict\"\r\n\r\nimport { final } from \"decorators\"\r\nimport store from \"store\"\r\n\r\nconst def_chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"\r\nconst def_map = \"Fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\"\r\nconst def_radix = 16\r\nconst def_regexp = /[xy]/g\r\n\r\nconst schars = new Object(Symbol())\r\nconst smap = new Object(Symbol())\r\nconst sradix = new Object(Symbol())\r\nconst sregexp = new Object(Symbol())\r\n\r\nexport default class UID {\r\n    @final\r\n    static get CHARS(){ return def_chars }\r\n\r\n    @final\r\n    static get MAP(){ return def_map }\r\n\r\n    @final\r\n    static get RADIX(){ return def_radix }\r\n\r\n    @final\r\n    static get REGEXP(){ return def_regexp }\r\n\r\n    @final\r\n    static uid({ chars=UID.CHARS, map=UID.MAP, radix=UID.RADIX, regexp=UID.REGEXP } = {}){ return new UID({ chars, map, radix, regexp }).generate() }\r\n\r\n    constructor({ chars=UID.CHARS, map=UID.MAP, radix=UID.RADIX, regexp=UID.REGEXP } = {}){\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(schars, chars)\r\n        store.get(this).set(smap, map)\r\n        store.get(this).set(sradix, radix)\r\n        store.get(this).set(sregexp, regexp)\r\n    }\r\n\r\n    @final\r\n    get chars(){ return store.get(this).get(schars) }\r\n\r\n    @final\r\n    get map(){ return store.get(this).get(smap) }\r\n\r\n    @final\r\n    get radix(){ return store.get(this).get(sradix) }\r\n\r\n    @final\r\n    get regexp(){ return store.get(this).get(sregexp) }\r\n\r\n    @final\r\n    generate(){\r\n        return this.map.replace(this.regexp, (c, r) => {\r\n            r = (Date.now() + Math.random()*this.radix)%this.radix |0\r\n            if ( c === \"y\") r = (r & 0x3)|0x8\r\n            return this.chars[r]\r\n        })\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { final } from \"decorators\"\r\nimport { ERR_NODE_NOT_CHILD, ERR_NODE_NOT_IMPLEMENTED, ERR_NOT_A_NODE, ERR_NOT_ITERABLE, ERR_SAME_OBJ, ERR_STRING_EXPECTED } from \"errors\"\r\nimport EventTarget, { sdummy } from \"events/EventTarget\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\nimport UID from \"uids/UID\"\r\n\r\nexport const snodename = new Object(Symbol(\"nodename\"))\r\nexport const snodetype = new Object(Symbol(\"nodetype\"))\r\nexport const snodevalue = new Object(Symbol(\"nodevalue\"))\r\nexport const stextnode = new Object(Symbol(\"textnode\"))\r\nexport const suid = new Object(Symbol(\"uid\"))\r\n\r\nlet registerIDX = 13\r\nexport default class Node extends EventTarget {\r\n\r\n    //   const unsigned short ELEMENT_NODE = 1;\r\n    //   const unsigned short ATTRIBUTE_NODE = 2;\r\n    //   const unsigned short TEXT_NODE = 3;\r\n    //   const unsigned short CDATA_SECTION_NODE = 4;\r\n    //   const unsigned short ENTITY_REFERENCE_NODE = 5; // historical\r\n    //   const unsigned short ENTITY_NODE = 6; // historical\r\n    //   const unsigned short PROCESSING_INSTRUCTION_NODE = 7;\r\n    //   const unsigned short COMMENT_NODE = 8;\r\n    //   const unsigned short DOCUMENT_NODE = 9;\r\n    //   const unsigned short DOCUMENT_TYPE_NODE = 10;\r\n    //   const unsigned short DOCUMENT_FRAGMENT_NODE = 11;\r\n    //   const unsigned short NOTATION_NODE = 12; // historical\r\n    @final\r\n    static get OBJECT_NODE() { return 13 }\r\n\r\n    @final\r\n    static get lca(){ return Node.leastCommonAncestor }\r\n    @final\r\n    static leastCommonAncestor(iterable) {\r\n        if ( !iterable[Symbol.iterator] )\r\n          throw new TypeError(ERR_NOT_ITERABLE)\r\n\r\n        const nodes = new Set([...iterable])\r\n\r\n        if ( ![...nodes].every(node => node instanceof Node) )\r\n          throw new TypeError(ERR_NOT_A_NODE)\r\n\r\n        if ( nodes.size == 1 )\r\n          return [...nodes][0]\r\n\r\n        const paths = []\r\n        nodes.forEach(node => {\r\n            const path = []\r\n\r\n            while ( node ) {\r\n                path.push(node)\r\n                node = node.parentNode\r\n            }\r\n\r\n            paths.push(path)\r\n        })\r\n\r\n        let last = null, candidates\r\n        while ( candidates = new Set([...paths.map(path => path.pop())].filter(v=>!!v)), candidates.size == 1 )\r\n          last = [...candidates][0]\r\n\r\n        return last\r\n    }\r\n\r\n    @final\r\n    static registerType(type) {\r\n        Object.defineProperty(Node, type, { value: ++registerIDX })\r\n        return Node[type]\r\n    }\r\n\r\n    constructor({ name=\"\", type=\"OBJECT_NODE\", value=null } = {}){\r\n        super()\r\n        store.get(this).set(snodename, name && name.toString ? name.toString() : \"\")\r\n        store.get(this).set(snodetype, ( typeof Node[type] == \"number\" ? Node[type] : Node.OBJECT_NODE ))\r\n        this.nodeValue = value\r\n    }\r\n\r\n    @final\r\n    get childNodes(){\r\n        const domchildren = [...store.get(this).get(sdummy).childNodes]\r\n        return domchildren && domchildren.map(dummy => store.get(dummy))\r\n    }\r\n\r\n    @final\r\n    get children(){ return this.childNodes }\r\n\r\n    @final\r\n    get firstChild(){\r\n        const domnode = store.get(this).get(sdummy).firstChild\r\n        return domnode && store.get(domnode)\r\n    }\r\n    @final\r\n    get lastChild(){\r\n        const domnode = store.get(this).get(sdummy).lastChild\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get nextSibling(){\r\n        const domnode = store.get(this).get(sdummy).nextSibling\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get nodeName(){\r\n        return store.get(this).get(snodename)\r\n    }\r\n\r\n    @final\r\n    get nodeType(){\r\n        return store.get(this).get(snodetype)\r\n    }\r\n\r\n    @final\r\n    get nodeValue(){\r\n        return store.get(this).get(snodevalue)\r\n    }\r\n    set nodeValue(v){\r\n        if ( this.nodeValue === null )\r\n          return // cannot change a null value //TODO throw error ?\r\n\r\n        store.get(this).get(sdummy).setAttribute(\"type\", typeOf(v))\r\n        if ( v != null )\r\n          store.get(this).get(sdummy).setAttribute(\"value\", v && v.toString && v.toString() )\r\n        else\r\n          store.get(this).get(sdummy).removeAttribute(\"value\")\r\n        store.get(this).set(snodevalue, v)\r\n    }\r\n\r\n    @final\r\n    get parentNode(){\r\n        const domnode = store.get(this).get(sdummy).parentNode\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get previousSibling(){\r\n        const domnode = store.get(this).get(sdummy).previousSibling\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get rootNode(){ return this.getRootNode() }\r\n\r\n    @final\r\n    get siblings(){\r\n        const domsiblings = store.get(this).get(sdummy).siblings\r\n        return domsiblings && domsiblings.map(dummy => store.get(dummy))\r\n    }\r\n\r\n    @final\r\n    get uid(){\r\n        if ( !store.get(this).has(suid) )\r\n            store.get(this).set(suid, UID.uid())\r\n          return store.get(this).get(suid)\r\n    }\r\n\r\n    @final\r\n    appendChild(node){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        return store.get(parent.appendChild(child))\r\n    }\r\n\r\n    @final\r\n    comparePosition(node){\r\n        const a = store.get(this).get(sdummy)\r\n        const b = store.get(node).get(sdummy)\r\n        return a.comparePosition(b)\r\n    }\r\n\r\n    @final\r\n    contains(node){\r\n        const a = store.get(this).get(sdummy)\r\n        const b = store.get(node).get(sdummy)\r\n        return a.contains(b)\r\n    }\r\n\r\n    @final\r\n    getRootNode(){\r\n        let top = store.get(target).get(sdummy)\r\n\r\n        while ( top.parentNode && store.has(top) )\r\n          top = top.parentNode\r\n\r\n        return store.get(top)\r\n    }\r\n\r\n    @final\r\n    hasChildNodes(){\r\n        return store.get(this).get(sdummy).hasChildNodes()\r\n    }\r\n\r\n    @final\r\n    insertBefore(node, referenceNode){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        const referenceChild = store.get(referenceNode).get(sdummy)\r\n\r\n        return store.get(parent.insertBefore(child, referenceChild))\r\n    }\r\n\r\n    @final\r\n    isEqualNode(node){ //check if node is an instance of the same class as this\r\n        return node instanceof this.constructor\r\n    }\r\n\r\n    @final\r\n    isSameNode(node){ return this === node }\r\n\r\n    @final\r\n    removeChild(node){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        return store.get(parent.removeChild(child))\r\n    }\r\n\r\n    @final\r\n    replaceChild(node, referenceNode){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        const referenceChild = store.get(referenceNode).get(sdummy)\r\n\r\n        return store.get(parent.replaceChild(child, referenceChild))\r\n    }\r\n\r\n    @final\r\n    valueOf(){ return this.nodeValue }\r\n}\r\n","\"use strict\"\r\n\r\nimport ModelChange from \"models/ModelChange\"\r\nimport Node from \"nodes/Node\"\r\nimport store from \"store\"\r\n\r\nexport const sdata = new Object(Symbol(\"data\"))\r\nexport const soverflow = new Object(Symbol(\"overflow\"))\r\nexport const spath = new Object(Symbol(\"path\"))\r\nexport const sseal = new Object(Symbol(\"seal\"))\r\nexport const sstrictseal = new Object(Symbol(\"strictseal\"))\r\nexport const ssymbol = new Object(Symbol(\"symbol\"))\r\nconst starget = new Object(Symbol(\"target\"))\r\nconst sproxy = new Object(Symbol(\"proxy\"))\r\n\r\nconst dispatchUpdate = (model, path) =>\r\n  model.dispatchEvent(new ModelChange(path)) //sync event\r\n\r\nconst xref = new Map\r\nconst proxies = new WeakMap\r\nlet revocable = null\r\n\r\nconst noop = strictlySealed => () => !strictlySealed\r\n\r\nconst revocableMeta = (model, target, path, opts={}) => {\r\n    const traps = {\r\n        get: (target, key) => {\r\n            if ( Reflect.apply(Object.prototype.hasOwnProperty, target, [key]) )\r\n              return target[key]\r\n            return revocableMeta(model, target, [...path, key], opts)\r\n        }\r\n      // TODO make the following compatible with proxy-polyfill\r\n      // , defineProperty:noop(true), deleteProperty:noop(true)\r\n      // , preventExtensions:noop(true)\r\n      , set:noop(true)\r\n    }\r\n\r\n    const { revoke, proxy } = Proxy.revocable(Object.create({}, {\r\n        model: { enumerable: true, configurable:true, value: model }\r\n      , path: { enumerable: true, configurable:true, value: path}\r\n    }), traps)\r\n\r\n    proxies.set(proxy, new WeakMap([\r\n        [starget, target]\r\n      , [sproxy, proxy]\r\n    ]))\r\n\r\n    // if ( revocable )\r\n    //   revocable()\r\n    // revocable = () => setTimeout(() => {\r\n    //     proxies.delete(proxy)\r\n    //     revoke()\r\n    // }, 4)\r\n\r\n    return proxy\r\n}\r\n\r\nconst revocableProxy = (model, target, path, opts={}) => {\r\n    const traps = {\r\n        get: (target, key) => {\r\n        // if the requested property is object like, return a proxy to that object\r\n            if ( target[key] instanceof Object && !target[key].hook )\r\n              return revocableProxy(model, target[key], [...path, key], opts)\r\n        // if requested property is a function, return the result of that function\r\n            else if ( typeof target[key] == \"function\" )\r\n              return Reflect.apply(target[key], model, [])\r\n        // if the requested property is primitive value, return the primitive (no proxy)\r\n            else if ( Reflect.apply(Object.prototype.hasOwnProperty, target, [key]) )\r\n              return target[key]\r\n        // if the current value is object like, and the requested property doesn't exist and the node has a parent\r\n        // push the request to the parent\r\n            else if ( target instanceof Object && model.overflow && model.parentNode  )\r\n              try {\r\n                  let candidate = model.parentNode.io\r\n\r\n                  for ( const curr of [...path, key] )\r\n                    candidate = candidate[curr]\r\n                  return candidate\r\n              } catch(e){} //TODO\r\n\r\n            return undefined\r\n        }\r\n      // TODO make the following compatible with proxy-polyfill\r\n      // , defineProperty: (target, key, descriptor) => {\r\n      //       const rv  = Object.defineProperty(target, key, descriptor)\r\n      //       !opts.silent && dispatchUpdate(model, [...path, key])\r\n      //       return rv // must return true/false depending on success/failure\r\n      //   }\r\n      // , deleteProperty: (target, property) => {\r\n      //       if ( property in target)\r\n      //         delete target[property]\r\n      //       !opts.silent && dispatchUpdate(model, [...path])\r\n      //       return true\r\n      //\r\n      //   }\r\n      , set: (target, key, value) => {\r\n            if ( opts.hook ) {\r\n                if ( typeof value !== \"function\" )\r\n                  return false\r\n\r\n                Object.defineProperties(value, {\r\n                    toJSON: { value: () => undefined }\r\n                  , hook: { value: true }\r\n                })\r\n            }\r\n\r\n            target[key] = value\r\n            !opts.silent && dispatchUpdate(model, [...path, key])\r\n\r\n            return true // return true/false depending on success/failure\r\n        }\r\n    }\r\n\r\n    if ( model.sealed )\r\n      // TODO make the following compatible with proxy-polyfill\r\n      // traps.defineProperty = traps.deleteProperty =\r\n      // traps.preventExtensions =\r\n      traps.set =\r\n      noop(model.strictlySealed)\r\n\r\n    const { revoke, proxy } = Proxy.revocable(target, traps)\r\n    proxies.set(proxy, new WeakMap([\r\n        [starget, target]\r\n      , [sproxy, proxy]\r\n    ]))\r\n\r\n    // if ( revocable )\r\n    //   revocable()\r\n    // revocable = () => setTimeout(() => {\r\n    //     proxies.delete(proxy)\r\n    //     revoke()\r\n    // }, 4)\r\n\r\n    return proxy\r\n}\r\n\r\n// export const events = {\r\n//     modelchange: ModelChange.TYPE\r\n// }\r\n\r\nexport default class Model extends Node {\r\n    static events = {\r\n        change: ModelChange.TYPE\r\n      , modelchange: ModelChange.TYPE\r\n    }\r\n    // static get events(){ return events }\r\n\r\n    static async from(){} // get from a service/ajax call\r\n\r\n    static ref(ref){  return xref.get(Symbol.for(ref)) }\r\n\r\n    static /*proxy*/ get io(){\r\n        const {proxy, revoke} = Proxy.revocable({}, {\r\n            get: (target, key) => {\r\n                const model = xref.get(Symbol.for(key))\r\n                return model.io\r\n            }\r\n        })\r\n\r\n        // if ( revocable )\r\n        //   revocable()\r\n        // revocable = () => setTimeout(revoke, 4)\r\n        return proxy\r\n    }\r\n\r\n    static unmask(proxy){\r\n        if ( !proxies.has(proxy) )\r\n          return null\r\n        return proxies.get(proxy).get(starget)\r\n    }\r\n\r\n    constructor({ref, overflow=true, seal=false, strictseal=false}={}) { // ref can be anything compatible with a map key\r\n        super()\r\n        // define a symbol(uid) ( uid comes from seithr.Node\r\n        // save symbol to model link\r\n        // if a ref is passed, save ref to model link\r\n        store.get(this).set(ssymbol, Symbol.for(this.uid))\r\n        store.get(this).set(soverflow, overflow)\r\n        xref.set(this.valueOf(), this)\r\n        xref.set(store.get(this).get(ssymbol), this)\r\n        if ( ref ) xref.set(Symbol.for(ref), this)\r\n        store.get(this).set(sdata, null)\r\n\r\n        if ( seal || strictseal )\r\n          this.seal(strictseal)\r\n    }\r\n\r\n    async fetch(){} //fetch data from a XMLHttpRequest ( Service )\r\n\r\n    get hook(){\r\n        if ( store.get(this).get(sdata) instanceof Object )\r\n          return revocableProxy(this, store.get(this).get(sdata), [], {hook:true})\r\n        return store.get(this).get(sdata)\r\n    }\r\n\r\n    /* proxy */ get io(){\r\n      if ( store.get(this).get(sdata) instanceof Object )\r\n        return revocableProxy(this, store.get(this).get(sdata), [])\r\n      return store.get(this).get(sdata)\r\n    }\r\n    set io(v){\r\n        store.get(this).set(sdata, v)\r\n        dispatchUpdate(this, [])\r\n    }\r\n\r\n    /* proxy */ get m(){\r\n        return revocableMeta(this, store.get(this).get(sdata), [], {})\r\n    }\r\n    /* proxy */ get meta(){ return this.m }\r\n\r\n    /* proxy */ get silentio(){ return revocableProxy(this, store.get(this).get(sdata), [], {silent:true}) }\r\n    set silentio(v){ store.get(this).set(sdata, v) }\r\n\r\n    get overflow(){ return store.get(this).get(soverflow) }\r\n    set overflow(bool){ store.get(this).set(soverflow, !!bool) }\r\n\r\n    seal(strict){\r\n        store.get(this).set(sseal, true)\r\n        store.get(this).set(sstrictseal, !!strict)\r\n    }\r\n    get sealed(){ return !!store.get(this).get(sseal) }\r\n    get strictlySealed(){ return this.sealed && !!store.get(this).get(sstrictseal) }\r\n\r\n    toJSON(){ return JSON.parse(JSON.stringify(store.get(this).get(sdata))) } //prevent access to raw object via toJSON()\r\n    toString(){ return this.valueOf() }\r\n    valueOf(){ return Symbol.keyFor(store.get(this).get(ssymbol)) }\r\n}\r\n","\"use strict\"\r\n\r\nimport { bound, final, frozen } from \"decorators\"\r\nimport { ERR_STRING_EXPECTED } from \"errors\"\r\nimport Model from \"models/Model\"\r\nimport Event from \"events/Event\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\n\r\nconst sdomain = new Object(Symbol(\"domain\"))\r\nconst sexpires = new Object(Symbol(\"expires\"))\r\nconst sfrombrowser = new Object(Symbol(\"frombrowser\"))\r\nconst spath = new Object(Symbol(\"path\"))\r\nconst sname = new Object(Symbol(\"name\"))\r\nconst ssession = new Object(Symbol(\"session\"))\r\n\r\nconst LIFESPAN = 15552000000\r\nexport const TOP_DOMAIN = (() => {\r\n    const cookiestr = \"__seithrtest=testcookie\"\r\n    const cookie = domain => {\r\n        document.cookie = cookiestr+\"; domain=\"+domain\r\n\r\n        if ( document.cookie.indexOf(cookiestr) != -1 ) {\r\n            document.cookie = cookiestr+\"; domain=\"+domain+\"; expires=\" + new Date( +(new Date) - 1000 ).toUTCString()\r\n            return true\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    const split = location.hostname.split(\".\")\r\n\r\n    let curr = \"\"\r\n    let i = split.length\r\n    let hit = false\r\n\r\n    while (i--)\r\n      if ( curr == split.slice(i).join(\".\"), hit = cookie(curr), hit )\r\n        return curr\r\n})()\r\n\r\nexport class Sync extends Event {\r\n    static get TYPE(){ return \"cookiesync\" }\r\n\r\n    constructor(from_browser=false){\r\n        super(Sync.TYPE)\r\n        store.get(this).set(sfrombrowser, from_browser)\r\n    }\r\n\r\n    get source(){ return store.get(this).get(sfrombrowser) ? \"browser\" : \"model\" }\r\n}\r\n\r\nexport default class Cookie extends Model {\r\n    @frozen\r\n    static events = {\r\n        sync: Sync.TYPE\r\n    }\r\n    //static get events(){ return { Sync } }\r\n    static get COOKIE_ENABLED(){ return navigator.cookieEnabled }\r\n    static get TOP_DOMAIN(){ return TOP_DOMAIN }\r\n\r\n    constructor({ name=null, path=\"/\", domain=Cookie.TOP_DOMAIN, expires, maxAge, session=false } = {}){\r\n        super()\r\n\r\n        if ( typeOf(name) != \"string\" )\r\n          throw new Error(ERR_STRING_EXPECTED)\r\n\r\n        store.get(this).set(sdomain, typeOf(domain) == \"string\" ? domain : Cookie.TOP_DOMAIN)\r\n        store.get(this).set(sexpires, !!session ? \"\"\r\n                                    : !isNaN( +(new Date(expires)) ) ? new Date(expires).toUTCString()\r\n                                    : new Date( +(new Date) + (+maxAge||LIFESPAN) ).toUTCString())\r\n        store.get(this).set(sname, name)\r\n        store.get(this).set(spath, typeOf(path) == \"string\" ? path : \"/\")\r\n        store.get(this).set(ssession, !!session)\r\n\r\n        this.sync(true)\r\n\r\n        window.addEventListener(\"focus\", e => this.sync(true))\r\n        this.addEventListener(Model.events.change, () => this.sync(false))\r\n    }\r\n\r\n    get COOKIE_ENABLED(){ return Cookie.COOKIE_ENABLED }\r\n    get TOP_DOMAIN(){ return Cookie.TOP_DOMAIN }\r\n\r\n    get domain(){ return store.get(this).get(sdomain) }\r\n    get expires(){ return store.get(this).get(sexpires) }\r\n    get path(){ return store.get(this).get(spath) }\r\n    get name(){ return store.get(this).get(sname) }\r\n    get session(){ return store.get(this).set(ssession) }\r\n\r\n    @final\r\n    clear(){\r\n        this.io = null\r\n    }\r\n\r\n    @final\r\n    sync(from_browser=false){\r\n        if ( from_browser ) {\r\n            const exists = document.cookie.match(store.get(this).get(sname)+\"=([^;]*)\")\r\n            let data\r\n\r\n            try {\r\n                if ( exists )\r\n                  data = JSON.parse(unescape(exists[1]))\r\n                else\r\n                  data = {}\r\n            } catch(e) {\r\n                console.error(e)\r\n                data = {}\r\n            }\r\n\r\n            this.io = data\r\n            this.dispatchEvent(new Sync(true))\r\n            return\r\n        }\r\n\r\n        const string = escape(JSON.stringify(this))\r\n\r\n        if ( string.length )\r\n          document.cookie = [this.name, \"=\", string, \"; domain=\", this.domain, \"; path=\", this.path, \";\", this.session?\"\":\"expires=\"+this.expires+\";\"].join(\"\")\r\n        else\r\n          document.cookie = [this.name, \"=0; domain=\", this.domain, \"; path=\", this.path, \"; expires=\", new Date( +(new Date) - 1000 ).toUTCString(), \";\"].join(\"\")\r\n\r\n        this.dispatchEvent(new Sync(false))\r\n        return\r\n    }\r\n\r\n\r\n}\r\n","\"use strict\"\n\nimport store from \"store\"\n\nconst hookedprops = new WeakMap\nconst defaulthandler = function(v){\n    return [{ property: this.property, value: v }]\n}\n\nexport default class CSSHook {\n    static getHook(property){\n        if ( hookedprops.has(property) )\n          return [...hookedprops.get(property)]\n        else return [{transform: defaulthandler.bind({property})}]\n    }\n\n    constructor(property, propertyHandler=defaulthandler){\n        if ( typeOf(property) !== \"string\" )\n          throw new TypeError(ERR_STRING_EXPECTED)\n        if ( typeOf(prophandler) !== \"function\" )\n          throw new TypeError(ERR_FN_EXPECTED)\n\n        store.set(this, new WeakMap)\n        store.get(this).set(sproperty, property)\n        store.get(this).set(sprophandler, propertyHandler)\n    }\n\n    get property(){ return store.get(this).get(sproperty) }\n\n    transform(v){\n        return Reflect.apply(store.get(this).get(sprophandler), this, v)\n    }\n}\n","\"use strict\"\n\nimport store from \"store\"\n\nconst  def_delimiter = \"=\"\nconst def_separator = \"&\"\nconst def_key_separator = \".\"\nconst rspacetoplus = /%20/g\nconst rplustospace = /\\+/g\n\nconst sdelimiter = new Object(Symbol())\nconst sseparator = new Object(Symbol())\n\nexport default class Serializer {\n    static objectify(string=\"\"){\n        const object = {}\n        const del = this && this.delimiter  || def_delimiter\n        const sep = this && this.separator  || def_separator\n\n        void (string.search(sep) != -1 ? string.split(sep) : string.length ? [string] : [])\n          .forEach(pair => {\n                pair = pair.replace(rplustospace, \"%20\")\n                const idx = pair.indexOf(del)\n                const key = unescape(pair.split(del, 1)[0])\n                const value = decodeURIComponent(pair.slice(idx+1))\n                object[key.trim()] = idx != -1 ? value : true\n          })\n\n        return object\n    }\n\n    static serialize(object){\n        const del = this && this.delimiter  || def_delimiter\n        const sep = this && this.separator  || def_separator\n\n        return [\n          ...Object.keys(object)\n              .map(key => `${escape(key)}${del}${encodeURIComponent(object[key])}`)\n        ].join(sep).replace(rspacetoplus, \"+\")\n    }\n\n    static stringify(object){\n        const del = this && this.delimiter  || def_delimiter\n        const sep = this && this.separator  || def_separator\n\n        return [\n          ...Object.keys(object)\n              .map(key => `${key}${del}${object[key]}`)\n        ].join(sep)\n    }\n\n    constructor({ delimiter=def_delimiter, separator=def_separator } = {}){\n        store.set(this, new WeakMap)\n        store.get(this).set(sdelimiter, delimiter)\n        store.get(this).set(sseparator, separator)\n    }\n\n    get delimiter(){ return store.get(this).get(sdelimiter) }\n    get separator(){ return store.get(this).get(sseparator) }\n\n    objectify(string){ return Reflect.apply(Serializer.objectify, this, [string]) }\n    serialize(object){ return Reflect.apply(Serializer.serialize, this, [object]) }\n    stringify(object){ return Reflect.apply(Serializer.stringify, this, [object]) }\n}\n","\"use strict\"\n\nimport { ERR_STRING_EXPECTED, ERR_FN_EXPECTED } from \"errors\"\nimport CSSHook from \"css/CSSHook\"\nimport Event from \"events/Event\"\nimport Node from \"nodes/Node\"\nimport Serializer from \"serializers/Serializer\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nimport { sdummy } from \"events/EventTarget\"\nconst scssrule = new Object(Symbol())\nconst sproperty = new Object(Symbol())\nconst sprophandler = new Object(Symbol())\nconst sselectortext = new Object(Symbol())\n\nclass CSSRuleEvent extends Event {\n    static get TYPE(){ return \"cssruleevent\" }\n\n    constructor(type, {cssRule, from, to}){\n        super(type||CSSRuleEvent.TYPE)\n        store.get(this).set(scssrule, cssRule)\n    }\n\n    get cssRule(){ return store.get(this).get(scssrule) }\n}\n\nexport class Reset extends CSSRuleEvent {\n    static get TYPE(){ return \"reset\" }\n    constructor({ cssRule, from, to }){\n        super(Reset.TYPE, { cssRule, from, to })\n    }\n}\n\nexport class TextUpdate extends CSSRuleEvent {\n    static get TYPE(){ return \"textupdate\" }\n    constructor({ cssRule, from, to }){\n        super(TextUpdate.TYPE, { cssRule, from, to })\n    }\n}\n\nexport class SelectorUpdate extends CSSRuleEvent {\n    static get TYPE(){ return \"selectorupdate\" }\n    constructor({ cssRule, from, to }){\n        super(SelectorUpdate.TYPE, { cssRule, from, to })\n    }\n}\n\nconst rcssparse = /(?:\\s|$)*([^{]*)(?:\\s|$)*{(.*)}(?:\\s|$)*/\nconst serializer = new Serializer({ delimiter: \":\", separator: \";\" })\n\nexport default class CSSRule extends Node {\n    static events = {\n        reset: Reset.TYPE\n      , textupdate: TextUpdate.TYPE\n      , SelectorUpdate: SelectorUpdate.TYPE\n    }\n    //static get events(){ return { Reset, TextUpdate, SelectorUpdate} }\n\n    static objectifyCssText(string){ return serializer.objectify(string) }\n    static serializeCssText(object){ return serializer.stringify(object)  }\n    static hook(property, propertyHandler){ return new CSSHook(property, propertyHandler) }\n\n    constructor(...args){\n        super()\n\n        let fromstr = false\n\n        store.get(this).set(sselectortext, args.length > 1 && typeOf(args[0]) == \"string\" && isNaN(+args[0]) ? args.shift()\n                      : args.length == 1 && typeOf(args[0]) == \"string\" ? (fromstr = true, (rcssparse.exec(args[0])||[])[1]||\"\")\n                      : (fromstr = true, args.shift(), (rcssparse.exec(args[0])||[])[1]||\"\"))\n\n        this.cssText = fromstr ? (rcssparse.exec(args.pop())||[])[2]||\"\"\n                     : typeOf(args[args.length-1]) == \"string\" ? args.pop()\n                     : typeOf(args[args.length-1]) == \"object\" ? CSSRule.serializeCssText(args.pop())\n                     : \"\"\n    }\n\n    get cssText(){ return store.get(this).get(sdummy).style.cssText }\n    set cssText(v){\n        const from = store.get(this).get(sdummy).style.cssText\n        store.get(this).get(sdummy).style.cssText = \"\"\n\n        const props = CSSRule.objectifyCssText(v)\n        Object.keys(props).forEach(k => this.setProperty(k, props[k]))\n        const to = store.get(this).get(sdummy).style.cssText\n\n        if ( from !== to )\n          this.dispatchEvent(new Reset({ cssRule:this, from, to }))\n    }\n    get selectorText(){ return store.get(this).get(sselectortext) }\n    set selectorText(to){\n        const from = this.selectorText\n        store.get(this).set(sselectortext, to)\n\n        if ( from && from !== \"null\" && from !== to )\n          this.dispatchEvent(new SelectorUpdate({ cssRule: this, from, to }))\n    }\n\n    getProperty(...args){\n        return Reflect.apply(CSSStyleDeclaration.prototype.getPropertyValue, store.get(this).get(sdummy).style, args)\n    }\n\n    setProperty(prop, value){\n        const from = this.getProperty(prop)\n\n        CSSHook.getHook(prop)\n          .forEach(({transform}) => {\n              transform(value)\n                .forEach(({property, value})=>{\n                    store.get(this).get(sdummy).style.setProperty(property, value)\n\n                    const to = this.getProperty(prop)\n\n                    if ( from !== to )\n                      this.dispatchEvent(new TextUpdate({ cssRule:this, from, to }))\n                })\n          })\n    }\n\n    toString(){\n        return `${this.selectorText}{${this.cssText}}`\n    }\n\n}\n","\"use strict\"\n\nimport { ERR_CSSTEXT } from \"errors\"\nimport Event from \"events/Event\"\nimport CSSRule from \"css/CSSRule\"\nimport Node from \"nodes/Node\"\nimport store from \"store\"\n\nconst rconditional = /^\\@(document|supports|media)([^\\{]*)\\{(.*)\\}/i\nconst updaters_text = new WeakMap\n\nconst sactive = new Object(Symbol())\nexport const sadd = new Object(Symbol())\nconst satsheet = new Object(Symbol())\nconst sbasecsstext = new Object(Symbol())\nconst sbufferrules = new Object(Symbol())\nconst sconditiontext = new Object(Symbol())\nexport const sremove = new Object(Symbol())\nconst srules = new Object(Symbol())\nconst ssync = new Object(Symbol())\nconst stype = new Object(Symbol())\n\nexport default class CSSConditionalRule extends Node {\n    constructor(condition = \"\"){\n        super()\n\n        const atrule = rconditional.exec(condition)\n        const type = atrule[1]\n        const conditionText = atrule[2]\n        const cssText = atrule[3]\n\n        if ( !type || !conditionText )\n          throw new TypeError(ERR_CSSTEXT)\n\n        store.set(this, new WeakMap)\n        store.get(this).set(stype, type)\n        store.get(this).set(sconditiontext, conditionText)\n        store.get(this).set(sbasecsstext, cssText.trim())\n\n        store.get(this).set(ssync, false)\n        store.get(this).set(srules, [])\n        store.get(this).set(sbufferrules, [])\n        store.get(this).set(satsheet, [])\n        store.get(this).set(sadd, rule => {\n            store.get(this).get(satsheet).push(rule)\n            store.get(this).set(sactive, true)\n            this.insertRule(store.get(this).get(sbufferrules))\n        })\n        store.get(this).set(sremove, rule => {\n            let idx = store.get(this).get(satsheet)\n\n            if ( idx !== -1 )\n              store.get(this).get(satsheet).splice(idx, 1)\n\n            if ( !store.get(this).get(satsheet).length )\n              store.get(this).set(sactive, false)\n        })\n    }\n\n    get condition(){ return store.get(this).get(stype) }\n    get conditionText(){ return store.get(this).get(sconditiontext) }\n    get cssText(){\n        if ( store.get(this).get(sactive) )\n          return store.get(this).get(satsheet)[0].cssText\n        return store.get(this).get(sbasecsstext)\n    }\n\n    deleteRule(...args){\n        const rules = args && args[0][Symbol.iterator] ? args.shift()\n                    : args.length ? args\n                    : []\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : null\n\n            if ( !rule )\n              return\n\n            if ( !store.get(this).get(sactive) ) {\n                let idx\n\n                while ( idx = store.get(this).get(sbufferrules).indexOf(rule), idx !== -1 )\n                  store.get(this).get(sbufferrules).splice(idx, 1)\n            }\n\n            else {\n                if ( is_rule ) {\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        let idx = -1\n\n                        while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 )\n                          cond_rule.deleteRule(idx),\n                          store.get(this).get(srules).splice(idx, 1)\n\n                        while ( idx = store.get(this).buffer_rules.indexOf(rule), idx != -1 )\n                          store.get(this).get(sbufferrules).splice(idx, 1)\n                    })\n\n                    if ( updaters_text.has(rule) )\n                        rule.removeEventListener(cssRule.events.textupdate, updaters_text.get(rule)),\n                        updaters_text.delete(rule)\n                } else if ( is_conditional ){\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        let idx = -1\n                        while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 ) {\n                            store.get(rule).get(sremove)( cond_rule.cssRules[idx] )\n                            cond_rule.deleteRule(idx)\n                            store.get(this).get(srules).splice(idx, 1)\n                        }\n\n                        while ( idx = store.get(this).get(sbufferrules).indexOf(rule), idx != -1 )\n                          store.get(this).get(sbufferrules).splice(idx, 1)\n                    })\n                }\n            }\n        })\n    }\n\n    insertRule(...args){\n        const rules = args && args[0][Symbol.iterator] ? args.shift()\n                    : args.length ? args\n                    : []\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : (is_rule = true, new CSSRule(rule))\n\n            store.get(this).get(sbufferrules).push(rule)\n\n            if ( store.get(this).get(sactive) ) {\n                if ( is_rule ) {\n                    let idx = -1\n\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        if ( idx == -1 )\n                          idx = cond_rule.cssRules.length,\n                          store.get(this).get(srules)[idx] = rule\n\n                        cond_rule.insertRule(rule.toString(), idx)\n                    })\n\n                    if ( !updaters_text.has(rule) )\n                      updaters_text.set(rule, ({cssRule}) => {\n                          store.get(this).get(satsheet).forEach(cond_rule => {\n                              let idxs = []\n                              store.get(this).get(srules).forEach((rule, idx) => {\n                                  if ( rule === cssRule ) idxs.push(idx)\n                              })\n                              idxs.forEach(idx => cond_rule.cssRules[idx].style.cssText = cssRule.cssText)\n                          })\n                      })\n\n                    rule.addEventListener(CSSRule.events.textupdate, updaters_text.get(rule))\n                }\n                else if ( is_conditional ){\n                    let idx = -1\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        if ( idx == -1 )\n                            idx = cond_rule.cssRules.length,\n                            store.get(this).get(srules)[idx] = rule\n\n                        cond_rule.insertRule(rule.toString(), idx)\n                        store.get(rule).get(sadd)( cond_rule.cssRules[idx] )\n                    })\n                }\n\n            }\n        })\n    }\n\n    toString(){ return `@${this.condition}${this.conditionText}{${this.cssText}}` }\n}\n","\"use strict\"\n\nimport { ERR_CSSTEXT } from \"errors\"\nimport CSSConditionalRule from \"css/CSSConditionalRule\"\n\nconst rconditional = /^\\@media([^\\{]*)\\{(.*)\\}/i\nexport default class CSSMediaRule extends CSSConditionalRule {\n    constructor(condition = \"\"){\n        if ( !rconditional.exec(condition) )\n          throw new TypeError(ERR_CSSTEXT)\n\n        super(condition)\n    }\n}\n","\"use strict\"\n\nconst gather = () => Object.seal({\n    nodes: {\n        documentElement: document.documentElement\n      , head: document.head\n      , title: function(){\n          const node = document.head.getElementsByTagName(\"title\")[0]\n\n          if ( node )\n            return node\n          return document.head.appendChild(document.createElement(\"title\"))\n        }()\n      , viewport: function(){\n            let node = document.head.querySelector(\"meta[name=viewport]\")\n\n            if ( node )\n              return node\n\n            node = document.createElement(\"meta\")\n            node.setAttribute(\"name\", \"viewport\")\n            node.setAttribute(\"content\", \"\")\n\n            return document.head.appendChild(node)\n        }()\n      , body: document.body\n    }\n})\n\nconst ready = new Promise(resolve => {\n    let ready = false\n\n    const onready = () => {\n        if ( ready ) return\n        if ( !document.body ) return setTimeout(onready, 4)\n\n        ready = true\n        resolve(gather())\n    }\n\n    const isready = () => \"interactive, complete\".indexOf(document.readyState) != -1 ? (onready(), true) : false\n\n    if ( !isready() )\n      window.addEventListener(\"DOMContentLoaded\", onready, true),\n      window.addEventListener(\"load\", onready, true),\n      document.addEventListener(\"readystatechange\", isready, true)\n})\n\nexport default (async () => await ready)()\n","\"use strict\"\n\nconst dummy = document.createElement(\"a\")\nexport default path => {\n    dummy.href = path\n\n    return dummy.hostname === location.hostname\n         ? true\n         : !dummy.hostname ? true // ie/edge doesn't set the hostname if not \"necessary\"\n         : false\n}\n","\"use strict\"\r\n\r\nimport { ERR_READYSTATEFUL_NOT_IMPLEMENTED } from \"errors\"\r\nimport Event from \"events/Event\"\r\nimport store from \"store\"\r\n\r\nexport const sfrom = new Object(Symbol(\"from\"))\r\nexport const sreadystate = new Object(Symbol(\"readystate\"))\r\nexport const sto = new Object(Symbol(\"to\"))\r\n\r\nexport class ReadyStateChange extends Event {\r\n    static TYPE = \"readystatechange\"\r\n\r\n    constructor({ from, to }) {\r\n        super(ReadyStateChange.type, { bubbles: true, cancelable: false })\r\n        store.get(this).set(sfrom, from)\r\n        store.get(this).set(sto, to)\r\n    }\r\n\r\n    get from() { return store.get(this).get(sfrom) }\r\n    get to() { return store.get(this).get(sto) }\r\n}\r\n\r\nexport default class ReadyStateFul {\r\n    static events = {\r\n        readystatechange: ReadyStateChange.TYPE\r\n    }\r\n\r\n    static get UNINITIALIZED() { return 0b0 }\r\n    static get [0b0]() { return \"UNINITIALIZED\" }\r\n    static readyStateChange(rsf, to) {\r\n        if ( !(rsf instanceof ReadyStateFul) )\r\n          throw new TypeError(ERR_READYSTATEFUL_NOT_IMPLEMENTED)\r\n        const from = rsf.readyState || ReadyStateFul.UNINITIALIZED\r\n        store.get(rsf).set(sreadystate, to)\r\n        rsf.dispatchEvent(new ReadyStateChange({ from, to }))\r\n    }\r\n\r\n    get readyState() { return store.get(this).get(sreadystate) || ReadyStateFul.UNINITIALIZED }\r\n}\r\n","\"use strict\"\n\nimport { ERR_GENERATOR_EXPECTED } from \"errors\"\nimport store from \"store\"\n\nexport default async (generatorFn) => {\n    const typeOf = Reflect.apply(Object.prototype.toString, generatorFn, []).slice(8, -1)\n\n    const generator = typeOf === \"GeneratorFunction\" ? generatorFn()\n              : typeOf === \"Generator\" ? generatorFn\n              : new TypeError(ERR_GENERATOR_EXPECTED)\n\n    return new Promise(resolve => {\n        if ( generator instanceof Error )\n          throw generator\n\n        store.set(generatorFn, true)\n        const onframe = () => {\n            if ( store.get(generatorFn) === false ) {\n                store.delete(generatorFn)\n                return resolve(null)\n            }\n\n            const { value, done } = generator.next()\n\n            if ( !done ) requestAnimationFrame(onframe)\n            else {\n              resolve(value)\n              store.delete(generatorFn)\n            }\n        }\n        requestAnimationFrame(onframe)\n    })\n}\n","\"use strict\"\n\nimport { ERR_FN_EXPECTED, ERR_STRING_EXPECTED } from \"errors\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nconst scancelable = new Object(Symbol())\nconst scancelled = new Object(Symbol())\nconst sdetail = new Object(Symbol())\nexport const shrt = new Object(Symbol())\nexport const smatches = new Object(Symbol())\nconst spath = new Object(Symbol())\nconst sresponse = new Object(Symbol())\nconst srequest = new Object(Symbol())\nexport const sstate = new Object(Symbol(\"state\"))\nexport const starget = new Object(Symbol())\nexport const stimestamp = new Object(Symbol())\nconst swait = new Object(Symbol())\n\nexport default class Route {\n    static get states(){\n        return Object.seal({\n            UNINITIALIZED: 0\n          , INITIALIZED: 1\n          , PAUSED: 2\n          , STOPPED: 3\n          , RUNNING: 4\n        })\n    }\n\n    constructor(path, {cancelable=true, request=null, response=null, detail=null} = {}){\n        store.set(this, new WeakMap)\n\n        if ( typeOf(path) != \"string\" )\n          throw new TypeError(ERR_STRING_EXPECTED)\n        store.get(this).set(spath, path)\n        store.get(this).set(sdetail, detail)\n        store.get(this).set(sresponse, response)\n        store.get(this).set(srequest, request)\n\n        store.get(this).set(scancelable, !!cancelable)\n        store.get(this).set(sstate, Route.states.INITIALIZED)\n        store.get(this).set(stimestamp, null)\n\n    }\n\n    get cancelable(){ return store.get(this).get(scancelable) }\n    get cancelled(){ return store.get(this).get(scancelled) || false }\n    set cancelled(v){ store.get(this).set(scancelled, !!v) }\n    get detail(){ return store.get(this).get(sdetail) }\n    get hirestimestamp(){ return store.get(this).get(shrt) }\n    get hrt(){ return this.hirestimestamp }\n    get matches(){ return store.get(this).get(smatches) }\n    get path(){ return store.get(this).get(spath) }\n    get response(){ return store.get(this).get(sresponse) }\n    get request(){ return store.get(this).get(srequest) }\n    get state(){ return store.get(this).get(sstate) || Route.states.UNINITIALIZED }\n    get target(){ return store.get(this).get(starget) }\n    get timestamp(){ return store.get(this).get(stimestamp) }\n\n\n    preventDefault(){ return this.cancelled = true }\n\n    async wait(fn){\n        if ( typeOf(fn) == \"function\" ) {\n          store.get(this).set(sstate, Route.states.PAUSED)\n          store.get(this).set(swait, new Promise(resolve => fn(resolve))\n          .then(() => {\n              store.get(this).set(sstate, Route.states.INITIALIZED)\n              store.get(this).delete(swait)\n          }))\n        }\n\n        return await (store.get(this).get(swait) || Promise.resolve() )\n    }\n\n}\n","\"use strict\"\n\nimport { ERR_NOTROUTE, ERR_ROUTE_BUSY, WARN_LATE_NEXT } from \"errors\"\nimport Event from \"events/Event\"\nimport EventTarget from \"events/EventTarget\"\nimport Route from \"routing/Route\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nimport { shrt, smatches, sstate, starget, stimestamp } from \"./Route.mjs\"\n\nconst shits = new Object(Symbol())\n\nconst bundleHandlers = ({routes}) => {\n    const wildcards = []\n    const handlers = []\n\n    for ( let [path, handler] of routes ) {\n        if ( RouteDispatcher.isRouteHandler(handler) )\n          if ( path === \"*\" )\n            wildcards.push([path, handler])\n          else\n            handlers.push([path, handler])\n\n        if ( typeOf(handler) == \"array\" )\n          handler.forEach(function(handler){\n              if ( RouteDispatcher.isRouteHandler(handler) )\n                if ( path === \"*\" )\n                  wildcards.push([path, handler])\n                else\n                  handlers.push([path, handler])\n          })\n    }\n\n    return [...wildcards, ...handlers]\n}\n\nconst cache = Object.create(null)\n\nconst getRule = str => {\n    if ( !cache[str] )\n      if ( str.indexOf(\":\") == -1 )\n        cache[str] = new RegExp(\"^\"+str+\"$\", \"i\")\n      else {\n        const assignments = []\n        const regexp = []\n        const split = []\n        const join = []\n        let pile = \"\"\n\n        for ( let i = 0, l = str.length; i <= l; i++ )\n          void function(char){\n              if ( i === l ) {\n                  if ( pile.length )\n                    split.push(pile)\n              }\n              else if ( char === \"/\")\n                split.push(pile),\n                join.push(char),\n                pile = \"\"\n              else if ( char === \".\" && str[i+1] === \":\" )\n                split.push(pile),\n                join.push(char),\n                pile = \"\"\n              else\n                pile += char\n          }( str[i] )\n\n        while ( split.length )\n          void function(){\n              const part = split.shift()\n              const joiner = join.shift()\n              let match\n\n              if ( part[0] === \":\" ) {\n\n                if ( match = part.match(/^:(\\w+)(\\(.*\\))$/), match ) {\n                  assignments.push(match[1])\n                  regexp.push(match[2])\n                } else {\n                  assignments.push(part.slice(1))\n                  regexp.push(\"([^\\\\\"+(joiner||\"\\/\")+\"]*)\")\n                }\n\n              } else {\n                regexp.push(part)\n              }\n\n              joiner && regexp.push(\"(?:\\\\\"+joiner+\")\")\n          }()\n\n        cache[str] = new RegExp(\"^\"+regexp.join(\"\")+\"$\", \"i\")\n        cache[str].assignments = assignments\n      }\n\n    return cache[str]\n}\n\nconst dispatcher = function(route, path){\n    const rule = getRule(path)\n    const match = route.path.match(rule)\n\n    if ( !match )\n      return false\n\n    if ( match.length == 1 || !rule.assignments )\n      return true\n\n    return function(){\n        for ( let i = 0, l = rule.assignments.length ; i < l; i++ )\n          route.matches[rule.assignments[i]] = match[i+1]\n\n        return route\n    }()\n}\n\nconst nexts = new WeakMap\n\nexport class Routing extends Event {\n    static get TYPE(){ return \"routing\" }\n\n    constructor(hit){\n        super(Routing.TYPE)\n        store.get(this).set(shits, hit)\n    }\n\n    get count(){ return store.get(this).get(shits) }\n}\n\nexport default class RouteDispatcher extends EventTarget {\n    static isRouteHandler(o){ return !!o && (typeOf(o) == \"function\" || typeOf(o.handleRoute) == \"function\" ) }\n\n    constructor({ route, target }){\n        super()\n\n        if ( !(route instanceof Route) )\n          throw new TypeError(ERR_NOTROUTE)\n\n        if ( route.state !== Route.states.INITIALIZED )\n          throw new Error(ERR_ROUTE_BUSY)\n\n        store.get(this).set(shits, 0)\n\n        store.get(route).set(sstate, Route.states.RUNNING)\n        store.get(route).set(starget, target)\n        store.get(route).set(smatches, {})\n        store.get(route).set(stimestamp, Date.now())\n        store.get(route).set(shrt, performance.now())\n\n        const handlers = bundleHandlers(target)\n\n        const onstop = () => {\n            store.get(route).set(sstate, Route.states.INITIALIZED)\n            this.dispatchEvent(new Routing(store.get(this).get(shits)) )\n        }\n\n        const dispatchLoop = function*(){\n            while ( !!handlers.length ) {\n                if ( route.state === Route.states.STOPPED )\n                  return\n                store.get(route).set(sstate, Route.states.RUNNING)\n\n                const [path, handler] = handlers.shift()\n\n                yield new Promise((resolve, reject) => {\n                    const match = path === \"*\" || dispatcher(route, path)\n\n                    if ( !match )\n                      return resolve(0)\n\n                    let hit = path === \"*\" ? 0 :  1\n                    let stop = path === \"*\" ? false : true\n\n                    let next = is_hit => {\n                        nexts.set(route, () => console.warn(WARN_LATE_NEXT)) //can only be invoked once and during the turn of the exec time of the handler\n\n                        stop = false\n                        if ( typeOf(is_hit) == \"boolean\" )\n                          hit = !!is_hit ? 1 : 0\n                    }\n\n                    nexts.set(route, next)\n                    const nextProxy = (...args) => Reflect.apply(nexts.get(route), null, args)\n\n                    if ( handler.handleRoute )\n                      handler.handleEvent.call(handler, route, nextProxy)\n                    else\n                      handler.call(null, route, nextProxy)\n\n                    const onend =  () => {\n                        nexts.set(route, () => console.warn(WARN_LATE_NEXT)) //can only be invoked once and during the turn of the exec time of the handler\n\n                        if ( stop )\n                          store.get(route).set(sstate, Route.states.STOPPED)\n\n                        resolve(hit)\n                    }\n\n                    if ( route.state === Route.states.PAUSED )\n                      route.wait().then(onend)\n                    else onend()\n                })\n            }\n        }.call(this)\n\n        const next = () => {\n            const iteration = dispatchLoop.next()\n\n            if ( iteration.done )\n              return onstop()\n            else\n              iteration.value\n              .then(hit => {\n                  store.get(this).set(shits,  store.get(this).get(shits) + hit)\n                  next()\n              })\n        }\n\n        next()\n    }\n\n}\n","\"use strict\"\n\nimport { ERR_RHANDLER, ERR_STRING_EXPECTED } from \"errors\"\n\nimport Node from \"nodes/Node\"\nimport Route from \"routing/Route\"\nimport RouteDispatcher from \"routing/RouteDispatcher\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nconst sroutes = new Object(Symbol())\n\nexport default class Router extends Node {\n    static get isRouteHandler(){ return RouteDispatcher.isRouteHandler }\n\n    constructor(){\n        super()\n        store.get(this).set(sroutes, new Map)\n    }\n\n    get routes(){ return new Map(store.get(this).get(sroutes)) }\n\n    addRouteHandler(path=null, handler=Function.prototype){\n        if ( arguments.length > 1 && typeOf(path) == \"array\") {\n            let count = 0\n\n            for ( path of arguments[0] )\n              count += 1, this.addRouteHandler(path, handler)\n\n            return count\n        }\n\n        if ( typeOf(path) != \"string\" )\n          throw new TypeError(ERR_STRING_EXPECTED)\n\n        if ( !Router.isRouteHandler(handler) )\n          throw new TypeError(ERR_RHANDLER)\n\n        if ( typeOf(store.get(this).get(sroutes).get(path)) == \"array\" )\n          store.get(this).get(sroutes).get(path).push(handler)\n        else if ( Router.isRouteHandler(store.get(this).get(sroutes).get(path)) )\n          store.get(this).get(sroutes).set(path, [store.get(this).get(sroutes).get(path), handler])\n        else\n          store.get(this).get(sroutes).set(path, handler)\n\n        return 1\n    }\n\n    dispatchRoute(route, request){\n        route = route instanceof Route ? route : new Route(route, { request })\n\n        return new RouteDispatcher({ route, target: this })\n    }\n\n    removeRouteHandler(path = null, handler=Function.prototype){\n        if ( arguments.length > 1 && typeOf(path) == \"array\") {\n            let count = 0\n\n            for ( path of arguments[0] )\n              count += 1, this.addRouteHandler(path, handler)\n\n            return count\n        }\n\n        if ( typeOf(store.get(this).get(sroutes).get(path)) == \"array\" ) {\n            let count = 0\n            let idx = -1\n\n            while ( idx = store.get(this).get(sroutes).get(path).indexOf(handler), idx = -1 )\n              count += 1, store.get(this).get(sroutes).get(path).splice(idx, 1)\n\n            switch ( store.get(this).get(sroutes).get(path).length ) {\n                case 0:\n                  store.get(this).get(sroutes).delete(path)\n                  break\n                case 1:\n                  store.get(this).get(sroutes).set(path, store.get(this).get(sroutes).get(path)[0])\n                  break\n            }\n\n            return count\n        }\n\n        if ( store.get(this).get(sroutes).get(path) === handler ) {\n            store.get(this).get(sroutes).delete(path)\n            return 1\n        }\n\n        return 0\n    }\n\n}\n","\"use strict\"\n\nimport store from \"store\"\n\nexport default Class => {\n\n    const Singleton = function(){\n        return function(...args){\n            if ( store.has(Class) )\n              return store.get(Class)\n\n            const singleton = new Class(...args)\n            store.set(Class, singleton)\n            return singleton\n        }\n    }(Class)\n\n    void [\n        ...Object.getOwnPropertyNames(Class)\n      , ...Object.getOwnPropertySymbols(Class)\n    ].forEach(staticProperty => {\n      if (  (Object.getOwnPropertyDescriptor(Singleton, staticProperty)||{configurable:true}).configurable )\n        Object.defineProperty(Singleton, staticProperty, Object.getOwnPropertyDescriptor(Class, staticProperty))\n    })\n\n    return Singleton\n}\n","\"use strict\"\n\nimport Model from \"models/Model\"\nimport Node from \"nodes/Node\"\nimport Parser from \"views/ZParser\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\nimport UID from \"uids/UID\"\n\nexport const sargs = new Object(Symbol(\"args\"))\nexport const sconstructor = new Object(Symbol(\"constructor\"))\nconst sexpression = new Object(Symbol(\"expression\"))\nconst sfragment = new Object(Symbol(\"fragment\"))\nconst sprops = new Object(Symbol(\"props\"))\nexport const ssubviewAsChild = new Object(Symbol(\"subview_as_child\"))\nconst stemplate = new Object(Symbol(\"template\"))\nconst suid = new Object(Symbol(\"uid\"))\nconst supdates = new Object(Symbol(\"updates\"))\n\nexport const xmap = new Map\n\nlet revocable = null\nconst noop = strictlySealed => () => !strictlySealed\nconst revocableNodeProxy = (view, target, path, opts = {}) => {\n    const traps = {\n        get: (target, key) => {\n            if ( Array.isArray(target[key]) ) {\n                if ( opts.all )\n                  return [...target[key]]\n                else\n                  return target[key][0]\n            }\n\n            return undefined\n        }\n    }\n\n    // TODO make the following compatible with proxy-polyfill\n    // traps.defineProperty = traps.deleteProperty =\n    // traps.preventExtensions = traps.set =\n    // noop(true)\n\n    const { revoke, proxy } = Proxy.revocable(target, traps)\n\n    // if ( revocable )\n    //   revocable()\n    // revocable = () => setTimeout(revoke, 4)\n\n    return proxy\n}\n\nconst revocablePropProxy = (view, target, path, opts = {}) => {\n    const traps = {\n        get: (target, key) => target[key]\n    }\n\n    // TODO make the following compatible with proxy-polyfill\n    // traps.defineProperty = traps.deleteProperty =\n    // traps.preventExtensions = traps.set =\n    // noop(true)\n\n    const { revoke, proxy } = Proxy.revocable(target, traps)\n\n    if ( revocable )\n      revocable()\n    revocable = () => setTimeout(revoke, 4)\n\n    return proxy\n}\n\nconst transformPath = path =>\n  path.reduce((acc, step) => {\n      if ( isNaN(parseFloat(step)) )\n        return acc += `.${step}`\n      else\n        return acc += `[\"${step}\"]`\n  }, \"\")\n\nexport const expression = (parts=[\"div\"], ...values) => {\n    parts = typeOf(parts) == \"array\" ? parts : [parts]\n\n    return parts.reduce((acc, current, i) => {\n        const value = i < values.length && (() => {\n            if ( !(values[i] instanceof Object) )\n              return\n        })()\n\n        acc += current\n\n        if ( i < values.length )\n          if ( !(values[i] instanceof Object) )\n            return acc += values[i]\n      // case: inherits from View\n          else if ( typeof values[i] == \"function\" &&\n               View.isPrototypeOf(values[i]) )\n            return acc += `|${Reflect.apply(View.toString, values[i], [])}|`\n      // case: describes a view and a set of args\n          else if ( Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"View\"])\n                    && Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"args\"]) )\n            return acc += `|${Reflect.apply(View.toString, values[i].View, [])}:${values[i].args}|`\n      // case: describes a model and a value path\n          else if ( Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"model\"])\n                    && Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"path\"]) )\n            return acc += `${transformPath(values[i].path)}${values[i].model}`\n      // default\n          else return acc += Reflect.apply(Object.prototype.toString, values[i], [])\n\n        return acc\n    }, \"\")\n}\n\nexport default class View extends Node {\n    static get expression(){ return expression }\n\n    static expressWith(...args){\n    // generate an entry\n        if ( !store.has(this) )\n          this.toString()\n\n        const uid = UID.uid()\n        store.get(this).get(sargs).set(uid, args)\n        return { View:this, args:uid}\n    }\n\n    static toString(){\n      if ( !store.has(this) )\n        store.set(this, new WeakMap),\n        store.get(this).set(suid, Symbol.for(UID.uid())),\n        store.get(this).set(sconstructor, this),\n        store.get(this).set(sargs, new Map)\n        xmap.set(store.get(this).get(suid), store.get(this))\n\n      return Symbol.keyFor(store.get(this).get(suid))\n    }\n\n    static get x(){ return expression }\n    static get xw(){  return this.expressWith }\n\n    constructor(...args){\n        super()\n\n        const conf = args[0] instanceof Object ? args[0] : {}\n        const {expression, props, subviewAsChild=true} = conf\n\n        store.get(this).set(sprops, {})\n        if ( props )\n          Object.keys(props).forEach(prop =>\n            store.get(this).get(sprops)[prop] = props[prop])\n        store.get(this).set(ssubviewAsChild, !!subviewAsChild)\n\n        store.get(this).set(sexpression,\n          Parser.parse(expression||this.template, this))\n\n        store.get(this).set(supdates, store.get(this).get(sexpression).updates\n          .reduce((acc, {updaters, handler}) => (updaters.forEach(updater => {\n              if ( !acc.has(updater) )\n                acc.set(updater, new Set)\n              acc.get(updater).add(handler)\n          }), acc), new Map))\n\n        store.get(this).get(supdates).forEach((handlers, updater) =>\n          updater.addEventListener(Model.events.modelchange, () =>\n              handlers.forEach(handler => handler()), true))\n    }\n\n    get fragment(){ return store.get(this).get(sexpression).fragment }\n    get node(){ return revocableNodeProxy(this, store.get(this).get(sexpression).refs, [], { all: false }) }\n    get nodes(){ return revocableNodeProxy(this, store.get(this).get(sexpression).refs, [], { all: true }) }\n    get props(){ return revocablePropProxy(this, store.get(this).get(sprops), []) }\n\n}\n","\"use strict\"\n\nimport Model from \"models/Model\"\nimport store from \"store\"\nimport View, { sargs, sconstructor, ssubviewAsChild, xmap } from \"views/View\"\n\nconst auto_vars = Object.seal([\"A\", \"INPUT\", \"SUBMIT\", \"BUTTON\"])\n\nconst CLASS_LIST_COMPAT = (Element.prototype.hasOwnProperty(\"classList\") || HTMLElement.prototype.hasOwnProperty(\"classList\")) && function(){\n    // to be compatible, browser must be able to use classlist on a svg element\n    try {\n        document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").classList.add(\"x\")\n        return true\n    } catch(e){}\n    return false\n}()\n\n// const escapeDummy = document.createTextNode(\"\")\n// const escapeHTML = string => (escapeDummy.nodeValue = string, escapeDummy.nodeValue)\n\nconst evaluate = value => {\n    if ( typeof value !== \"string\" || value instanceof String )\n      return value\n    else if ( value === \"true\" )\n      return true\n    else if ( value === \"false\" )\n      return false\n    else if ( value.indexOf(\".\") == -1 ) {\n        const candidate = parseInt(value)\n        if ( !isNaN )\n          return candidate\n        return value\n    }\n    else if ( value.indexOf(\".\") != -1 ) {\n        const candidate = parseFloat(value)\n        if ( !isNaN )\n          return candidate\n        return value\n    }\n    else return value\n}\nconst setAttributeExceptions = [\"muted\", \"value\"]\n\nexport const namespaces = Object.seal({\n    html: \"http://www.w3.org/1999/xhtml\"\n  , svg: \"http://www.w3.org/2000/svg\"\n  , xml: \"http://www.w3.org/XML/1998/namespace\"\n  , xmlns: \"http://www.w3.org/2000/xmlns/\"\n  , xlink: \"http://www.w3.org/1999/xlink\"\n})\n\nconst sbuffer = new Object(Symbol(\"buffer\"))\nconst scontext = new Object(Symbol(\"context\"))\nconst sexpression = new Object(Symbol(\"expression\"))\nconst sfragment = new Object(Symbol(\"fragment\"))\nconst slength = new Object(Symbol(\"length\"))\nconst sowner = new Object(Symbol(\"owner\"))\nconst spile = new Object(Symbol(\"pile\"))\nconst spointer = new Object(Symbol(\"pointer\"))\nconst srefs = new Object(Symbol(\"refs\"))\nconst supdates = new Object(Symbol(\"updates\"))\nconst svars = new Object(Symbol(\"svars\"))\n\nconst rextractsvars = /(([^]*[^]*))/\nconst rpathmodel = /(.*)(.*)/\nconst extractVars = input => {\n    const output  = []\n    const updaters = new Set\n\n    let hit\n    while ( hit = rextractsvars.exec(input) ) {\n        const [,match, data] = hit\n        const idx = input.indexOf(match)\n\n        if ( idx ) output.push(input.slice(0, idx))\n        input = input.slice(idx + match.length)\n\n        const [, path, ref] = rpathmodel.exec(data)\n        const model = Model.ref(ref)\n\n        if ( !model ) {\n            output.push(match)\n            continue\n        }\n\n        updaters.add(model)\n        output.push(function(path, model, match){\n            return function(){\n                try { return new Function(\"model\", \"path\", `\"use strict\"; return model.io${path}`)(model, path) }\n                catch(e){ return match }\n            }\n        }(path, model, match))\n    }\n\n    output.push(input)\n\n    const handler = function(input){\n        return function(){\n            return input.reduce((acc, curr) =>\n              acc += typeof curr == \"function\" ? curr() : curr\n              , \"\")\n        }\n    }(output)\n\n    return { updaters:updaters.size?[...updaters]:null, handler }\n}\n\nconst operators = new Map\n\noperators.set(\"@\", {\n    name: \"@\"\n  , handler(captured){\n        this.refs[captured] = this.refs[captured] || []\n        this.refs[captured].push(this.buffer)\n    }\n  , capture(){\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done || Parser.traversals.has(value) || Parser.operators.has(value) )\n              break\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        this.pile = \"\"\n\n        return [capture]\n    }\n})\n\noperators.set(\"[\", {\n    name: \"[\"\n  , handler(captured){\n        if ( this.buffer.nodeType != Node.ELEMENT_NODE )\n          return\n\n        const idx = captured.search(\"=\")\n        let attr = idx == -1 ? captured : captured.split(\"=\")[0]\n        let ns\n\n        if ( attr.indexOf(\":\") != -1 ) {\n            const split = attr.split(\":\")\n            attr = split[1]\n            ns = Parser.namespaces[split[0].toLowerCase()] || null\n        }\n\n        const { updaters, handler } = idx == -1\n          ? { handler(){ return true } }\n          : extractVars(captured.slice(idx+1))\n\n        const update = {\n            updaters\n          , handler: function(node, ns, attr, handler){\n                return function(){\n                    const value = evaluate(handler())\n\n                    if ( setAttributeExceptions.indexOf(attr) != -1 )\n                      node[attr] = value\n                    else if ( ns )\n                      node.setAttributeNS(ns, attr, value)\n                    else\n                      node.setAttribute(attr, value)\n                }\n            }(this.buffer, ns, attr, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        let bracket = false\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( !bracket && value === \"]\" ) {\n                this.next()\n                break\n            }\n\n            if ( value === \"\" )\n              bracket = true\n            if ( value === \"\" )\n              bracket = false\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        return [capture]\n    }\n})\n\noperators.set(\"#\", {\n    name: \"#\"\n  , handler(captured){\n        if ( this.buffer.nodeType != Node.ELEMENT_NODE )\n          return\n\n        const { updaters, handler } = extractVars(captured)\n\n        const update = {\n            updaters\n          , handler: function(node, handler){\n                return function(){\n                    node.setAttribute(\"id\", handler())\n                }\n            }(this.buffer, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        let bracket = false\n        do {\n            const { done, value } = this.lookAhead()\n            if ( done )\n              break\n\n            if ( !bracket &&\n                 (Parser.traversals.has(value) || Parser.operators.has(value)) )\n              break\n\n            if ( value === \"\" )\n              bracket = true\n            if ( value === \"\" )\n              bracket = false\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\noperators.set(\".\", {\n    name: \".\"\n  , handler(captured){\n        if ( this.buffer.nodeType != Node.ELEMENT_NODE )\n          return\n\n        const { updaters, handler } = extractVars(captured)\n\n        const update = {\n            updaters\n          , handler: function(node, handler){\n                const was = []\n\n                return function(){\n                    const requested = handler().split(\" \")\n                    const remove = !was.length ? []\n                      : was.reduce((acc, classname) =>\n                        (requested.indexOf(classname) == -1 && acc.push(classname), acc),[])\n                    const add = !was.length ? requested\n                      : requested.reduce((acc, classname) =>\n                        (was.indexOf(classname) == -1 && acc.push(classname), acc), [])\n\n                    if ( CLASS_LIST_COMPAT ) {\n                        remove.forEach(classname => node.classList.remove(classname))\n                        add.forEach(classname => node.classList.add(classname))\n                    } else {\n                        node.setAttribute(\"class\", (node.getAttribute(\"class\") || \"\").split(\" \")\n                          .filter(classname => remove.indexOf(classname) !== -1)\n                          .concat(add)\n                          .join(\" \"))\n                    }\n                    was.splice(0, was.length, ...requested)\n                }\n            }(this.buffer, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        let bracket = false\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( !bracket )\n              if ( Parser.traversals.has(value) || Parser.operators.has(value) )\n                break\n\n            if ( value === \"\" )\n              bracket = true\n            if ( value === \"\" )\n              bracket = false\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\noperators.set(\"{\", {\n    name: \"{\"\n  , handler(captured, { safe=true } = {}){\n        const node = !safe || this.buffer.nodeType === Node.TEXT_NODE\n                   ? this.buffer\n                   : this.buffer.appendChild(document.createTextNode(\"\"))\n        const { updaters, handler } = extractVars(captured)\n        const update = {\n            updaters\n          , handler: safe\n              ? function(node, handler){\n                    return function(){ node.nodeValue = handler() }\n                }(node, handler)\n              : function(node, handler){\n                    let was = \"\"\n                    return function(){\n                        const textNodes = Reflect.apply(Array.prototype.slice, node.childNodes, [])\n                          .filter(node => node.nodeType === Node.TEXT_NODE)\n\n                        if ( textNodes.length )\n                          console.warn(\"unsafe variable will provoke a node.normalize()\")\n\n                        const onnode = node.textContent\n                        const position = !onnode.length ? 0\n                                       : was.length ? onnode.length\n                                       : onnode.indexOf(was)\n\n                        const change = handler()\n                        const to = [...onnode]\n                        to.splice(position, was.length, ...change)\n\n                        node.innerHTML = to.join(\"\")\n                    }\n                }(node, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        const safe = this.lookAhead().value === \"{\" ? (this.next(), false) : true\n\n        let remains = safe ? 1 : 2\n        let ignore = 0\n\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( value !== \"}\" ) {\n                const { done, value } = this.next()\n\n                if ( value == \"{\" )\n                  ignore +1\n\n                if ( !done )\n                  this.pile += value\n            }\n            else if ( ignore ) {\n                ignore -= 1\n\n                if ( ignore) {\n                    const { done, value } = this.next()\n\n                    if ( !done )\n                      this.pile += value\n                }\n\n                if ( remains ) {\n                    remains -= 1\n\n                    if ( remains )\n                      this.next()\n                    else\n                      break\n                }\n            }\n            else {\n                remains -= 1\n                this.next()\n\n                if ( !remains )\n                  break\n            }\n        } while (true)\n\n        const capture = this.pile //don't trim\n        this.pile = \"\"\n        return [capture, {safe}]\n    }\n})\n\noperators.set(\"(\", {\n    name: \"(\"\n  , handler(capture){\n        if ( Parser.debug )\n          console.log(`OP ( => captured: ${capture}`)\n        const { fragment, refs, updates } = Parser.parse(capture)\n\n        Object.keys(refs)\n        .filter(ref => ref !== \"root\")\n        .forEach(ref => this.refs[ref] = this.refs[ref]\n                      ? [...this.refs[ref], ...refs[ref]]\n                      : [...refs[ref]])\n\n        this.updates = [...this.updates, ...updates]\n        this.buffer = fragment\n\n    }\n  , capture(){\n        let ignore = 0\n\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( value !== \")\") {\n                const { done, value } = this.next()\n\n                if ( value == \"(\" )\n                  ignore += 1\n\n                if (!done )\n                  this.pile += value\n            } else {\n                if ( ignore ) {\n                    ignore -= 1\n\n                    const { done, value } = this.next()\n\n                    if (!done )\n                      this.pile += value\n                }\n                else {\n                    this.next()\n                    break\n                }\n            }\n\n        } while (true)\n\n        const capture = this.pile\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\noperators.set(\"|\", {\n    name: \"|\"\n  , handler(capture){\n        if ( Parser.debug )\n          console.log(`OP |, capture: ${capture} => ${xmap.get(Symbol.for(capture))}`)\n\n        const idx = capture.search(\":\")\n        const symbol = Symbol.for(idx == -1 ? capture : capture.split(\":\")[0])\n        const Constructor = xmap.get(symbol).get(sconstructor)\n        const args = idx == -1 ? [] : xmap.get(symbol).get(sargs).get(capture.slice(idx+1))\n        const instance = new Constructor(...args)\n\n        instance.nodes.root.forEach(node => this.context.appendChild(node))\n        this.buffer = instance.nodes.root[instance.nodes.root.length-1]\n\n        if ( this.owner instanceof View &&\n          store.get(this.owner).get(ssubviewAsChild) )\n            this.owner.appendChild(instance)\n    }\n  , capture(){\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( value !== \"|\") {\n                const { done, value } = this.next()\n\n                if (!done )\n                  this.pile += value\n            } else {\n                this.next()\n                break\n            }\n\n        } while (true)\n\n        const capture = this.pile\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\nconst traversals = new Map\n\ntraversals.set(\">\", {\n    name: \"child\"\n  , handler(){\n        if ( Parser.debug )\n          console.log(\"OP >, buffer\", this.buffer, \"context\", this.context)\n        this.context.appendChild(this.buffer)\n        this.context = this.buffer\n\n        this.buffer = null\n    }\n})\n\ntraversals.set(\"+\", {\n    name: \"siblings\"\n  , handler(){\n        this.context.appendChild(this.buffer)\n\n        this.buffer = null\n    }\n})\n\nlet debug = false\nexport default class Parser {\n    static get auto_vars(){ return auto_vars }\n    static get debug(){ return debug }\n    static set debug(bool){ debug = !!bool }\n    static get namespaces(){ return namespaces }\n    static get operators(){ return operators }\n    static get traversals(){ return traversals }\n\n    // static escapeHTML(string){\n    //     escapeDummy.nodeValue = string\n    //     return escapeDummy.nodeValue\n    // }\n\n    static parse(expression, owner){\n        return new Parser().parse(expression, owner)\n    }\n\n    constructor(){\n        store.set(this, new WeakMap)\n    }\n\n    get buffer(){ return store.get(this).get(sbuffer) }\n    set buffer(any){ store.get(this).set(sbuffer, any) }\n\n    get context(){ return store.get(this).get(scontext) }\n    set context(node){ store.get(this).set(scontext, node) }\n\n    get done(){ return this.pointer >= this.length }\n\n    get expression(){ return store.get(this).get(sexpression) }\n    set expression(string){ store.get(this).set(sexpression, string) }\n\n    get fragment(){ return store.get(this).get(sfragment) }\n    set fragment(fragment){ store.get(this).set(sfragment, fragment)  }\n\n    get glyph(){\n        if ( Parser.debug )\n          console.log(`glyph => ${this.expression[this.pointer]} (pointer:${this.pointer}/length:${this.length} done:${this.done})`)\n        return this.expression[this.pointer]\n    }\n\n    get length(){ return store.get(this).get(slength) }\n    set length(int){ return store.get(this).set(slength, int|0) }\n\n    get owner(){ return store.get(this).get(sowner) }\n    set owner(any){ store.get(this).set(sowner, any) }\n\n    get pile(){ return store.get(this).get(spile) }\n    set pile(string){ store.get(this).set(spile, string) }\n\n    get pointer(){ return store.get(this).get(spointer) }\n    set pointer(uint){ store.get(this).set(spointer, uint|0) }\n\n    get refs(){ return store.get(this).get(srefs) }\n    set refs(object){ store.get(this).set(srefs, object) }\n\n    get updates(){ return store.get(this).get(supdates) }\n    set updates(set){ store.get(this).set(supdates, set) }\n\n    get vars(){ return store.get(this).get(svars) }\n    set vars(set){ store.get(this).set(svars, set) }\n\n    lookAhead(){\n        return {\n            done: this.pointer+1 >= this.length\n          , value: this.expression[this.pointer+1]\n        }\n    }\n\n    next(){\n        this.pointer += 1\n        return { value: this.glyph, done: this.done }\n    }\n\n    operate(operator){\n        Reflect.apply(Parser.operator.get(operator), this, [])\n    }\n\n    parse(expression=\"\", owner){\n        if ( Parser.debug )\n          console.log(`parse(${expression})`)\n        this.expression = [...expression]\n        this.fragment = document.createDocumentFragment()\n        this.context = this.fragment\n        this.length = this.expression.length\n        this.owner = owner\n        this.pile = \"\"\n        this.pointer = 0\n        this.refs = {}\n        this.updates = []\n        this.vars = new Set\n\n        do {\n            if ( Parser.traversals.has(this.glyph) ) {\n              const {handler} = Parser.traversals.get(this.glyph)\n              this.unpile()\n              Reflect.apply(handler, this, [])\n            }\n            else if ( Parser.operators.has(this.glyph) ) {\n                const {capture, handler, name} = Parser.operators.get(this.glyph)\n                this.unpile({handler, name})\n                Reflect.apply(handler, this, Reflect.apply(capture, this, []))\n            }\n            else\n              this.pile += this.glyph\n        } while ( !this.next().done  )\n\n    // empty pile\n        if ( this.pile.length )\n          this.unpile()\n    // last traversal\n        Reflect.apply(Parser.traversals.get(\">\").handler, this, [])\n\n        return this\n    }\n\n    unpile({handler, name}={}){\n        this.pile = this.pile.trim()\n\n        if (!this.buffer) {\n            if ( !this.pile.length )\n              this.buffer = document.createElement(\"div\")\n\n            else if ( this.pile === \"\" )\n              this.buffer = document.createTextNode(\"div\")\n\n            else if ( this.pile.indexOf(\":\") != -1 ) {\n                const split = this.pile.split(\":\")\n                this.buffer = document.createElementNS( Parser.namespaces[split[0].toLowerCase()]||Parser.namespaces.html, split[1])\n            }\n\n            else\n              this.buffer = document.createElement(this.pile)\n\n            if ( Parser.auto_vars.indexOf(this.buffer.nodeName) != -1 )\n              Reflect.apply(operators.get(\"@\").handler, this, [this.buffer.nodeName])\n\n        // node is root ( direct childNode of fragment )\n            if ( this.context === this.fragment )\n              Reflect.apply(operators.get(\"@\").handler, this, [\"root\"])\n        }\n\n        this.pile = \"\"\n    }\n}\n","\"use strict\"\nimport { ERR_SS_NOT_WRITABLE } from \"errors\"\nimport CSSConditionalRule from \"css/CSSConditionalRule\"\nimport CSSRule from \"css/CSSRule\"\nimport domready from \"utils/domready\"\nimport Event from \"events/Event\"\nimport isSameDomain from \"utils/isSameDomain\"\nimport Node from \"nodes/Node\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\nimport UID from \"uids/UID\"\nimport ZParser from \"views/ZParser\"\n\nimport { sadd, sremove } from \"css/CSSConditionalRule\"\nconst suid = new Object(Symbol())\nconst snode = new Object(Symbol())\nconst sready = new Object(Symbol())\nconst srules = new Object(Symbol())\nconst ssheet = new Object(Symbol())\nconst swritable = new Object(Symbol())\n\nconst updaters_text = new WeakMap\n\nexport class Ready extends Event {\n    static get TYPE(){ return \"ready\" }\n\n    constructor(sheet){\n        super(Ready.TYPE)\n        store.get(this).set(ssheet, sheet)\n    }\n\n    get sheet(){ return store.get(this).get(ssheet) }\n}\n\nexport default class Stylesheet extends Node {\n    static get isLocalFile(){ return isSameDomain }\n\n    constructor(...args){\n        super()\n\n        const rules = typeOf(args[args.length-1]) == \"array\" ? [].concat(args.pop()) : []\n        const dict = typeOf(args[args.length-1]) == \"object\" ? args.pop() : { node: args.pop() }\n        args =  null\n\n        store.get(this).set(suid, typeOf(dict.id) == \"string\" ? dict.id : UID.uid())\n        store.get(this).set(swritable, true)\n        store.get(this).set(srules, [])\n\n        store.get(this).set(snode, function(node){\n            if ( node && node.nodeType === window.Node.ELEMENT_NODE && [\"STYLE\", \"LINK\"].includes(node.nodeName) )\n              return node\n\n            if ( typeOf(node) == \"string\" ) {\n                if ( !Stylesheet.isLocalFile(node) )\n                  store.get(this).set(swritable, false)\n                const href = node\n                node = ZParser.parse(`link#${store.get(this).get(suid)}[rel=stylesheet][href=${href}]`).fragment.childNodes[0]\n            }\n            else {\n                node = ZParser.parse(`style#${store.get(this).get(suid)}`).fragment.childNodes[0]\n                node.appendChild( document.createTextNode( rules.splice(0).join(\"\\n\") ) )\n            }\n\n            if ( dict.media )\n              node.setAttribute(\"media\", dict.media)\n\n            domready.then(({nodes}) => {\n                nodes.head.appendChild(node)\n\n                requestAnimationFrame(hrt=>{\n                    if ( !!dict.disabled )\n                      node.disabled = true\n                })\n            })\n\n            return node\n        }.call(this, dict.node||dict.href||void 0))\n\n        store.get(this).set(sready, new Promise((resolve, reject) => {\n            const onload = e => {\n                if ( store.get(this).get(swritable) && rules && !!rules.length )\n                  this.insertRule(rules)\n\n                resolve(store.get(this).get(swritable))\n                store.get(this).set(ssheet, store.get(this).get(snode).sheet)\n                this.dispatchEvent(new Ready(store.get(this).get(\"sheet\")))\n            }\n\n            if ( \"msSetImmediate\" in window ) // no events for <style> on ie\n              msSetImmediate(onload) //TODO test on edge\n            else\n              store.get(this).get(snode).addEventListener(\"load\", onload),\n              store.get(this).get(snode).addEventListener(\"error\", function(e){\n                  console.error(e)\n                  reject(e)\n              })\n        }))\n    }\n\n    get media(){ return store.get(this).get(snode).getAttribute(\"media\") }\n    set media(v){ store.get(this).get(snode).setAttribute(\"media\", v) }\n    get node(){ return store.get(this).get(snode) }\n    get sheet(){ return store.get(this).get(snode).sheet }\n\n    async deleteRule(...args){\n        const rules = typeOf(args[0]) == \"array\" ? args.shift()\n                    : args.length ? args\n                    : []\n\n        const writable = await store.get(this).get(sready)\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : null\n\n            if ( !rule )\n              return\n\n            if ( is_rule ) {\n                if ( updaters_text.has(rule) )\n                  rule.removeEventListener(CSSRule.events.textupdate, updaters_text.get(rule)),\n                  updaters_text.delete(rule)\n\n                  let idx = -1\n                  while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 )\n                    store.get(this).get(ssheet).deleteRule(idx),\n                    store.get(this).get(srules).splice(idx, 1)\n\n\n            }\n            else if ( is_conditional ){\n                let idx = -1\n                while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 ) {\n                    store.get(rule).get(sremove)( store.get(this).get(ssheet).cssRules[idx] )\n                    store.get(this).get(ssheet).deleteRule(idx)\n                    store.get(this).get(srules).splice(idx, 1)\n                }\n\n            }\n        })\n    }\n\n    async insertRule(...args){\n        const rules = typeOf(args[0]) == \"array\" ? args.shift()\n                    : args.length ? args\n                    : []\n\n        const writable = await store.get(this).get(sready)\n\n        if ( !writable )\n          throw new Error(ERR_SS_NOT_WRITABLE)\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : (is_rule = true, new CSSRule(rule))\n\n            const idx = store.get(this).get(ssheet).cssRules.length\n            store.get(this).get(srules)[idx] = rule\n\n            if ( is_rule ) {\n               store.get(this).get(ssheet).insertRule(rule.toString(), idx)\n\n               if ( !updaters_text.has(rule) )\n                 updaters_text.set(rule, ({cssRule}) => {\n                     let idxs = []\n                     store.get(this).get(srules).forEach((rule, idx) => {\n                         if ( rule === cssRule ) idxs.push(idx)\n                     })\n                     idxs.forEach(idx => store.get(this).get(ssheet).cssRules[idx].style.cssText = cssRule.cssText)\n                 })\n\n               rule.addEventListener(CSSRule.events.textupdate, updaters_text.get(rule))\n            }\n            else if ( is_conditional ){\n               store.get(this).get(ssheet).insertRule(rule.toString(), idx)\n               store.get(rule).get(sadd)( store.get(this).get(ssheet).cssRules[idx] )\n            }\n        })\n    }\n}\n","\"use strict\"\n\n//TODO strenghten\n\nexport const sparents = Symbol(\"parents\")\n\nexport default (...classes) => {\n    const Class = class extends classes.pop() {}\n\n    const prototypes = classes.reduce((accumulator, Class) => {\n        const prototypes = [Class.prototype]\n\n        while ( Class = Object.getPrototypeOf(Class), Class != Function.prototype )\n          prototypes.unshift(Class.prototype)\n\n        prototypes.forEach(prototype => accumulator.add(prototype))\n        return accumulator\n    }, new Set)\n\n    prototypes.forEach(prototype =>\n      [...Object.getOwnPropertyNames(prototype), ...Object.getOwnPropertySymbols(prototype)]\n        .forEach(property =>\n            Object.defineProperty(Class.prototype, property, Object.getOwnPropertyDescriptor(prototype, property))))\n\n    Object.defineProperty(Class.prototype, \"constructor\", { configurable:true, value: Class })\n\n    return Class\n}\n","\"use strict\"\r\n\r\nimport { ENOTGRAPH, ENOTVERTEX, EUNCOMPEDGE } from \"errors\"\r\nimport Edge from \"graph/Edge\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\n\r\nimport { sedges } from \"graph/Edge\"\r\nimport { sgraphs } from \"graph/Graph\"\r\nexport const slabel = new Object(Symbol(\"label\"))\r\n\r\nexport default class Vertex extends EventTarget {\r\n    constructor(label){\r\n        super()\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sedges, new Set)\r\n        store.get(this).set(sgraphs, new Set)\r\n        this.label = label\r\n    }\r\n\r\n    get graphs(){ return [...store.get(this).get(sgraphs)] }\r\n\r\n    get label(){ return store.get(this).get(slbabel) || null }\r\n    set label(label=null){ store.get(this).set(slabel, label) }\r\n\r\n    addEdge(graph, edge) { // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.addEdge(edge)\r\n    }\r\n\r\n    addEdges(graph, edges){ // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.addEdges(edges)\r\n    }\r\n\r\n    adjacents(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.adjacents(this)\r\n    }\r\n\r\n    adjacentsIn(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.adjacentsIn(this)\r\n    }\r\n\r\n    adjacentsOut(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.adjacentsOut(this)\r\n    }\r\n\r\n    arcFrom(graph, vertex){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.arcFrom(vertex, this)\r\n    }\r\n\r\n    // number of edges not regions in graph\r\n    arcs(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.arcs.filter(({vertices}) => vertices.includes(this))\r\n    }\r\n\r\n    arcTo(graph, vertex){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.arcTo(vertex, this)\r\n    }\r\n\r\n    // number of edges not regions in graph\r\n    connections(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.connections.filter(({vertices}) => vertices.includes(this))\r\n    }\r\n\r\n    // the number of edges\r\n    degree(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.degree(this)\r\n    }\r\n\r\n    // list edges related to current vertex in the given graph\r\n    edges(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.edges.filter(edge => edge.vertices.includes(this))\r\n    }\r\n\r\n    extravertArcWith(graph, vertex){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.extravertArcWith(vertex, this)\r\n    }\r\n\r\n    hyperEdges(graph){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n      return graph.hyperarcs.filter(edge => edge.vertices.includes(this))\r\n    }\r\n\r\n    hyperEdgeWith(graph, vertices){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.hyperEdgeWith([this, ...vertices])\r\n    }\r\n\r\n    // inward edges ( vertex <= x ) in the given graph\r\n    indegree(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.indegree(this)\r\n        //return graph.edges.filter(edge => edge.in && edge.in.includes(this))\r\n    }\r\n\r\n    introvertArcWith(graph, vertex){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n      if ( !(vertex instanceof Vertex) )\r\n        throw new TypeError(ENOTVERTEX)\r\n\r\n      return graph.addEdge(new Edge([this, vertex], \"<>\"))\r\n    }\r\n\r\n    lines(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.lines.filter(edge => edge.vertices.includes(this))\r\n    }\r\n\r\n    lineWith(graph, vertex){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.lineWith(vertex, this)\r\n    }\r\n\r\n    loop(graph, relation){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.loop(this, relation)\r\n    }\r\n\r\n    loops(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.loops.filter(({ a }) => a === this)\r\n    }\r\n\r\n    // outward edges ( vertex => x ) in the given graph\r\n    outdegree(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.outdegree(this)\r\n        //return graph.edges.filter(edge => edge.out && edge.out.includes(this))\r\n    }\r\n\r\n    removeEdge(graph, edge){ // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.removeEdge(edge)\r\n    }\r\n\r\n    removeEdges(graph, edges){ // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.removeEdges(edges)\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { ENOTVERTEX, EUNKNWNREL } from \"errors\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport store from \"store\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sdirection = new Object(Symbol())\r\nexport const sedges = new Object(Symbol())\r\nexport const sextraverted = new Object(Symbol())\r\nexport const sgraph = new Object(Symbol)\r\nexport const slabel = new Object(Symbol())\r\nexport const srelation = new Object(Symbol())\r\nexport const svertexa = new Object(Symbol())\r\nexport const svertexb = new Object(Symbol())\r\nexport const svertices = new Object(Symbol())\r\n\r\nconst relations = Object.freeze({\r\n    \"-\"   : 0b1 // A - B\r\n  , LINE  : 0b1\r\n  , \"<\"   : 0b10 // A <- B\r\n  , INOUT : 0b10\r\n  , \"<>\"  : 0b100 // A <-> B\r\n  , ININ  : 0b100\r\n  , \">\"   : 0b1000 // A -> B\r\n  , OUTIN : 0b1000\r\n  , \"><\"  : 0b10000 // A >-< B\r\n  , OUTOUT: 0b10000\r\n  , \"@\"   : 0b100000 // < A, B, C,... >\r\n  , REGION: 0b100000\r\n  , HYPERARC: 0b100000\r\n})\r\n\r\nconst states = Object.freeze({\r\n    CONNECTED: 0b1\r\n  , DISCONNECTED: 0b0\r\n})\r\n\r\nconst types = Object.freeze({\r\n    LINE    : 0b1 // 2 vertices and no direction\r\n  , ARC     : 0b10 // 2 vertices and 1-2 direction\r\n  , HYPERARC: 0b100 // more than 2 vertices\r\n  , REGION  : 0b100 // more than 2 vertices\r\n  , LOOP    : 0b1000 // 1 vertice\r\n})\r\n\r\nexport default class Edge extends EventTarget {\r\n    static get relations(){ return relations }\r\n    static get states(){ return states }\r\n    static get types(){ return types }\r\n\r\n    constructor(vertices, relation, label){\r\n        super()\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(svertices, new Set)\r\n\r\n        this.relation = relation\r\n        this.label = label\r\n\r\n        const [a, b, ...otherVertices] = [...vertices]\r\n        if ( a )\r\n          this.addVertex(a)\r\n        if ( b )\r\n          this.addVertex(b)\r\n        if ( otherVertices.length )\r\n          this.addVertices(otherVertices)\r\n    }\r\n\r\n    get a(){ return this.vertices[0] || null }\r\n    get b(){ return this.vertices[1] || this.vertices[0] || null }\r\n\r\n    get bidirected(){ return Boolean(this.relation & ( Edge.relations.OUTOUT|Edge.relations.ININ )) }\r\n\r\n    get directed(){ return Boolean(this.relation & ( Edge.relations.INOUT|Edge.relations.OUTIN )) }\r\n\r\n    get extraverted(){ return Boolean(this.relation & Edge.relations.ININ) }\r\n\r\n    get graph(){ return store.get(this).get(sgraph) || null }\r\n\r\n    get in(){\r\n        if ( this.relation & Edge.relations.ININ )\r\n          return [...new Set([this.a, this.b])]\r\n        else if ( this.relation & Edge.relations.INOUT )\r\n          return [this.a]\r\n        else if ( this.relation & Edge.relations.OUTIN )\r\n          return [this.b]\r\n        return null\r\n    }\r\n    get inward(){ return this.in }\r\n\r\n    get intraverted(){ return Boolean(this.relation & Edge.relations.ININ) }\r\n\r\n    get label(){ return store.get(this).get(slabel) || null }\r\n    set label(label=null){ store.get(this).set(slabel, label) }\r\n\r\n    get out(){\r\n        if ( this.relation & Edge.relations.OUTOUT )\r\n          return [...new Set([this.a, this.b])]\r\n        else if ( this.relation & Edge.relations.OUTIN )\r\n          return [this.a]\r\n        else if ( this.relation & Edge.relations.INOUT )\r\n          return [this.b]\r\n        return null\r\n    }\r\n    get outward(){ return this.out }\r\n\r\n    get relation(){ return store.get(this).get(srelation) }\r\n    set relation(rel=\"LINE\"){\r\n        if ( !Edge.relations.hasOwnProperty(rel) )\r\n          throw new ReferenceError(EUNKNWNREL)\r\n        store.get(this).set(srelation, Edge.relations[rel])\r\n    }\r\n\r\n    get state(){ return store.get(this).get(sgraph) ? Edge.states.CONNECTED : Edge.states.DISCONNECTED }\r\n\r\n    get type(){\r\n        if ( this.relation & Edge.relations.LINE )\r\n          return this.a === this.b ? Edge.types.LOOP : Edge.types.LINE\r\n        else if ( this.relation & (Edge.relations.INOUT|Edge.relations.OUTIN|Edge.relations.ININ|Edge.relations.OUTOUT) )\r\n          return this.a === this.b ? Edge.types.LOOP : Edge.types.ARC\r\n        else if ( this.relation & Edge.relations.REGION )\r\n          return Edge.types.HYPERARC\r\n    }\r\n\r\n    get undirected(){ return !this.directed && !this.bidirected }\r\n\r\n    get vertices(){ return [...store.get(this).get(svertices)] }\r\n\r\n    addVertex(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const l = this.vertices.length\r\n        if ( l >= 2 && this.relation !== Edge.relations.REGION )\r\n          throw new Error(ETOOMANYVERT)\r\n\r\n        store.get(this).get(svertices).add(vertex)\r\n        store.get(vertex).get(sedges).add(this)\r\n        return vertex\r\n    }\r\n\r\n    addVertices(vertices){ return [...vertices].map(vertex => this.addVertex(vertex)) }\r\n\r\n    removeVertex(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        store.get(this).get(svertices).delete(vertex)\r\n        store.get(vertex).get(sedges).delete(this)\r\n        return vertex\r\n    }\r\n\r\n    removeVertices(vertices){ return [...vertices].map(vertex => this.removeVertex(vertex)) }\r\n}\r\n","\"use strict\"\r\n\r\nimport { EINVALIDCONS, ENOTGRAPH, ENOTVERTEX } from \"errors\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sgraph = new Object(Symbol())\r\nexport const sroot = new Object(Symbol())\r\nexport const straversal = new Object(Symbol())\r\n\r\nexport default class DepthFirstTree {\r\n    static from({ graph, rootVertex, traversal }){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const dft = Object.create({})\r\n        Object.setPrototypeOf(dft, DepthFirstTree.prototype)\r\n        store.set(dft, new WeakMap)\r\n        store.get(dft).set(sgraph, graph)\r\n        store.get(dft).set(sroot, rootVertex)\r\n        store.get(dft).set(straversal, traversal)\r\n\r\n        return dft\r\n    }\r\n\r\n    constructor(){ throw new Error(EINVALIDCONS) }\r\n\r\n    get root(){ return store.get(this).get(sroot) }\r\n\r\n    hasPathTo(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return store.get(this).get(straversal).has(vertex)\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { ENOTGRAPH, ENOTVERTEX } from \"errors\"\r\n\r\nimport BreadthFirstTree from \"graph/BreadthFirstTree\"\r\nimport DepthFirstTree from \"graph/DepthFirstTree\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sgraph = new Object(Symbol())\r\n\r\nexport default class Traversal extends EventTarget {\r\n\r\n    constructor(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        super()\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sgraph, graph)\r\n    }\r\n\r\n    get bft(){ return this.breadthFirstTree }\r\n\r\n    get graph(){ return store.get(this).get(sgraph) }\r\n\r\n    depthFirstTree(rootVertex){\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const traversal = new WeakMap\r\n        const stack = [[null, rootVertex]]\r\n\r\n        while ( stack.length ) {\r\n            const [parent, vertex] = stack[stack.length-1]\r\n\r\n            traversal.set(vertex, parent)\r\n\r\n            const nextVertex = [\r\n                ...this.graph.lines.reduce((acc, {a, b, vertices}) => (vertices.includes(vertex) && acc.push(a===vertex?b:a), acc), [])\r\n              , ...this.graph.adjacentsOut(vertex)\r\n            ]\r\n            .filter(child => !traversal.has(child))\r\n            [0]\r\n\r\n            if ( !nextVertex ) stack.pop()\r\n            else stack.push([vertex, nextVertex])\r\n        }\r\n\r\n        return DepthFirstTree.from({ graph:this.graph, rootVertex, traversal })\r\n    }\r\n\r\n    breadthFirstTree(rootVertex){\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const traversal = new WeakMap\r\n        const queue = [[null, rootVertex]]\r\n\r\n        while ( queue.length ) {\r\n            const [parent, vertex] = queue.shift()\r\n\r\n            if ( traversal.has(vertex) )\r\n              continue\r\n            traversal.set(vertex, parent)\r\n\r\n            // void [\r\n            //     ...this.graph.lines.reduce((acc, {a, b, vertices}) => (vertices.includes(vertex) && acc.push(a===vertex?b:a), acc), [])\r\n            //   , ...this.graph.adjacentsOut(vertex)\r\n            // ]\r\n            // .filter(child => !traversal.has(child))\r\n            // .forEach(child => queue.push([vertex, child]))\r\n\r\n            void [\r\n                ...this.graph.lines.filter(({vertices}) => vertices.includes(vertex))\r\n              , ...this.graph.arcs.filter(({vertices}) => vertices.includes(vertex))\r\n            ]\r\n            .sort((a, b) => (+a.label||0) - (+b.label||0))\r\n            .reduce((acc, {a,b}) =>  (acc.push(a===vertex?b:a), acc), [])\r\n            .forEach(child => queue.push([vertex, child]))\r\n        }\r\n\r\n        return BreadthFirstTree.from({ graph:this.graph, rootVertex, traversal })\r\n    }\r\n\r\n}\r\n","\"use strict\"\r\n\r\nimport { EALRDYCONN, ENOTEDGE, ENOTINSET, ENOTVERTEX, EPRLLLNOTALLOW, EUNCOMPEDGE, EUNKNWNREL } from \"errors\"\r\nimport Edge from \"graph/Edge\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport Vertex from \"graph/Vertex\"\r\nimport {sgraph} from \"graph/Edge\"\r\nimport store from \"store\"\r\nimport Traversal from \"graph/Traversal\"\r\n\r\nexport const sallowed = new Object(Symbol(\"allowed\"))\r\nexport const sedges = new Object(Symbol(\"edges\"))\r\nexport const sgraphs = new Object(Symbol(\"graphs\"))\r\nexport const svertices = new Object(Symbol(\"vertices\"))\r\n\r\nconst allowance = Object.freeze({\r\n    PARALLELS: 1024\r\n})\r\n\r\nconst presets = Object.freeze({\r\n    LINES: 0b0001\r\n  , UNDIRECTED: 0b0001\r\n  , ARCS: 0b0010\r\n  , DIRECTED: 0b0010\r\n  , CONNECTIONS: 0b1011\r\n  , ALL: 0b1111\r\n})\r\n\r\nexport default class Graph extends EventTarget {\r\n    static get allowance(){ return allowance }\r\n    static get presets(){ return presets }\r\n\r\n    constructor({ allows=3 } = {}){\r\n        super()\r\n        store.set(this, new WeakMap)\r\n\r\n        store.get(this).set(sallowed, allows)\r\n        store.get(this).set(sedges, new Set)\r\n        store.get(this).set(svertices, new Set)\r\n    }\r\n\r\n    get allowed(){ return store.get(this).get(\"sallowed\") }\r\n    get arcs(){ return this.edges.filter(edge => edge.type == Edge.types.ARC) }\r\n    get connections(){ return this.edges.filter(edge => edge.type & (Edge.types.LINE|Edge.types.ARC|Edge.types.LOOP)) }\r\n    get edges(){ return [...store.get(this).get(sedges)] }\r\n    get hyperarcs(){ return this.edges.filter(edge => edge.type == Edge.types.HYPERARC) }\r\n    get lines(){ return this.edges.filter(edge => edge.type == Edge.types.LINE) }\r\n    get loops(){ return this.edges.filter(edge => edge.type == Edge.types.LOOP) }\r\n    get regions(){ return this.hyperarcs }\r\n    get vertices(){ return [...store.get(this).get(svertices)] }\r\n\r\n    allows(type){ return Boolean(store.get(this).get(sallowed) & type) }\r\n\r\n    addEdge(edge){\r\n        if ( !(edge instanceof Edge) )\r\n          throw new TypeError(ENOTEDGE)\r\n\r\n        if ( edge.state == Edge.states.CONNECTED )\r\n          throw new Error(EALRDYCONN)\r\n\r\n        if ( !this.allows(edge.type) || edge.vertices.some(vertex => !store.get(this).get(svertices).has(vertex)))\r\n          throw new TypeError(EUNCOMPEDGE)\r\n\r\n        if ( edge.type !== Edge.types.HYPERARC && !this.allows(Graph.allowance.PARALLELS)\r\n        && ( edge.type !== Edge.types.LOOP && [...this.connections].filter(({ vertices }) => vertices.includes(edge.a) && vertices.includes(edge.b)).length\r\n        || edge.type === Edge.types.LOOP && [...this.loops].filter(({a}) => a == edge.a).length ))\r\n          throw new Error(EPRLLLNOTALLOW)\r\n\r\n        store.get(this).get(sedges).add(edge)\r\n        store.get(edge).set(sgraph, this)\r\n        return edge\r\n    }\r\n\r\n    addEdges(edges){ void [...edges].forEach(edge => this.addEdge(edge)) }\r\n\r\n    adjacents(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return [...this.connections.reduce((acc, {a, b}) => {\r\n            return b === vertex ? (acc.add(a), acc)\r\n                 : a === vertex ? (acc.add(b), acc)\r\n                 : acc\r\n        }, new Set)]\r\n    }\r\n\r\n    adjacentsIn(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return [...this.arcs.reduce((acc, {inward, outward, relation}) => {\r\n            if ( inward && inward.includes(vertex) )\r\n              relation !== Edge.relations.ININ ? outward && outward.forEach(outward => outward !== vertex && acc.add(outward))\r\n                                               : inward.forEach(inward => inward !== vertex && acc.add(inward))\r\n            return acc\r\n        }, new Set)]\r\n    }\r\n\r\n    adjacentsOut(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return [...this.arcs.reduce((acc, {inward, outward, relation}) => {\r\n            if ( outward && outward.includes(vertex) )\r\n              relation !== Edge.relations.OUTOUT ? inward && inward.forEach(inward => inward !== vertex && acc.add(inward))\r\n                                                 : outward.forEach(outward => outward !== vertex && acc.add(outward))\r\n            return acc\r\n        }, new Set)]\r\n    }\r\n\r\n    addVertex(vertex, edges, ...args){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        store.get(this).get(svertices).add(vertex)\r\n        store.get(vertex).get(sgraphs).add(this)\r\n\r\n        if ( edges && edges instanceof Edge )\r\n          this.addEdge(edges)\r\n        else if ( edges && edges[Symbol.iterator] )\r\n          this.addEdges(edges)\r\n        else if ( typeof edges == \"function\" ) {\r\n            const edge = this.addEdge(Reflect.construct(edges, [[vertex], ...args]))\r\n            return [vertex, edge]\r\n        }\r\n\r\n\r\n        return vertex\r\n    }\r\n\r\n    addVertices(vertices, edges, ...args){\r\n        const added = [...vertices].map(vertex => this.addVertex(vertex))\r\n\r\n        if ( edges && edges instanceof Edge )\r\n          this.addEdge(edges)\r\n        else if ( edges && edges[Symbol.iterator] )\r\n          this.addEdges(edges)\r\n        else if ( typeof edges == \"function\" ) {\r\n            const edge = Reflect.construct(edges, [added, ...args])\r\n            return [added, this.addEdge(edge)]\r\n        }\r\n\r\n        return added\r\n    }\r\n\r\n    arcFrom(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \">\"))\r\n    }\r\n\r\n    arcTo(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \"<\"))\r\n    }\r\n\r\n    get bft(){ return this.breadthFirstTree }\r\n    breadthFirstTree(vertex){ return new Traversal(this).breadthFirstTree(vertex) }\r\n\r\n    degree(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return this.connections.reduce((acc, {vertices, type}) => {\r\n            if ( vertices.includes(vertex) )\r\n              acc += type === Edge.types.LOOP ? 2 : 1\r\n            return acc\r\n        }, 0)\r\n    }\r\n\r\n    get dft(){ return this.depthFirstTree }\r\n    depthFirstTree(vertex){ return new Traversal(this).depthFirstTree(vertex) }\r\n\r\n    extravertArcWith(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \"><\"))\r\n    }\r\n\r\n    hyperEdgeWith(vertices){\r\n        vertices.forEach(vertex => {\r\n            if ( !(vertex instanceof Vertex) )\r\n            throw new TypeError(ENOTVERTEX)\r\n        })\r\n\r\n        return this.addEdge(new Edge([...vertices], \"@\"))\r\n    }\r\n\r\n    indegree(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return this.arcs.reduce((acc, {inward}) => {\r\n            if ( inward.includes(vertex) )\r\n              acc += 1\r\n            return acc\r\n        }, 0)\r\n    }\r\n\r\n    introvertArcWith(vertices){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \"<>\"))\r\n    }\r\n\r\n    lineWith(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b]))\r\n    }\r\n\r\n    loop(vertex, rel=\"LINE\"){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n        if ( !Edge.relations.hasOwnProperty(rel) )\r\n          throw new ReferenceError(EUNKNWNREL)\r\n\r\n        return this.addEdge(new Edge([vertex], rel))\r\n    }\r\n\r\n    outdegree(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return this.arcs.reduce((acc, {outward}) => {\r\n            if ( outward.includes(vertex) )\r\n              acc += 1\r\n            return acc\r\n        }, 0)\r\n    }\r\n\r\n    removeEdge(edge){\r\n        if ( !(edge instanceof Edge) )\r\n          throw new TypeError(ENOTEDGE)\r\n\r\n        store.get(this).get(sedges).delete(edge)\r\n        store.get(edge).delete(sgraph)\r\n\r\n        return edge\r\n    }\r\n\r\n    removeEdges(edges){ void [...edges].forEach(edge => this.removeEdge(edge)) }\r\n\r\n    removeVertex(vertex, edges){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        store.get(this).get(svertices).delete(vertex)\r\n        store.get(vertex).get(sgraphs).delete(this)\r\n\r\n        edges = edges && edges[Symbol.iterator] ? edges\r\n              : edges ? [edges] : []\r\n        void [...edges].forEach(edge => this.removeEdge(edge))\r\n\r\n        void [...this.edges].forEach(edge => {\r\n            if ( !edge.vertices.includes(vertex) )\r\n              return\r\n\r\n            //if ( edge.type != Edge.types.HYPERARC || edge.vertices.length == 1)\r\n            if ( edge.vertices.length > 1 && (edge.type == Edge.types.HYPERARC || this.allows(Edge.types.LOOP))  )\r\n              edge.removeVertex(vertex)\r\n            else\r\n              this.removeEdge(edge)\r\n        })\r\n\r\n        return vertex\r\n    }\r\n\r\n    removeVertices(vertices, edges){\r\n        void [...vertices].forEach(vertex => this.removeVertex(vertex))\r\n\r\n        if ( edges && !edges[Symbol.iterator] )\r\n          this.removeEdge(edges)\r\n        else if ( edges && edges[Symbol.iterator] )\r\n          this.removeEdges(edges)\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { EINVALIDCONS, ENOTGRAPH, ENOTVERTEX } from \"errors\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sgraph = new Object(Symbol())\r\nexport const sroot = new Object(Symbol())\r\nexport const straversal = new Object(Symbol())\r\n\r\nexport default class BreadthFirstTree {\r\n    static from({ graph, rootVertex, traversal }){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const bft = Object.create({})\r\n        Object.setPrototypeOf(bft, BreadthFirstTree.prototype)\r\n        store.set(bft, new WeakMap)\r\n        store.get(bft).set(sgraph, graph)\r\n        store.get(bft).set(sroot, rootVertex)\r\n        store.get(bft).set(straversal, traversal)\r\n\r\n        return bft\r\n    }\r\n\r\n    constructor(){ throw new Error(EINVALIDCONS) }\r\n\r\n    get root(){ return store.get(this).get(sroot) }\r\n\r\n    hasPathTo(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return store.get(this).get(straversal).has(vertex)\r\n    }\r\n\r\n    pathTo(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const traversal = store.get(this).get(straversal)\r\n        if ( !traversal.has(vertex) ) return null\r\n\r\n        const path = [vertex]\r\n        let parent = vertex\r\n        while ( parent = traversal.get(parent) )\r\n          path.unshift(parent)\r\n\r\n        return path\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport Graph from \"graph/Graph\"\r\n\r\nexport default class HyperGraph extends Graph {\r\n    constructor(){\r\n        super({ allows:7 })\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nexport { bound, final, frozen } from \"decorators\"\r\nexport cancelAnimationFrames from \"utils/cancelAnimationFrames\"\r\nexport Cookie, { Sync as CookieSync } from \"cookies/Cookie\"\r\nexport CSSConditionalRule from \"css/CSSConditionalRule\"\r\nexport CSSHook from \"css/CSSHook\"\r\nexport CSSMediaRule from \"css/CSSMediaRule\"\r\nexport CSSRule, { TextUpdate as CSSRuleTextUpdate, SelectorUpdate as CSSRuleSelectorUpdate, Reset as CSSRuleReset } from \"css/CSSRule\"\r\nexport domready from \"utils/domready\"\r\nexport dummy from \"utils/dummy\"\r\nexport Event from \"events/Event\"\r\nexport EventDispatcher from \"events/EventDispatcher\"\r\nexport EventTarget from \"events/EventTarget\"\r\nexport isNative from \"utils/isNative\"\r\nexport isSameDomain from \"utils/isSameDomain\"\r\nexport Model from \"models/Model\"\r\nexport Node from \"nodes/Node\"\r\nexport ReadyStateFul, { ReadyStateChange } from \"utils/ReadyStateFul\"\r\nexport requestAnimationFrames from \"utils/requestAnimationFrames\"\r\nexport Route from \"routing/Route\"\r\nexport RouteDispatcher from \"routing/RouteDispatcher\"\r\nexport Router from \"routing/Router\"\r\nexport Serializer from \"serializers/Serializer\"\r\nexport singleton from \"utils/singleton\"\r\nexport Stylesheet from \"css/Stylesheet\"\r\nexport store from \"store\"\r\nexport trait from \"utils/trait\"\r\nexport toType from \"utils/toType\"\r\nexport UID from \"uids/UID\"\r\nexport View, { expression } from \"views/View\"\r\nexport ZParser from \"views/ZParser\"\r\n\r\n// graph\r\nexport BreadthFirstTree from \"graph/BreadthFirstTree\"\r\nexport DepthFirstTree from \"graph/DepthFirstTree\"\r\nexport Edge from \"graph/Edge\"\r\nexport Graph from \"graph/Graph\"\r\nexport HyperGraph from \"graph/HyperGraph\"\r\nexport Traversal from \"graph/Traversal\"\r\nexport Vertex from \"graph/Vertex\"\r\n\r\nexport default `${process.env.APPNAME}@${process.env.APPVERSION}`\r\n"],"sourceRoot":""}