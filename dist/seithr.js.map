{"version":3,"sources":["webpack://seithr/webpack/bootstrap","webpack://seithr/./lib/store.js","webpack://seithr/./lib/utils/cancelAnimationFrames.js","webpack://seithr/./lib/decorators/bound.js","webpack://seithr/./lib/decorators/final.js","webpack://seithr/./lib/decorators/frozen.js","webpack://seithr/./lib/decorators/index.js","webpack://seithr/./lib/errors.js","webpack://seithr/./lib/events/Event.js","webpack://seithr/./lib/models/ModelChange.js","webpack://seithr/./lib/env.js","webpack://seithr/./lib/utils/dummy.js","webpack://seithr/./lib/events/EventDispatcher.js","webpack://seithr/./lib/events/EventTarget.js","webpack://seithr/./lib/utils/isNative.js","webpack://seithr/./lib/utils/toType.js","webpack://seithr/./lib/uids/UID.js","webpack://seithr/./lib/nodes/Node.js","webpack://seithr/./lib/models/Model.js","webpack://seithr/./lib/cookies/Cookie.js","webpack://seithr/./lib/css/CSSHook.js","webpack://seithr/./lib/serializers/Serializer.js","webpack://seithr/./lib/css/CSSRule.js","webpack://seithr/./lib/css/CSSConditionalRule.js","webpack://seithr/./lib/css/CSSMediaRule.js","webpack://seithr/./lib/utils/domready.js","webpack://seithr/./lib/utils/isSameDomain.js","webpack://seithr/./lib/utils/ReadyStateFul.js","webpack://seithr/./lib/utils/requestAnimationFrames.js","webpack://seithr/./lib/routing/Route.mjs","webpack://seithr/./lib/routing/RouteDispatcher.mjs","webpack://seithr/./lib/routing/Router.mjs","webpack://seithr/./lib/utils/singleton.js","webpack://seithr/./lib/views/View.js","webpack://seithr/./lib/views/ZParser.js","webpack://seithr/./lib/css/Stylesheet.js","webpack://seithr/./lib/utils/trait.js","webpack://seithr/./lib/graph/Vertex.js","webpack://seithr/./lib/graph/Edge.js","webpack://seithr/./lib/graph/DepthFirstTree.js","webpack://seithr/./lib/graph/Traversal.js","webpack://seithr/./lib/graph/Graph.js","webpack://seithr/./lib/graph/BreadthFirstTree.js","webpack://seithr/./lib/graph/HyperGraph.js","webpack://seithr/./lib/index.js"],"names":["WeakMap","generatorFn","store","has","set","kind","key","placement","descriptor","value","extras","undefined","initializer","get","configurable","frozen","deep","enumerable","writable","Object","freeze","args","ERR_EVENT_NOT_IMPLEMENTED","ERR_EVENT_TARGET_IS_NOT_VALID","ERR_CANNOT_BE_REUSED","ERR_CSSTEXT","ERR_FN_EXPECTED","ERR_GENERATOR_EXPECTED","ERR_INVALID_TARGET","ERR_NODE_NOT_CHILD","ERR_NODE_NOT_IMPLEMENTED","ERR_READYSTATEFUL_NOT_IMPLEMENTED","ERR_SAME_OBJ","ERR_ILLEGAL_CONSTRUCTOR","ERR_INVALID_DATA","ERR_TYPE_UNKNOWN","ERR_NOT_ITERABLE","ERR_NOT_A_NODE","ERR_RHANDLER","ERR_ROUTE_BUSY","ERR_NOTROUTE","ERR_SS_NOT_WRITABLE","ERR_STRING_EXPECTED","WARN_LATE_NEXT","EALRDYCONN","EINVALIDCONS","ENOTEDGE","ENOTGRAPH","ENOTINSET","ENOTVERTEX","EPRLLLNOTALLOW","ETOOMANYVERT","EUNCOMPEDGE","EUNKNWNREL","sdetail","Symbol","sevent","sondom","soriginaltarget","sphase","Event","type","bubbles","cancelable","composed","detail","event","document","createEvent","initEvent","seal","final","window","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","originalEvent","domnode","currentTarget","dompath","deepPath","map","node","defaultPrevented","eventPhase","originalTarget","relatedTarget","target","preventDefault","stopPropagation","stopImmediatePropagation","ModelChange","path","TYPE","spath","join","BUBBLES","a","createElement","b","appendChild","addEventListener","e","dispatchEvent","EventDispatcher","targets","dispatch","broadcast","Error","srelatedtarget","Node","root","rootNode","sdummy","head","contains","r_value","BROADCAST_PHASE","sbroadcastChannel","dummy","EventTarget","nhandler","handler","slice","from","removeEventListener","known_exceptions","rnative","fn","toString","match","indexOf","o","Array","isArray","ntype","constructor","native","next","prototype","Map","Set","WeakSet","Reflect","apply","toLowerCase","def_chars","def_map","def_radix","def_regexp","schars","smap","sradix","sregexp","UID","chars","CHARS","MAP","radix","RADIX","regexp","REGEXP","generate","replace","c","r","Date","now","Math","random","snodename","snodetype","snodevalue","stextnode","suid","registerIDX","name","OBJECT_NODE","nodeValue","leastCommonAncestor","iterable","iterator","TypeError","nodes","every","size","paths","forEach","push","parentNode","last","candidates","pop","filter","v","defineProperty","domchildren","childNodes","firstChild","lastChild","nextSibling","setAttribute","typeOf","removeAttribute","previousSibling","getRootNode","domsiblings","siblings","uid","parent","child","comparePosition","top","hasChildNodes","referenceNode","referenceChild","insertBefore","removeChild","replaceChild","sdata","soverflow","sseal","sstrictseal","ssymbol","dispatchUpdate","model","xref","revocable","noop","strictlySealed","revocableMeta","opts","traps","hasOwnProperty","Proxy","create","revoke","proxy","setTimeout","revocableProxy","hook","overflow","candidate","io","curr","defineProperties","toJSON","silent","sealed","Model","ref","for","strictseal","valueOf","strict","JSON","parse","stringify","keyFor","m","bool","change","modelchange","sdomain","sexpires","sfrombrowser","sname","ssession","LIFESPAN","TOP_DOMAIN","cookiestr","cookie","domain","toUTCString","split","location","hostname","i","length","hit","Sync","from_browser","Cookie","expires","maxAge","session","isNaN","sync","events","navigator","cookieEnabled","COOKIE_ENABLED","exists","data","unescape","console","error","string","escape","hookedprops","defaulthandler","property","CSSHook","transform","bind","propertyHandler","prophandler","sproperty","sprophandler","def_delimiter","def_separator","def_key_separator","rspacetoplus","rplustospace","sdelimiter","sseparator","Serializer","object","del","delimiter","sep","separator","search","pair","idx","trim","keys","encodeURIComponent","objectify","serialize","scssrule","sselectortext","CSSRuleEvent","cssRule","to","Reset","TextUpdate","SelectorUpdate","rcssparse","serializer","CSSRule","fromstr","shift","exec","cssText","serializeCssText","CSSStyleDeclaration","getPropertyValue","style","prop","getProperty","getHook","setProperty","selectorText","props","objectifyCssText","k","reset","textupdate","rconditional","updaters_text","sactive","sadd","satsheet","sbasecsstext","sbufferrules","sconditiontext","sremove","srules","ssync","stype","CSSConditionalRule","condition","atrule","conditionText","rule","insertRule","splice","rules","is_rule","is_conditional","cond_rule","deleteRule","buffer_rules","delete","cssRules","idxs","CSSMediaRule","gather","documentElement","title","getElementsByTagName","viewport","querySelector","body","ready","Promise","resolve","onready","isready","readyState","href","sfrom","sreadystate","sto","ReadyStateChange","ReadyStateFul","UNINITIALIZED","rsf","readystatechange","generator","onframe","done","requestAnimationFrame","Class","Singleton","singleton","getOwnPropertyNames","getOwnPropertySymbols","staticProperty","getOwnPropertyDescriptor","sargs","sconstructor","sexpression","sfragment","sprops","ssubviewAsChild","stemplate","supdates","xmap","revocableNodeProxy","view","all","revocablePropProxy","transformPath","reduce","acc","step","parseFloat","expression","parts","values","current","View","isPrototypeOf","expressWith","conf","subviewAsChild","Parser","template","updates","updaters","updater","add","handlers","modelEvents","fragment","refs","auto_vars","CLASS_LIST_COMPAT","Element","HTMLElement","createElementNS","classList","evaluate","String","parseInt","setAttributeExceptions","namespaces","html","svg","xml","xmlns","xlink","sbuffer","scontext","slength","sowner","spile","spointer","srefs","svars","rextractsvars","rpathmodel","extractVars","input","output","Function","operators","captured","buffer","capture","lookAhead","traversals","pile","nodeType","ELEMENT_NODE","attr","ns","update","setAttributeNS","bracket","was","requested","remove","classname","getAttribute","concat","safe","TEXT_NODE","createTextNode","textNodes","warn","onnode","textContent","position","innerHTML","remains","ignore","debug","log","symbol","Constructor","instance","context","owner","pointer","glyph","operator","createDocumentFragment","vars","unpile","nodeName","any","int","uint","snode","sready","ssheet","swritable","Ready","sheet","Stylesheet","isSameDomain","dict","id","includes","isLocalFile","ZParser","tree","media","domready","then","hrt","disabled","call","reject","onload","msSetImmediate","sparents","classes","prototypes","accumulator","getPrototypeOf","unshift","slabel","Vertex","label","sedges","sgraphs","graph","edge","Graph","addEdge","edges","addEdges","adjacents","adjacentsIn","adjacentsOut","vertex","arcFrom","arcs","vertices","arcTo","connections","degree","extravertArcWith","hyperarcs","hyperEdgeWith","indegree","Edge","lines","lineWith","relation","loop","loops","outdegree","removeEdge","removeEdges","slbabel","sdirection","sextraverted","sgraph","srelation","svertexa","svertexb","svertices","relations","LINE","INOUT","ININ","OUTIN","OUTOUT","REGION","HYPERARC","states","CONNECTED","DISCONNECTED","types","ARC","LOOP","otherVertices","addVertex","addVertices","l","removeVertex","Boolean","in","out","rel","ReferenceError","directed","bidirected","sroot","straversal","DepthFirstTree","rootVertex","traversal","dft","setPrototypeOf","Traversal","stack","nextVertex","queue","sort","BreadthFirstTree","breadthFirstTree","sallowed","allowance","PARALLELS","presets","LINES","UNDIRECTED","ARCS","DIRECTED","CONNECTIONS","ALL","allows","state","some","inward","outward","construct","added","depthFirstTree","bft","HyperGraph","process"],"mappings":"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","file":"seithr.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\"use strict\"\r\n\r\nexport default new WeakMap\r\n","\"use strict\"\n\nimport store from \"store\"\n\nexport default (generatorFn) => {\n    if ( store.has(generatorFn) )\n      store.set(generatorFn, false)\n}\n","\"use strict\"\r\n\r\nexport default ({ kind, key, placement, descriptor }) => {\r\n    if ( kind !== \"method\")\r\n      return { kind, key, placement, descriptor }\r\n\r\n    if ( descriptor.value)\r\n      return {\r\n          kind, key, placement, descriptor\r\n        , extras: [{\r\n              kind:\"field\", key, placement: \"own\",  descriptor: { ...descriptor, value: undefined }\r\n            , initializer(){ return this::descriptor.value }\r\n          }]\r\n      }\r\n    else if ( descriptor.get )\r\n      return {\r\n          kind, key, placement, descriptor: {\r\n              ...descriptor\r\n            , get(){ return this::descriptor.get() }\r\n          }\r\n      }\r\n}\r\n","\"use strict\"\r\n\r\nexport default ({kind, key, placement, descriptor}) => {\r\n    return {\r\n        kind, key, placement, descriptor:{ ...descriptor, configurable:false }\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nconst frozen = (deep, { descriptor, key, kind, placement, initializer }) => {\r\n    if ( kind !== \"field\" )\r\n      return { descriptor, key, kind, placement, initializer }\r\n\r\n    //TODO deep support :D\r\n    return {\r\n        key, kind, placement\r\n      , descriptor:{ configurable: false, enumerable:descriptor.enumerable, writable: false }\r\n      , initializer: function(){\r\n            return () => Object.freeze(initializer())\r\n        }()\r\n    }\r\n}\r\n\r\nexport default (...args) => {\r\n    if ( typeof args[0] === \"boolean\" )\r\n      return (...args) => frozen(true, ...args)\r\n    else\r\n      return frozen(false, ...args)\r\n}\r\n","\"use strict\"\r\n\r\nexport bound from \"./bound\"\r\nexport final from \"./final\"\r\nexport frozen from \"./frozen\"\r\n","\"use strict\"\r\n\r\nexport const ERR_EVENT_NOT_IMPLEMENTED = \"ERR_EVENT_NOT_IMPLEMENTED\"\r\nexport const ERR_EVENT_TARGET_IS_NOT_VALID = \"ERR_EVENT_TARGET_IS_NOT_VALID\"\r\nexport const ERR_CANNOT_BE_REUSED = \"ERR_CANNOT_BE_REUSED\"\r\nexport const ERR_CSSTEXT = \"ERR_CSSTEXT\"\r\nexport const ERR_FN_EXPECTED = \"function expected\"\r\nexport const ERR_GENERATOR_EXPECTED = \"ERR_GENERATOR_EXPECTED\"\r\nexport const ERR_INVALID_TARGET = \"ERR_INVALID_TARGET\"\r\nexport const ERR_NODE_NOT_CHILD = \"ERR_NODE_NOT_CHILD\"\r\nexport const ERR_NODE_NOT_IMPLEMENTED = \"ERR_NODE_NOT_IMPLEMENTED\"\r\nexport const ERR_READYSTATEFUL_NOT_IMPLEMENTED = \"ERR_READYSTATEFUL_NOT_IMPLEMENTED\"\r\nexport const ERR_SAME_OBJ = \"ERR_SAME_OBJ\"\r\nexport const ERR_ILLEGAL_CONSTRUCTOR = \"ERR_ILLEGAL_CONSTRUCTOR\"\r\nexport const ERR_INVALID_DATA = \"ERR_INVALID_DATA\"\r\nexport const ERR_TYPE_UNKNOWN = \"ERR_TYPE_UNKNOWN\"\r\nexport const ERR_NOT_ITERABLE = \"ERR_NOT_ITERABLE\"\r\nexport const ERR_NOT_A_NODE = \"ERR_NOT_A_NODE\"\r\nexport const ERR_RHANDLER = \"not a valid route handler\"\r\nexport const ERR_ROUTE_BUSY = \"route has already been used\"\r\nexport const ERR_NOTROUTE = \"not a valid route object\"\r\nexport const ERR_SS_NOT_WRITABLE = \"ERR_SS_NOT_WRITABLE\"\r\nexport const ERR_STRING_EXPECTED = \"ERR_STRING_EXPECTED\"\r\nexport const WARN_LATE_NEXT = \"WARN_LATE_NEXT\"\r\n\r\n// graph\r\nexport const EALRDYCONN = \"edge is already connected to a graph\"\r\nexport const EINVALIDCONS = \"invalid constructor\"\r\nexport const ENOTEDGE = \"object does not implement Edge\"\r\nexport const ENOTGRAPH = \"object does not implement Graph\"\r\nexport const ENOTINSET = \"object does not belong to the set\"\r\nexport const ENOTVERTEX = \"object does not implement Vertex\"\r\nexport const EPRLLLNOTALLOW = \"graph doesn't allow parallel edges\"\r\nexport const ETOOMANYVERT = \"edges cannot hold more vertices\"\r\nexport const EUNCOMPEDGE = \"edge type is not allowed by this graph\"\r\nexport const EUNKNWNREL = \"relation is unknown\"\r\n","\"use strict\"\r\n\r\nimport { final } from \"decorators\"\r\nimport { ERR_EVENT_NOT_IMPLEMENTED } from \"errors\"\r\nimport store from \"store\"\r\n\r\nexport const sdetail = new Object(Symbol(\"detail\"))\r\nexport const sevent = new Object(Symbol(\"\"))\r\nexport const sondom = new Object(Symbol())\r\nexport const soriginaltarget = new Object(Symbol())\r\nexport const sphase = new Object(Symbol())\r\n\r\nexport default class Event {\r\n    // static from(event){\r\n    //     if ( !(event instanceof Event) && !(event instanceof window.Event) )\r\n    //       throw new Error(ERR_EVENT_NOT_IMPLEMENTED)\r\n    //\r\n    //     const From = event.constructor\r\n    //     const to = new From(event.type, event)\r\n    //     Object.setPrototypeOf(to, Event.prototype)\r\n    //     Object.keys(From.prototype)\r\n    //     .forEach(property => {\r\n    //         if ( Event.prototype.hasOwnProperty(property) )\r\n    //           return\r\n    //         Object.defineProperty(to, property, Object.getOwnPropertyDescriptor(From.prototype, property))\r\n    //     })\r\n    //\r\n    //     store.set(to, new WeakMap)\r\n    //     store.get(to).set(sdetail, Object.seal(event.detail||null))\r\n    //\r\n    //     if ( event.target ) store.get(to).set(soriginaltarget, event.target)\r\n    //     return to\r\n    // }\r\n\r\n    @final\r\n    static get NONE(){ return window.Event.NONE }\r\n    @final\r\n    static get CAPTURING_PHASE(){ return window.Event.CAPTURING_PHASE }\r\n    @final\r\n    static get AT_TARGET(){ return window.Event.AT_TARGET  }\r\n    @final\r\n    static get BUBBLING_PHASE(){ return window.Event.BUBBLING_PHASE }\r\n    @final\r\n    static get BROADCAST_PHASE(){ return window.Event.BUBBLING_PHASE + 1 }\r\n\r\n    constructor(type, { bubbles=true, cancelable=true, composed=false, detail=null }={}){\r\n        const event = document.createEvent(\"Event\")\r\n        event.initEvent(type, bubbles, cancelable)\r\n\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sdetail, Object.seal(detail))\r\n        store.get(this).set(sevent, event)\r\n        store.set(event, this) // x-reference\r\n    }\r\n\r\n    @final\r\n    get originalEvent(){ return store.get(this).get(sevent) }\r\n\r\n    @final\r\n    get bubbles(){ return this.originalEvent.bubbles }\r\n\r\n    @final\r\n    get cancelable(){ return this.originalEvent.cancelable }\r\n\r\n    @final\r\n    get currentTarget(){\r\n        const domnode = this.originalEvent.currentTarget\r\n        return store.get(this).get(sondom) ? store.get(domnode) : domnode\r\n    }\r\n\r\n    @final\r\n    get deepPath(){\r\n        const dompath = this.originalEvent.deepPath\r\n        return !dompath ? dompath\r\n               : store.get(this).get(sondom) ? dompath.map(node => store.get(node))\r\n               : dompath\r\n    }\r\n\r\n    @final\r\n    get defaultPrevented(){  return this.originalEvent.defaultPrevented }\r\n\r\n    @final\r\n    get detail(){ return store.get(this).get(sdetail) || (this.originalEvent.detail?this.originalEvent.detail:null) }\r\n\r\n    @final\r\n    get eventPhase(){ return store.get(this).get(sphase) || this.originalEvent.eventPhase }\r\n\r\n    @final\r\n    get explicitOriginalTarget(){ return this.originalTarget }\r\n\r\n    @final\r\n    get originalTarget(){\r\n        const domnode = this.originalEvent.originalTarget\r\n        return store.get(this).has(soriginaltarget) ? store.get(this).get(soriginaltarget)\r\n               : store.get(this).get(sondom) ? store.get(domnode)\r\n               : domnode\r\n    }\r\n\r\n    @final\r\n    get relatedTarget(){\r\n      const domnode = this.originalEvent.relatedTarget\r\n      return store.get(this).get(sondom) ? store.get(domnode) : domnode\r\n    }\r\n\r\n    @final\r\n    get target(){\r\n        const domnode = this.originalEvent.target\r\n        return store.get(this).get(sondom) ? store.get(domnode) : domnode\r\n    }\r\n\r\n    @final\r\n    get type(){ return this.originalEvent.type }\r\n\r\n    @final\r\n    preventDefault() { return this.originalEvent.preventDefault() }\r\n\r\n    @final\r\n    stop() { return this.originalEvent.stopPropagation() }\r\n\r\n    @final\r\n    stopImmediate() { return this.originalEvent.stopImmediatePropagation() }\r\n}\r\n","\"use strict\"\r\n\r\nimport Event from \"events/Event\"\r\nimport spath from \"models/Model\"\r\nimport store from \"store\"\r\n\r\nexport default class ModelChange extends Event {\r\n    static get TYPE(){ return \"model:change\" }\r\n\r\n    constructor(path){\r\n        super(ModelChange.TYPE, { bubbles: false })\r\n        store.get(this).set(spath, path)\r\n    }\r\n\r\n    get path(){ return store.get(this).get(spath) }\r\n    get toString(){ return this.path.join(\".\") }\r\n}\r\n","\"use strict\"\r\n\r\nexport const BUBBLES = (() => {\r\n    let bubbles = false\r\n    const a = document.createElement(\"div\")\r\n    const b = a.appendChild(document.createElement(\"div\"))\r\n    a.addEventListener(\"bubblestest\", e => bubbles=true)\r\n\r\n    const e = document.createEvent(\"Event\")\r\n    e.initEvent(\"bubblestest\", true, true)\r\n    b.dispatchEvent(e)\r\n\r\n    return bubbles\r\n})()\r\n","\"use strict\"\r\n\r\nexport default () => document.createElement(\"div\")\r\n","\"use strict\"\r\n\r\nimport { BUBBLES } from \"env\"\r\nimport { final } from \"decorators\"\r\n\r\nimport { ERR_EVENT_NOT_IMPLEMENTED, ERR_EVENT_TARGET_IS_NOT_VALID } from \"errors\"\r\nimport Event from \"events/Event\"\r\nimport store from \"store\"\r\nimport { sbroadcastChannel, sdummy } from \"events/EventTarget\"\r\nimport { sevent, sondom, sphase, soriginaltarget } from 'events/Event'\r\n\r\nexport default class EventDispatcher {\r\n    @final\r\n    static get BUBBLES(){ return BUBBLES }\r\n\r\n    constructor(){\r\n        store.set(this, new WeakMap)\r\n    }\r\n\r\n    @final\r\n    broadcast(event, targets){\r\n        return this.dispatch(event, targets, true)\r\n    }\r\n\r\n    @final\r\n    dispatch(event, {target, relatedTarget, originalTarget}={}, broadcast=false){\r\n        if ( (!(event instanceof Event) && !(event instanceof window.Event)) || !store.has(event) )\r\n          throw new Error(ERR_EVENT_NOT_IMPLEMENTED)\r\n\r\n        relatedTarget && store.get(event).set(srelatedtarget, relatedTarget)\r\n        originalTarget && store.get(event).set(soriginaltarget, originalTarget || target)\r\n\r\n        if ( target instanceof window.Node ) {\r\n            store.get(event).set(sondom, false)\r\n            return target.dispatchEvent(store.get(event).get(event.originalEvent))\r\n        }\r\n\r\n        if ( !store.has(target) )\r\n          throw new Error(ERR_EVENT_TARGET_IS_NOT_VALID)\r\n\r\n        store.get(event).set(sondom, true)\r\n\r\n        if ( !BUBBLES ) {\r\n            const root = store.get(store.get(target).rootNode).get(sdummy)\r\n\r\n            if ( !document.head.contains(root) )\r\n              document.head.appendChild(root)\r\n        }\r\n        const r_value = store.get(target).get(sdummy).dispatchEvent(event.originalEvent)\r\n\r\n        if ( r_value && broadcast ) {\r\n            store.get(event).set(sphase, Event.BROADCAST_PHASE)\r\n            store.get(sbroadcastChannel).dispatchEvent(event.originalEvent)\r\n        }\r\n        \r\n        return r_value\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { BUBBLES } from \"env\"\r\nimport dummy from \"utils/dummy\"\r\nimport Event from \"events/Event\"\r\nimport EventDispatcher from \"events/EventDispatcher\"\r\nimport { final, frozen } from \"decorators\"\r\nimport store from \"store\"\r\n\r\nexport const sbroadcastChannel = new Object(Symbol(\"broadcastchannel\"))\r\nexport const sdummy = new Object(Symbol(\"dummy\"))\r\n\r\nstore.set(sbroadcastChannel, dummy())\r\n\r\nexport default class EventTarget {\r\n    constructor(){\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sdummy, dummy())\r\n        store.set(store.get(this).get(sdummy), this) //cross-reference\r\n    }\r\n\r\n    addBroadcastListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = function(e){\r\n            if ( store.has(e) )\r\n              e = store.get(e)\r\n            return nhandler(e)\r\n        }\r\n\r\n        store.set(args[1], handler)\r\n        return store.get(sbroadcastChannel).addEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n    addEventListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = function(e){\r\n            if ( store.has(e) )\r\n              e = store.get(e)\r\n            return nhandler(e)\r\n        }\r\n\r\n        store.set(args[1], handler)\r\n        return store.get(this).get(sdummy).addEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n\r\n    broadcastEvent(event, { relatedTarget, originalTarget }={}){\r\n        return this.dispatchEvent(event, { target: store.get(sbroadcastChannel), relatedTarget, originalTarget:this }, true)\r\n    }\r\n    dispatchEvent(event, { relatedTarget, originalTarget } = {}, broadcast=false){\r\n        if ( (event && event.eventPhase > Event.NONE) || (event instanceof window.Event && !(event instanceof Event)) )\r\n          event = Event.from(event)\r\n\r\n        return new EventDispatcher().dispatch(event, {\r\n            target: this, relatedTarget, originalTarget\r\n        }, broadcast)\r\n    }\r\n\r\n    removeBroadcastListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = store.get(nhandler)\r\n\r\n        return store.get(sbroadcastChannel).removeEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n    removeEventListener(...args){\r\n        const nhandler = args[1]\r\n        const handler = store.get(nhandler)\r\n\r\n        return store.get(this).get(sdummy).removeEventListener(args[0], handler, ...args.slice(2))\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nconst known_exceptions = [\"[object CSSMediaRule]\"]\r\nconst rnative = /\\s*\\[native code\\]\\s*/i\r\n\r\nexport default fn => {\r\n    try {\r\n        const toString = fn.toString() || \"\"\r\n        return typeof fn == \"function\" ? !!toString.match(rnative)\r\n             : known_exceptions.indexOf(toString) > -1 ? true\r\n             : false\r\n    } catch(e){\r\n        return null\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport native from \"utils/isNative\"\r\n\r\nexport default o => {\r\n    if ( Array.isArray(o) )\r\n      return \"array\"\r\n\r\n    const ntype = typeof o\r\n    return ntype !== \"object\" ? ( o === o ? ntype : \"nan\" )\r\n      : o && o.constructor && native(o.next) ? \"generator\"\r\n      : o && o.constructor && !native(o.constructor) ? \"instance\"\r\n      : o && typeof o.prototype == \"function\" ? \"function\"\r\n      : o && typeof o.constructor == Map ? \"map\"\r\n      : o && typeof o.constructor == WeakMap ? \"weakmap\"\r\n      : o && typeof o.constructor == Set ? \"set\"\r\n      : o && typeof o.constructor == WeakSet ? \"weakset\"\r\n      : Reflect.apply(Object.prototype.toString, o, []).slice(8, - 1).toLowerCase()\r\n}\r\n","\"use strict\"\r\n\r\nimport { final } from \"decorators\"\r\nimport store from \"store\"\r\n\r\nconst def_chars = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\"\r\nconst def_map = \"Fxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\"\r\nconst def_radix = 16\r\nconst def_regexp = /[xy]/g\r\n\r\nconst schars = new Object(Symbol())\r\nconst smap = new Object(Symbol())\r\nconst sradix = new Object(Symbol())\r\nconst sregexp = new Object(Symbol())\r\n\r\nexport default class UID {\r\n    @final\r\n    static get CHARS(){ return def_chars }\r\n\r\n    @final\r\n    static get MAP(){ return def_map }\r\n\r\n    @final\r\n    static get RADIX(){ return def_radix }\r\n\r\n    @final\r\n    static get REGEXP(){ return def_regexp }\r\n\r\n    @final\r\n    static uid({ chars, map, radix, regexp } = {}){ return new UID({ chars, map, radix, regexp }).generate() }\r\n\r\n    constructor({ chars=UID.CHARS, map=UID.MAP, radix=UID.RADIX, regexp=UID.REGEXP } = {}){\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(schars, chars)\r\n        store.get(this).set(smap, map)\r\n        store.get(this).set(sradix, radix)\r\n        store.get(this).set(sregexp, regexp)\r\n    }\r\n\r\n    @final\r\n    get chars(){ return store.get(this).get(schars) }\r\n\r\n    @final\r\n    get map(){ return store.get(this).get(smap) }\r\n\r\n    @final\r\n    get radix(){ return store.get(this).get(sradix) }\r\n\r\n    @final\r\n    get regexp(){ return store.get(this).get(sregexp) }\r\n\r\n    @final\r\n    generate(){\r\n        return this.map.replace(this.regexp, (c, r) => {\r\n            r = (Date.now() + Math.random()*this.radix)%this.radix |0\r\n            if ( c === \"y\") r = (r & 0x3)|0x8\r\n            return this.chars[r]\r\n        })\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { final } from \"decorators\"\r\nimport { ERR_NODE_NOT_CHILD, ERR_NODE_NOT_IMPLEMENTED, ERR_NOT_A_NODE, ERR_NOT_ITERABLE, ERR_SAME_OBJ, ERR_STRING_EXPECTED } from \"errors\"\r\nimport EventTarget, { sdummy } from \"events/EventTarget\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\nimport UID from \"uids/UID\"\r\n\r\nexport const snodename = new Object(Symbol(\"nodename\"))\r\nexport const snodetype = new Object(Symbol(\"nodetype\"))\r\nexport const snodevalue = new Object(Symbol(\"nodevalue\"))\r\nexport const stextnode = new Object(Symbol(\"textnode\"))\r\nexport const suid = new Object(Symbol(\"uid\"))\r\n\r\nlet registerIDX = 13\r\nexport default class Node extends EventTarget {\r\n\r\n    //   const unsigned short ELEMENT_NODE = 1;\r\n    //   const unsigned short ATTRIBUTE_NODE = 2;\r\n    //   const unsigned short TEXT_NODE = 3;\r\n    //   const unsigned short CDATA_SECTION_NODE = 4;\r\n    //   const unsigned short ENTITY_REFERENCE_NODE = 5; // historical\r\n    //   const unsigned short ENTITY_NODE = 6; // historical\r\n    //   const unsigned short PROCESSING_INSTRUCTION_NODE = 7;\r\n    //   const unsigned short COMMENT_NODE = 8;\r\n    //   const unsigned short DOCUMENT_NODE = 9;\r\n    //   const unsigned short DOCUMENT_TYPE_NODE = 10;\r\n    //   const unsigned short DOCUMENT_FRAGMENT_NODE = 11;\r\n    //   const unsigned short NOTATION_NODE = 12; // historical\r\n    @final\r\n    static get OBJECT_NODE() { return 13 }\r\n\r\n    @final\r\n    static get lca(){ return Node.leastCommonAncestor }\r\n    @final\r\n    static leastCommonAncestor(iterable) {\r\n        if ( !iterable[Symbol.iterator] )\r\n          throw new TypeError(ERR_NOT_ITERABLE)\r\n\r\n        const nodes = new Set([...iterable])\r\n\r\n        if ( ![...nodes].every(node => node instanceof Node) )\r\n          throw new TypeError(ERR_NOT_A_NODE)\r\n\r\n        if ( nodes.size == 1 )\r\n          return [...nodes][0]\r\n\r\n        const paths = []\r\n        nodes.forEach(node => {\r\n            const path = []\r\n\r\n            while ( node ) {\r\n                path.push(node)\r\n                node = node.parentNode\r\n            }\r\n\r\n            paths.push(path)\r\n        })\r\n\r\n        let last = null, candidates\r\n        while ( candidates = new Set([...paths.map(path => path.pop())].filter(v=>!!v)), candidates.size == 1 )\r\n          last = [...candidates][0]\r\n\r\n        return last\r\n    }\r\n\r\n    @final\r\n    static registerType(type) {\r\n        Object.defineProperty(Node, type, { value: ++registerIDX })\r\n        return Node[type]\r\n    }\r\n\r\n    constructor({ name=\"\", type=\"OBJECT_NODE\", value=null } = {}){\r\n        super()\r\n        store.get(this).set(snodename, name && name.toString ? name.toString() : \"\")\r\n        store.get(this).set(snodetype, ( typeof Node[type] == \"number\" ? Node[type] : Node.OBJECT_NODE ))\r\n        this.nodeValue = value\r\n    }\r\n\r\n    @final\r\n    get childNodes(){\r\n        const domchildren = [...store.get(this).get(sdummy).childNodes]\r\n        return domchildren && domchildren.map(dummy => store.get(dummy))\r\n    }\r\n\r\n    @final\r\n    get children(){ return this.childNodes }\r\n\r\n    @final\r\n    get firstChild(){\r\n        const domnode = store.get(this).get(sdummy).firstChild\r\n        return domnode && store.get(domnode)\r\n    }\r\n    @final\r\n    get lastChild(){\r\n        const domnode = store.get(this).get(sdummy).lastChild\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get nextSibling(){\r\n        const domnode = store.get(this).get(sdummy).nextSibling\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get nodeName(){\r\n        return store.get(this).get(snodename)\r\n    }\r\n\r\n    @final\r\n    get nodeType(){\r\n        return store.get(this).get(snodetype)\r\n    }\r\n\r\n    @final\r\n    get nodeValue(){\r\n        return store.get(this).get(snodevalue)\r\n    }\r\n    set nodeValue(v){\r\n        if ( this.nodeValue === null )\r\n          return // cannot change a null value //TODO throw error ?\r\n\r\n        store.get(this).get(sdummy).setAttribute(\"type\", typeOf(v))\r\n        if ( v != null )\r\n          store.get(this).get(sdummy).setAttribute(\"value\", v && v.toString && v.toString() )\r\n        else\r\n          store.get(this).get(sdummy).removeAttribute(\"value\")\r\n        store.get(this).set(snodevalue, v)\r\n    }\r\n\r\n    @final\r\n    get parentNode(){\r\n        const domnode = store.get(this).get(sdummy).parentNode\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get previousSibling(){\r\n        const domnode = store.get(this).get(sdummy).previousSibling\r\n        return domnode && store.get(domnode)\r\n    }\r\n\r\n    @final\r\n    get rootNode(){ return this.getRootNode() }\r\n\r\n    @final\r\n    get siblings(){\r\n        const domsiblings = store.get(this).get(sdummy).siblings\r\n        return domsiblings && domsiblings.map(dummy => store.get(dummy))\r\n    }\r\n\r\n    @final\r\n    get uid(){\r\n        if ( !store.get(this).has(suid) )\r\n            store.get(this).set(suid, UID.uid())\r\n          return store.get(this).get(suid)\r\n    }\r\n\r\n    @final\r\n    appendChild(node){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        return store.get(parent.appendChild(child))\r\n    }\r\n\r\n    @final\r\n    comparePosition(node){\r\n        const a = store.get(this).get(sdummy)\r\n        const b = store.get(node).get(sdummy)\r\n        return a.comparePosition(b)\r\n    }\r\n\r\n    @final\r\n    contains(node){\r\n        const a = store.get(this).get(sdummy)\r\n        const b = store.get(node).get(sdummy)\r\n        return a.contains(b)\r\n    }\r\n\r\n    @final\r\n    getRootNode(){\r\n        let top = store.get(target).get(sdummy)\r\n\r\n        while ( top.parentNode && store.has(top) )\r\n          top = top.parentNode\r\n\r\n        return store.get(top)\r\n    }\r\n\r\n    @final\r\n    hasChildNodes(){\r\n        return store.get(this).get(sdummy).hasChildNodes()\r\n    }\r\n\r\n    @final\r\n    insertBefore(node, referenceNode){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        const referenceChild = store.get(referenceNode).get(sdummy)\r\n\r\n        return store.get(parent.insertBefore(child, referenceChild))\r\n    }\r\n\r\n    @final\r\n    isEqualNode(node){ //check if node is an instance of the same class as this\r\n        return node instanceof this.constructor\r\n    }\r\n\r\n    @final\r\n    isSameNode(node){ return this === node }\r\n\r\n    @final\r\n    removeChild(node){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        return store.get(parent.removeChild(child))\r\n    }\r\n\r\n    @final\r\n    replaceChild(node, referenceNode){\r\n        const parent = store.get(this).get(sdummy)\r\n        const child = store.get(node).get(sdummy)\r\n        const referenceChild = store.get(referenceNode).get(sdummy)\r\n\r\n        return store.get(parent.replaceChild(child, referenceChild))\r\n    }\r\n\r\n    @final\r\n    valueOf(){ return this.nodeValue }\r\n}\r\n","\"use strict\"\r\n\r\nimport ModelChange from \"models/ModelChange\"\r\nimport Node from \"nodes/Node\"\r\nimport store from \"store\"\r\n\r\nexport const sdata = new Object(Symbol(\"data\"))\r\nexport const soverflow = new Object(Symbol(\"overflow\"))\r\nexport const spath = new Object(Symbol(\"path\"))\r\nexport const sseal = new Object(Symbol(\"seal\"))\r\nexport const sstrictseal = new Object(Symbol(\"strictseal\"))\r\nexport const ssymbol = new Object(Symbol(\"symbol\"))\r\n\r\nconst dispatchUpdate = (model, path) =>\r\n  model.dispatchEvent(new ModelChange(path)) //sync event\r\n\r\nconst xref = new Map\r\nlet revocable = null\r\n\r\nconst noop = strictlySealed => () => !strictlySealed\r\n\r\nconst revocableMeta = (model, target, path, opts={}) => {\r\n    const traps = {\r\n        get: (target, key) => {\r\n            if ( Reflect.apply(Object.prototype.hasOwnProperty, target, [key]) )\r\n              return target[key]\r\n            return revocableMeta(model, target, [...path, key], opts)\r\n        }\r\n      // TODO make the following compatible with proxy-polyfill\r\n      // , defineProperty:noop(true), deleteProperty:noop(true)\r\n      // , preventExtensions:noop(true)\r\n      , set:noop(true)\r\n    }\r\n\r\n    const { revoke, proxy } = Proxy.revocable(Object.create({}, {\r\n        model: { enumerable: true, configurable:true, value: model }\r\n      , path: { enumerable: true, configurable:true, value: path}\r\n    }), traps)\r\n\r\n    if ( revocable )\r\n      revocable()\r\n    revocable = () => setTimeout(revoke, 4)\r\n\r\n    return proxy\r\n}\r\n\r\nconst revocableProxy = (model, target, path, opts={}) => {\r\n    const traps = {\r\n        get: (target, key) => {\r\n        // if the requested property is object like, return a proxy to that object\r\n            if ( target[key] instanceof Object && !target[key].hook )\r\n              return revocableProxy(model, target[key], [...path, key], opts)\r\n        // if requested property is a function, return the result of that function\r\n            else if ( typeof target[key] == \"function\" )\r\n              return Reflect.apply(target[key], model, [])\r\n        // if the requested property is primitive value, return the primitive (no proxy)\r\n            else if ( Reflect.apply(Object.prototype.hasOwnProperty, target, [key]) )\r\n              return target[key]\r\n        // if the current value is object like, and the requested property doesn't exist and the node has a parent\r\n        // push the request to the parent\r\n            else if ( target instanceof Object && model.overflow && model.parentNode  )\r\n              try {\r\n                  let candidate = model.parentNode.io\r\n\r\n                  for ( const curr of [...path, key] )\r\n                    candidate = candidate[curr]\r\n                  return candidate\r\n              } catch(e){} //TODO\r\n\r\n            return undefined\r\n        }\r\n      // TODO make the following compatible with proxy-polyfill\r\n      // , defineProperty: (target, key, descriptor) => {\r\n      //       const rv  = Object.defineProperty(target, key, descriptor)\r\n      //       !opts.silent && dispatchUpdate(model, [...path, key])\r\n      //       return rv // must return true/false depending on success/failure\r\n      //   }\r\n      // , deleteProperty: (target, property) => {\r\n      //       if ( property in target)\r\n      //         delete target[property]\r\n      //       !opts.silent && dispatchUpdate(model, [...path])\r\n      //       return true\r\n      //\r\n      //   }\r\n      , set: (target, key, value) => {\r\n            if ( opts.hook ) {\r\n                if ( typeof value !== \"function\" )\r\n                  return false\r\n\r\n                Object.defineProperties(value, {\r\n                    toJSON: { value: () => undefined }\r\n                  , hook: { value: true }\r\n                })\r\n            }\r\n\r\n            target[key] = value\r\n            !opts.silent && dispatchUpdate(model, [...path, key])\r\n\r\n            return true // return true/false depending on success/failure\r\n        }\r\n    }\r\n\r\n    if ( model.sealed )\r\n      // TODO make the following compatible with proxy-polyfill\r\n      // traps.defineProperty = traps.deleteProperty =\r\n      // traps.preventExtensions =\r\n      traps.set =\r\n      noop(model.strictlySealed)\r\n\r\n    const { revoke, proxy } = Proxy.revocable(target, traps)\r\n\r\n    if ( revocable )\r\n      revocable()\r\n    revocable = () => setTimeout(revoke, 4)\r\n\r\n    return proxy\r\n}\r\n\r\n// export const events = {\r\n//     modelchange: ModelChange.TYPE\r\n// }\r\n\r\nexport default class Model extends Node {\r\n    static events = {\r\n        change: ModelChange.TYPE\r\n      , modelchange: ModelChange.TYPE\r\n    }\r\n    // static get events(){ return events }\r\n\r\n    static async from(){} // get from a service/ajax call\r\n\r\n    static ref(ref){  return xref.get(Symbol.for(ref)) }\r\n\r\n    static /*proxy*/ get io(){\r\n        const {proxy, revoke} = Proxy.revocable({}, {\r\n            get: (target, key) => {\r\n                const model = xref.get(Symbol.for(key))\r\n                return model.io\r\n            }\r\n        })\r\n\r\n        if ( revocable )\r\n          revocable()\r\n        revocable = () => setTimeout(revoke, 4)\r\n        return proxy\r\n    }\r\n\r\n    constructor({ref, overflow=true, seal=false, strictseal=false}={}) { // ref can be anything compatible with a map key\r\n        super()\r\n        // define a symbol(uid) ( uid comes from seithr.Node\r\n        // save symbol to model link\r\n        // if a ref is passed, save ref to model link\r\n        store.get(this).set(ssymbol, Symbol.for(this.uid))\r\n        store.get(this).set(soverflow, overflow)\r\n        xref.set(this.valueOf(), this)\r\n        xref.set(store.get(this).get(ssymbol), this)\r\n        if ( ref ) xref.set(Symbol.for(ref), this)\r\n        store.get(this).set(sdata, null)\r\n\r\n        if ( seal || strictseal )\r\n          this.seal(strictseal)\r\n    }\r\n\r\n    async fetch(){} //fetch data from a XMLHttpRequest ( Service )\r\n\r\n    get hook(){\r\n        if ( store.get(this).get(sdata) instanceof Object )\r\n          return revocableProxy(this, store.get(this).get(sdata), [], {hook:true})\r\n        return store.get(this).get(sdata)\r\n    }\r\n\r\n    /* proxy */ get io(){\r\n      if ( store.get(this).get(sdata) instanceof Object )\r\n        return revocableProxy(this, store.get(this).get(sdata), [])\r\n      return store.get(this).get(sdata)\r\n    }\r\n    set io(v){\r\n        store.get(this).set(sdata, v)\r\n        dispatchUpdate(this, [])\r\n    }\r\n\r\n    /* proxy */ get m(){\r\n        return revocableMeta(this, store.get(this).get(sdata), [], {})\r\n    }\r\n    /* proxy */ get meta(){ return this.m }\r\n\r\n    /* proxy */ get silentio(){ return revocableProxy(this, store.get(this).get(sdata), [], {silent:true}) }\r\n    set silentio(v){ store.get(this).set(sdata, v) }\r\n\r\n    get overflow(){ return store.get(this).get(soverflow) }\r\n    set overflow(bool){ store.get(this).set(soverflow, !!bool) }\r\n\r\n    seal(strict){\r\n        store.get(this).set(sseal, true)\r\n        store.get(this).set(sstrictseal, !!strict)\r\n    }\r\n    get sealed(){ return !!store.get(this).get(sseal) }\r\n    get strictlySealed(){ return this.sealed && !!store.get(this).get(sstrictseal) }\r\n\r\n    toJSON(){ return JSON.parse(JSON.stringify(store.get(this).get(sdata))) } //prevent access to raw object via toJSON()\r\n    toString(){ return this.valueOf() }\r\n    valueOf(){ return Symbol.keyFor(store.get(this).get(ssymbol)) }\r\n}\r\n","\"use strict\"\r\n\r\nimport { bound, final, frozen } from \"decorators\"\r\nimport { ERR_STRING_EXPECTED } from \"errors\"\r\nimport Model from \"models/Model\"\r\nimport Event from \"events/Event\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\n\r\nconst sdomain = new Object(Symbol(\"domain\"))\r\nconst sexpires = new Object(Symbol(\"expires\"))\r\nconst sfrombrowser = new Object(Symbol(\"frombrowser\"))\r\nconst spath = new Object(Symbol(\"path\"))\r\nconst sname = new Object(Symbol(\"name\"))\r\nconst ssession = new Object(Symbol(\"session\"))\r\n\r\nconst LIFESPAN = 15552000000\r\nexport const TOP_DOMAIN = (() => {\r\n    const cookiestr = \"__seithrtest=testcookie\"\r\n    const cookie = domain => {\r\n        document.cookie = cookiestr+\"; domain=\"+domain\r\n\r\n        if ( document.cookie.indexOf(cookiestr) != -1 ) {\r\n            document.cookie = cookiestr+\"; domain=\"+domain+\"; expires=\" + new Date( +(new Date) - 1000 ).toUTCString()\r\n            return true\r\n        }\r\n\r\n        return false\r\n    }\r\n\r\n    const split = location.hostname.split(\".\")\r\n\r\n    let curr = \"\"\r\n    let i = split.length\r\n    let hit = false\r\n\r\n    while (i--)\r\n      if ( curr == split.slice(i).join(\".\"), hit = cookie(curr), hit )\r\n        return curr\r\n})()\r\n\r\nexport class Sync extends Event {\r\n    static get TYPE(){ return \"cookiesync\" }\r\n\r\n    constructor(from_browser=false){\r\n        super(Sync.TYPE)\r\n        store.get(this).set(sfrombrowser, from_browser)\r\n    }\r\n\r\n    get source(){ return store.get(this).get(sfrombrowser) ? \"browser\" : \"model\" }\r\n}\r\n\r\nexport default class Cookie extends Model {\r\n    @frozen\r\n    static events = {\r\n        sync: Sync.TYPE\r\n    }\r\n    //static get events(){ return { Sync } }\r\n    static get COOKIE_ENABLED(){ return navigator.cookieEnabled }\r\n    static get TOP_DOMAIN(){ return TOP_DOMAIN }\r\n\r\n    constructor({ name=null, path=\"/\", domain=Cookie.TOP_DOMAIN, expires, maxAge, session=false } = {}){\r\n        super()\r\n\r\n        if ( typeOf(name) != \"string\" )\r\n          throw new Error(ERR_STRING_EXPECTED)\r\n\r\n        store.get(this).set(sdomain, typeOf(domain) == \"string\" ? domain : Cookie.TOP_DOMAIN)\r\n        store.get(this).set(sexpires, !!session ? \"\"\r\n                                    : !isNaN( +(new Date(expires)) ) ? new Date(expires).toUTCString()\r\n                                    : new Date( +(new Date) + (+maxAge||LIFESPAN) ).toUTCString())\r\n        store.get(this).set(sname, name)\r\n        store.get(this).set(spath, typeOf(path) == \"string\" ? path : \"/\")\r\n        store.get(this).set(ssession, !!session)\r\n\r\n        this.sync(true)\r\n\r\n        window.addEventListener(\"focus\", e => this.sync(true))\r\n        this.addEventListener(Model.events.change, () => this.sync(false))\r\n    }\r\n\r\n    get COOKIE_ENABLED(){ return Cookie.COOKIE_ENABLED }\r\n    get TOP_DOMAIN(){ return Cookie.TOP_DOMAIN }\r\n\r\n    get domain(){ return store.get(this).get(sdomain) }\r\n    get expires(){ return store.get(this).get(sexpires) }\r\n    get path(){ return store.get(this).get(spath) }\r\n    get name(){ return store.get(this).get(sname) }\r\n    get session(){ return store.get(this).set(ssession) }\r\n\r\n    @final\r\n    clear(){\r\n        this.io = null\r\n    }\r\n\r\n    @final\r\n    sync(from_browser=false){\r\n        if ( from_browser ) {\r\n            const exists = document.cookie.match(store.get(this).get(sname)+\"=([^;]*)\")\r\n            let data\r\n\r\n            if ( exists ) {\r\n                try {\r\n                    data = JSON.parse(unescape(exists[1]))\r\n                } catch(e) {\r\n                    console.error(e)\r\n                    data = {}\r\n                }\r\n            }\r\n\r\n            this.io = data\r\n            this.dispatchEvent(new Sync(true))\r\n            return\r\n        }\r\n\r\n        const string = escape(JSON.stringify(this))\r\n\r\n        if ( string.length )\r\n          document.cookie = [this.name, \"=\", string, \"; domain=\", this.domain, \"; path=\", this.path, \";\", this.session?\"\":\"expires=\"+this.expires+\";\"].join(\"\")\r\n        else\r\n          document.cookie = [this.name, \"=0; domain=\", this.domain, \"; path=\", this.path, \"; expires=\", new Date( +(new Date) - 1000 ).toUTCString(), \";\"].join(\"\")\r\n\r\n        this.dispatchEvent(new Sync(false))\r\n        return\r\n    }\r\n\r\n\r\n}\r\n","\"use strict\"\n\nimport store from \"store\"\n\nconst hookedprops = new WeakMap\nconst defaulthandler = function(v){\n    return [{ property: this.property, value: v }]\n}\n\nexport default class CSSHook {\n    static getHook(property){\n        if ( hookedprops.has(property) )\n          return [...hookedprops.get(property)]\n        else return [{transform: defaulthandler.bind({property})}]\n    }\n\n    constructor(property, propertyHandler=defaulthandler){\n        if ( typeOf(property) !== \"string\" )\n          throw new TypeError(ERR_STRING_EXPECTED)\n        if ( typeOf(prophandler) !== \"function\" )\n          throw new TypeError(ERR_FN_EXPECTED)\n\n        store.set(this, new WeakMap)\n        store.get(this).set(sproperty, property)\n        store.get(this).set(sprophandler, propertyHandler)\n    }\n\n    get property(){ return store.get(this).get(sproperty) }\n\n    transform(v){\n        return Reflect.apply(store.get(this).get(sprophandler), this, v)\n    }\n}\n","\"use strict\"\n\nimport store from \"store\"\n\nconst  def_delimiter = \"=\"\nconst def_separator = \"&\"\nconst def_key_separator = \".\"\nconst rspacetoplus = /%20/g\nconst rplustospace = /\\+/g\n\nconst sdelimiter = new Object(Symbol())\nconst sseparator = new Object(Symbol())\n\nexport default class Serializer {\n    static objectify(string=\"\"){\n        const object = {}\n        const del = this && this.delimiter  || def_delimiter\n        const sep = this && this.separator  || def_separator\n\n        void (string.search(sep) != -1 ? string.split(sep) : string.length ? [string] : [])\n          .forEach(pair => {\n                pair = unescape( pair.replace(rplustospace, \"%20\") )\n                const idx = pair.indexOf(del)\n                const key = pair.split(del, 1)[0]\n                const value = pair.slice(idx+1)\n                object[key.trim()] = idx != -1 ? value : true\n          })\n\n        return object\n    }\n\n    static serialize(object){\n        const del = this && this.delimiter  || def_delimiter\n        const sep = this && this.separator  || def_separator\n\n        return [\n          ...Object.keys(object)\n              .map(key => `${escape(key)}${del}${encodeURIComponent(object[key])}`)\n        ].join(sep).replace(rspacetoplus, \"+\")\n    }\n\n    static stringify(object){\n        const del = this && this.delimiter  || def_delimiter\n        const sep = this && this.separator  || def_separator\n\n        return [\n          ...Object.keys(object)\n              .map(key => `${escape(key)}${del}${object[key]}`)\n        ].join(sep)\n    }\n\n    constructor({ delimiter=def_delimiter, separator=def_separator } = {}){\n        store.set(this, new WeakMap)\n        store.get(this).set(sdelimiter, delimiter)\n        store.get(this).set(sseparator, separator)\n    }\n\n    get delimiter(){ return store.get(this).get(sdelimiter) }\n    get separator(){ return store.get(this).get(sseparator) }\n\n    objectify(string){ return Reflect.apply(Serializer.objectify, this, [string]) }\n    serialize(object){ return Reflect.apply(Serializer.serialize, this, [object]) }\n    stringify(object){ return Reflect.apply(Serializer.stringify, this, [object]) }\n}\n","\"use strict\"\n\nimport { ERR_STRING_EXPECTED, ERR_FN_EXPECTED } from \"errors\"\nimport CSSHook from \"css/CSSHook\"\nimport Event from \"events/Event\"\nimport Node from \"nodes/Node\"\nimport Serializer from \"serializers/Serializer\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nimport { sdummy } from \"events/EventTarget\"\nconst scssrule = new Object(Symbol())\nconst sproperty = new Object(Symbol())\nconst sprophandler = new Object(Symbol())\nconst sselectortext = new Object(Symbol())\n\nclass CSSRuleEvent extends Event {\n    static get TYPE(){ return \"cssruleevent\" }\n\n    constructor(type, {cssRule, from, to}){\n        super(type||CSSRuleEvent.TYPE)\n        store.get(this).set(scssrule, cssRule)\n    }\n\n    get cssRule(){ return store.get(this).get(scssrule) }\n}\n\nexport class Reset extends CSSRuleEvent {\n    static get TYPE(){ return \"reset\" }\n    constructor({ cssRule, from, to }){\n        super(Reset.TYPE, { cssRule, from, to })\n    }\n}\n\nexport class TextUpdate extends CSSRuleEvent {\n    static get TYPE(){ return \"textupdate\" }\n    constructor({ cssRule, from, to }){\n        super(TextUpdate.TYPE, { cssRule, from, to })\n    }\n}\n\nexport class SelectorUpdate extends CSSRuleEvent {\n    static get TYPE(){ return \"selectorupdate\" }\n    constructor({ cssRule, from, to }){\n        super(SelectorUpdate.TYPE, { cssRule, from, to })\n    }\n}\n\nconst rcssparse = /(?:\\s|$)*([^{]*)(?:\\s|$)*{(.*)}(?:\\s|$)*/\nconst serializer = new Serializer({ delimiter: \":\", separator: \";\" })\n\nexport default class CSSRule extends Node {\n    static events = {\n        reset: Reset.TYPE\n      , textupdate: TextUpdate.TYPE\n      , SelectorUpdate: SelectorUpdate.TYPE\n    }\n    //static get events(){ return { Reset, TextUpdate, SelectorUpdate} }\n\n    static objectifyCssText(string){ return serializer.objectify(string) }\n    static serializeCssText(object){ return serializer.stringify(object)  }\n    static hook(property, propertyHandler){ return new CSSHook(property, propertyHandler) }\n\n    constructor(...args){\n        super()\n\n        let fromstr = false\n\n        store.get(this).set(sselectortext, args.length > 1 && typeOf(args[0]) == \"string\" && isNaN(+args[0]) ? args.shift()\n                      : args.length == 1 && typeOf(args[0]) == \"string\" ? (fromstr = true, (rcssparse.exec(args[0])||[])[1]||\"\")\n                      : (fromstr = true, args.shift(), (rcssparse.exec(args[0])||[])[1]||\"\"))\n\n        this.cssText = fromstr ? (rcssparse.exec(args.pop())||[])[2]||\"\"\n                     : typeOf(args[args.length-1]) == \"string\" ? args.pop()\n                     : typeOf(args[args.length-1]) == \"object\" ? CSSRule.serializeCssText(args.pop())\n                     : \"\"\n    }\n\n    get cssText(){ return store.get(this).get(sdummy).style.cssText }\n    set cssText(v){\n        const from = store.get(this).get(sdummy).style.cssText\n        store.get(this).get(sdummy).style.cssText = \"\"\n\n        const props = CSSRule.objectifyCssText(v)\n        Object.keys(props).forEach(k => this.setProperty(k, props[k]))\n        const to = store.get(this).get(sdummy).style.cssText\n\n        if ( from !== to )\n          this.dispatchEvent(new Reset({ cssRule:this, from, to }))\n    }\n    get selectorText(){ return store.get(this).get(sselectortext) }\n    set selectorText(to){\n        const from = this.selectorText\n        store.get(this).set(sselectortext, to)\n\n        if ( from && from !== \"null\" && from !== to )\n          this.dispatchEvent(new SelectorUpdate({ cssRule: this, from, to }))\n    }\n\n    getProperty(...args){\n        return Reflect.apply(CSSStyleDeclaration.prototype.getPropertyValue, store.get(this).get(sdummy).style, args)\n    }\n\n    setProperty(prop, value){\n        const from = this.getProperty(prop)\n\n        CSSHook.getHook(prop)\n          .forEach(({transform}) => {\n              transform(value)\n                .forEach(({property, value})=>{\n                    store.get(this).get(sdummy).style.setProperty(property, value)\n\n                    const to = this.getProperty(prop)\n\n                    if ( from !== to )\n                      this.dispatchEvent(new TextUpdate({ cssRule:this, from, to }))\n                })\n          })\n    }\n\n    toString(){\n        return `${this.selectorText}{${this.cssText}}`\n    }\n\n}\n","\"use strict\"\n\nimport { ERR_CSSTEXT } from \"errors\"\nimport Event from \"events/Event\"\nimport CSSRule from \"css/CSSRule\"\nimport Node from \"nodes/Node\"\nimport store from \"store\"\n\nconst rconditional = /^\\@(document|supports|media)([^\\{]*)\\{(.*)\\}/i\nconst updaters_text = new WeakMap\n\nconst sactive = new Object(Symbol())\nexport const sadd = new Object(Symbol())\nconst satsheet = new Object(Symbol())\nconst sbasecsstext = new Object(Symbol())\nconst sbufferrules = new Object(Symbol())\nconst sconditiontext = new Object(Symbol())\nexport const sremove = new Object(Symbol())\nconst srules = new Object(Symbol())\nconst ssync = new Object(Symbol())\nconst stype = new Object(Symbol())\n\nexport default class CSSConditionalRule extends Node {\n    constructor(condition = \"\"){\n        super()\n\n        const atrule = rconditional.exec(condition)\n        const type = atrule[1]\n        const conditionText = atrule[2]\n        const cssText = atrule[3]\n\n        if ( !type || !conditionText )\n          throw new TypeError(ERR_CSSTEXT)\n\n        store.set(this, new WeakMap)\n        store.get(this).set(stype, type)\n        store.get(this).set(sconditiontext, conditionText)\n        store.get(this).set(sbasecsstext, cssText.trim())\n\n        store.get(this).set(ssync, false)\n        store.get(this).set(srules, [])\n        store.get(this).set(sbufferrules, [])\n        store.get(this).set(satsheet, [])\n        store.get(this).set(sadd, rule => {\n            store.get(this).get(satsheet).push(rule)\n            store.get(this).set(sactive, true)\n            this.insertRule(store.get(this).get(sbufferrules))\n        })\n        store.get(this).set(sremove, rule => {\n            let idx = store.get(this).get(satsheet)\n\n            if ( idx !== -1 )\n              store.get(this).get(satsheet).splice(idx, 1)\n\n            if ( !store.get(this).get(satsheet).length )\n              store.get(this).set(sactive, false)\n        })\n    }\n\n    get condition(){ return store.get(this).get(stype) }\n    get conditionText(){ return store.get(this).get(sconditiontext) }\n    get cssText(){\n        if ( store.get(this).get(sactive) )\n          return store.get(this).get(satsheet)[0].cssText\n        return store.get(this).get(sbasecsstext)\n    }\n\n    deleteRule(...args){\n        const rules = args && args[0][Symbol.iterator] ? args.shift()\n                    : args.length ? args\n                    : []\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : null\n\n            if ( !rule )\n              return\n\n            if ( !store.get(this).get(sactive) ) {\n                let idx\n\n                while ( idx = store.get(this).get(sbufferrules).indexOf(rule), idx !== -1 )\n                  store.get(this).get(sbufferrules).splice(idx, 1)\n            }\n\n            else {\n                if ( is_rule ) {\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        let idx = -1\n\n                        while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 )\n                          cond_rule.deleteRule(idx),\n                          store.get(this).get(srules).splice(idx, 1)\n\n                        while ( idx = store.get(this).buffer_rules.indexOf(rule), idx != -1 )\n                          store.get(this).get(sbufferrules).splice(idx, 1)\n                    })\n\n                    if ( updaters_text.has(rule) )\n                        rule.removeEventListener(cssRule.events.textupdate, updaters_text.get(rule)),\n                        updaters_text.delete(rule)\n                } else if ( is_conditional ){\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        let idx = -1\n                        while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 ) {\n                            store.get(rule).get(sremove)( cond_rule.cssRules[idx] )\n                            cond_rule.deleteRule(idx)\n                            store.get(this).get(srules).splice(idx, 1)\n                        }\n\n                        while ( idx = store.get(this).get(sbufferrules).indexOf(rule), idx != -1 )\n                          store.get(this).get(sbufferrules).splice(idx, 1)\n                    })\n                }\n            }\n        })\n    }\n\n    insertRule(...args){\n        const rules = args && args[0][Symbol.iterator] ? args.shift()\n                    : args.length ? args\n                    : []\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : (is_rule = true, new CSSRule(rule))\n\n            store.get(this).get(sbufferrules).push(rule)\n\n            if ( store.get(this).get(sactive) ) {\n                if ( is_rule ) {\n                    let idx = -1\n\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        if ( idx == -1 )\n                          idx = cond_rule.cssRules.length,\n                          store.get(this).get(srules)[idx] = rule\n\n                        cond_rule.insertRule(rule.toString(), idx)\n                    })\n\n                    if ( !updaters_text.has(rule) )\n                      updaters_text.set(rule, ({cssRule}) => {\n                          store.get(this).get(satsheet).forEach(cond_rule => {\n                              let idxs = []\n                              store.get(this).get(srules).forEach((rule, idx) => {\n                                  if ( rule === cssRule ) idxs.push(idx)\n                              })\n                              idxs.forEach(idx => cond_rule.cssRules[idx].style.cssText = cssRule.cssText)\n                          })\n                      })\n\n                    rule.addEventListener(CSSRule.events.textupdate, updaters_text.get(rule))\n                }\n                else if ( is_conditional ){\n                    let idx = -1\n                    store.get(this).get(satsheet).forEach(cond_rule => {\n                        if ( idx == -1 )\n                            idx = cond_rule.cssRules.length,\n                            store.get(this).get(srules)[idx] = rule\n\n                        cond_rule.insertRule(rule.toString(), idx)\n                        store.get(rule).get(sadd)( cond_rule.cssRules[idx] )\n                    })\n                }\n\n            }\n        })\n    }\n\n    toString(){ return `@${this.condition}${this.conditionText}{${this.cssText}}` }\n}\n","\"use strict\"\n\nimport { ERR_CSSTEXT } from \"errors\"\nimport CSSConditionalRule from \"css/CSSConditionalRule\"\n\nconst rconditional = /^\\@media([^\\{]*)\\{(.*)\\}/i\nexport default class CSSMediaRule extends CSSConditionalRule {\n    constructor(condition = \"\"){\n        if ( !rconditional.exec(condition) )\n          throw new TypeError(ERR_CSSTEXT)\n\n        super(condition)\n    }\n}\n","\"use strict\"\n\nconst gather = () => Object.seal({\n    nodes: {\n        documentElement: document.documentElement\n      , head: document.head\n      , title: function(){\n          const node = document.head.getElementsByTagName(\"title\")[0]\n\n          if ( node )\n            return node\n          return document.head.appendChild(document.createElement(\"title\"))\n        }()\n      , viewport: function(){\n            let node = document.head.querySelector(\"meta[name=viewport]\")\n\n            if ( node )\n              return node\n\n            node = document.createElement(\"meta\")\n            node.setAttribute(\"name\", \"viewport\")\n            node.setAttribute(\"content\", \"\")\n\n            return document.head.appendChild(node)\n        }()\n      , body: document.body\n    }\n})\n\nconst ready = new Promise(resolve => {\n    let ready = false\n\n    const onready = () => {\n        if ( ready ) return\n        if ( !document.body ) return setTimeout(onready, 4)\n\n        ready = true\n        resolve(gather())\n    }\n\n    const isready = () => \"interactive, complete\".indexOf(document.readyState) != -1 ? (onready(), true) : false\n\n    if ( !isready() )\n      window.addEventListener(\"DOMContentLoaded\", onready, true),\n      window.addEventListener(\"load\", onready, true),\n      document.addEventListener(\"readystatechange\", isready, true)\n})\n\nexport default (async () => await ready)()\n","\"use strict\"\n\nconst dummy = document.createElement(\"a\")\nexport default path => {\n    dummy.href = path\n\n    return dummy.hostname === location.hostname\n         ? true\n         : !dummy.hostname ? true // ie/edge doesn't set the hostname if not \"necessary\"\n         : false\n}\n","\"use strict\"\r\n\r\nimport { ERR_READYSTATEFUL_NOT_IMPLEMENTED } from \"errors\"\r\nimport Event from \"events/Event\"\r\nimport store from \"store\"\r\n\r\nexport const sfrom = new Object(Symbol(\"from\"))\r\nexport const sreadystate = new Object(Symbol(\"readystate\"))\r\nexport const sto = new Object(Symbol(\"to\"))\r\n\r\nexport class ReadyStateChange extends Event {\r\n    static TYPE = \"readystatechange\"\r\n\r\n    constructor({ from, to }) {\r\n        super(ReadyStateChange.type, { bubbles: true, cancelable: false })\r\n        store.get(this).set(sfrom, from)\r\n        store.get(this).set(sto, to)\r\n    }\r\n\r\n    get from() { return store.get(this).get(sfrom) }\r\n    get to() { return store.get(this).get(sto) }\r\n}\r\n\r\nexport default class ReadyStateFul {\r\n    static events = {\r\n        readystatechange: ReadyStateChange.TYPE\r\n    }\r\n\r\n    static get UNINITIALIZED() { return 0b0 }\r\n    static get [0b0]() { return \"UNINITIALIZED\" }\r\n    static readyStateChange(rsf, to) {\r\n        if ( !(rsf instanceof ReadyStateFul) )\r\n          throw new TypeError(ERR_READYSTATEFUL_NOT_IMPLEMENTED)\r\n        const from = rsf.readyState || ReadyStateFul.UNINITIALIZED\r\n        store.get(rsf).set(sreadystate, to)\r\n        rsf.dispatchEvent(new ReadyStateChange({ from, to }))\r\n    }\r\n\r\n    get readyState() { return store.get(this).get(sreadystate) || ReadyStateFul.UNINITIALIZED }\r\n}\r\n","\"use strict\"\n\nimport { ERR_GENERATOR_EXPECTED } from \"errors\"\nimport store from \"store\"\n\nexport default async (generatorFn) => {\n    const typeOf = Reflect.apply(Object.prototype.toString, generatorFn, []).slice(8, -1)\n\n    const generator = typeOf === \"GeneratorFunction\" ? generatorFn()\n              : typeOf === \"Generator\" ? generatorFn\n              : new TypeError(ERR_GENERATOR_EXPECTED)\n\n    return new Promise(resolve => {\n        if ( generator instanceof Error )\n          throw generator\n\n        store.set(generatorFn, true)\n        const onframe = () => {\n            if ( store.get(generatorFn) === false ) {\n                store.delete(generatorFn)\n                return resolve(null)\n            }\n\n            const { value, done } = generator.next()\n\n            if ( !done ) requestAnimationFrame(onframe)\n            else {\n              resolve(value)\n              store.delete(generatorFn)\n            }\n        }\n        requestAnimationFrame(onframe)\n    })\n}\n","\"use strict\"\n\nimport { ERR_FN_EXPECTED, ERR_STRING_EXPECTED } from \"errors\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nconst scancelable = new Object(Symbol())\nconst scancelled = new Object(Symbol())\nconst sdetail = new Object(Symbol())\nexport const shrt = new Object(Symbol())\nexport const smatches = new Object(Symbol())\nconst spath = new Object(Symbol())\nconst sresponse = new Object(Symbol())\nconst srequest = new Object(Symbol())\nexport const sstate = new Object(Symbol(\"state\"))\nexport const starget = new Object(Symbol())\nexport const stimestamp = new Object(Symbol())\nconst swait = new Object(Symbol())\n\nexport default class Route {\n    static get states(){\n        return Object.seal({\n            UNINITIALIZED: 0\n          , INITIALIZED: 1\n          , PAUSED: 2\n          , STOPPED: 3\n          , RUNNING: 4\n        })\n    }\n\n    constructor(path, {cancelable=true, request=null, response=null, detail=null} = {}){\n        store.set(this, new WeakMap)\n\n        if ( typeOf(path) != \"string\" )\n          throw new TypeError(ERR_STRING_EXPECTED)\n        store.get(this).set(spath, path)\n        store.get(this).set(sdetail, detail)\n        store.get(this).set(sresponse, response)\n        store.get(this).set(srequest, request)\n\n        store.get(this).set(scancelable, !!cancelable)\n        store.get(this).set(sstate, Route.states.INITIALIZED)\n        store.get(this).set(stimestamp, null)\n\n    }\n\n    get cancelable(){ return store.get(this).get(scancelable) }\n    get cancelled(){ return store.get(this).get(scancelled) || false }\n    set cancelled(v){ store.get(this).set(scancelled, !!v) }\n    get detail(){ return store.get(this).get(sdetail) }\n    get hirestimestamp(){ return store.get(this).get(shrt) }\n    get hrt(){ return this.hirestimestamp }\n    get matches(){ return store.get(this).get(smatches) }\n    get path(){ return store.get(this).get(spath) }\n    get response(){ return store.get(this).get(sresponse) }\n    get request(){ return store.get(this).get(srequest) }\n    get state(){ return store.get(this).get(sstate) || Route.states.UNINITIALIZED }\n    get target(){ return store.get(this).get(starget) }\n    get timestamp(){ return store.get(this).get(stimestamp) }\n\n\n    preventDefault(){ return this.cancelled = true }\n\n    async wait(fn){\n        if ( typeOf(fn) == \"function\" ) {\n          store.get(this).set(sstate, Route.states.PAUSED)\n          store.get(this).set(swait, new Promise(resolve => fn(resolve))\n          .then(() => {\n              store.get(this).set(sstate, Route.states.INITIALIZED)\n              store.get(this).delete(swait)\n          }))\n        }\n\n        return await (store.get(this).get(swait) || Promise.resolve() )\n    }\n\n}\n","\"use strict\"\n\nimport { ERR_NOTROUTE, ERR_ROUTE_BUSY, WARN_LATE_NEXT } from \"errors\"\nimport Event from \"events/Event\"\nimport EventTarget from \"events/EventTarget\"\nimport Route from \"routing/Route\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nimport { shrt, smatches, sstate, starget, stimestamp } from \"./Route.mjs\"\n\nconst shits = new Object(Symbol())\n\nconst bundleHandlers = ({routes}) => {\n    const wildcards = []\n    const handlers = []\n\n    for ( let [path, handler] of routes ) {\n        if ( RouteDispatcher.isRouteHandler(handler) )\n          if ( path === \"*\" )\n            wildcards.push([path, handler])\n          else\n            handlers.push([path, handler])\n\n        if ( typeOf(handler) == \"array\" )\n          handler.forEach(function(handler){\n              if ( RouteDispatcher.isRouteHandler(handler) )\n                if ( path === \"*\" )\n                  wildcards.push([path, handler])\n                else\n                  handlers.push([path, handler])\n          })\n    }\n\n    return [...wildcards, ...handlers]\n}\n\nconst cache = Object.create(null)\n\nconst getRule = str => {\n    if ( !cache[str] )\n      if ( str.indexOf(\":\") == -1 )\n        cache[str] = new RegExp(\"^\"+str+\"$\", \"i\")\n      else {\n        const assignments = []\n        const regexp = []\n        const split = []\n        const join = []\n        let pile = \"\"\n\n        for ( let i = 0, l = str.length; i <= l; i++ )\n          void function(char){\n              if ( i === l ) {\n                  if ( pile.length )\n                    split.push(pile)\n              }\n              else if ( char === \"/\")\n                split.push(pile),\n                join.push(char),\n                pile = \"\"\n              else if ( char === \".\" && str[i+1] === \":\" )\n                split.push(pile),\n                join.push(char),\n                pile = \"\"\n              else\n                pile += char\n          }( str[i] )\n\n        while ( split.length )\n          void function(){\n              const part = split.shift()\n              const joiner = join.shift()\n              let match\n\n              if ( part[0] === \":\" ) {\n\n                if ( match = part.match(/^:(\\w+)(\\(.*\\))$/), match ) {\n                  assignments.push(match[1])\n                  regexp.push(match[2])\n                } else {\n                  assignments.push(part.slice(1))\n                  regexp.push(\"([^\\\\\"+(joiner||\"\\/\")+\"]*)\")\n                }\n\n              } else {\n                regexp.push(part)\n              }\n\n              joiner && regexp.push(\"(?:\\\\\"+joiner+\")\")\n          }()\n\n        cache[str] = new RegExp(\"^\"+regexp.join(\"\")+\"$\", \"i\")\n        cache[str].assignments = assignments\n      }\n\n    return cache[str]\n}\n\nconst dispatcher = function(route, path){\n    const rule = getRule(path)\n    const match = route.path.match(rule)\n\n    if ( !match )\n      return false\n\n    if ( match.length == 1 || !rule.assignments )\n      return true\n\n    return function(){\n        for ( let i = 0, l = rule.assignments.length ; i < l; i++ )\n          route.matches[rule.assignments[i]] = match[i+1]\n\n        return route\n    }()\n}\n\nconst nexts = new WeakMap\n\nexport class Routing extends Event {\n    static get TYPE(){ return \"routing\" }\n\n    constructor(hit){\n        super(Routing.TYPE)\n        store.get(this).set(shits, hit)\n    }\n\n    get count(){ return store.get(this).get(shits) }\n}\n\nexport default class RouteDispatcher extends EventTarget {\n    static isRouteHandler(o){ return !!o && (typeOf(o) == \"function\" || typeOf(o.handleRoute) == \"function\" ) }\n\n    constructor({ route, target }){\n        super()\n\n        if ( !(route instanceof Route) )\n          throw new TypeError(ERR_NOTROUTE)\n\n        if ( route.state !== Route.states.INITIALIZED )\n          throw new Error(ERR_ROUTE_BUSY)\n\n        store.get(this).set(shits, 0)\n\n        store.get(route).set(sstate, Route.states.RUNNING)\n        store.get(route).set(starget, target)\n        store.get(route).set(smatches, {})\n        store.get(route).set(stimestamp, Date.now())\n        store.get(route).set(shrt, performance.now())\n\n        const handlers = bundleHandlers(target)\n\n        const onstop = () => {\n            store.get(route).set(sstate, Route.states.INITIALIZED)\n            this.dispatchEvent(new Routing(store.get(this).get(shits)) )\n        }\n\n        const dispatchLoop = function*(){\n            while ( !!handlers.length ) {\n                if ( route.state === Route.states.STOPPED )\n                  return\n                store.get(route).set(sstate, Route.states.RUNNING)\n\n                const [path, handler] = handlers.shift()\n\n                yield new Promise((resolve, reject) => {\n                    const match = path === \"*\" || dispatcher(route, path)\n\n                    if ( !match )\n                      return resolve(0)\n\n                    let hit = path === \"*\" ? 0 :  1\n                    let stop = path === \"*\" ? false : true\n\n                    let next = is_hit => {\n                        nexts.set(route, () => console.warn(WARN_LATE_NEXT)) //can only be invoked once and during the turn of the exec time of the handler\n\n                        stop = false\n                        if ( typeOf(is_hit) == \"boolean\" )\n                          hit = !!is_hit ? 1 : 0\n                    }\n\n                    nexts.set(route, next)\n                    const nextProxy = (...args) => Reflect.apply(nexts.get(route), null, args)\n\n                    if ( handler.handleRoute )\n                      handler.handleEvent.call(handler, route, nextProxy)\n                    else\n                      handler.call(null, route, nextProxy)\n\n                    const onend =  () => {\n                        nexts.set(route, () => console.warn(WARN_LATE_NEXT)) //can only be invoked once and during the turn of the exec time of the handler\n\n                        if ( stop )\n                          store.get(route).set(sstate, Route.states.STOPPED)\n\n                        resolve(hit)\n                    }\n\n                    if ( route.state === Route.states.PAUSED )\n                      route.wait().then(onend)\n                    else onend()\n                })\n            }\n        }.call(this)\n\n        const next = () => {\n            const iteration = dispatchLoop.next()\n\n            if ( iteration.done )\n              return onstop()\n            else\n              iteration.value\n              .then(hit => {\n                  store.get(this).set(shits,  store.get(this).get(shits) + hit)\n                  next()\n              })\n        }\n\n        next()\n    }\n\n}\n","\"use strict\"\n\nimport { ERR_RHANDLER, ERR_STRING_EXPECTED } from \"errors\"\n\nimport Node from \"nodes/Node\"\nimport Route from \"routing/Route\"\nimport RouteDispatcher from \"routing/RouteDispatcher\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\n\nconst sroutes = new Object(Symbol())\n\nexport default class Router extends Node {\n    static get isRouteHandler(){ return RouteDispatcher.isRouteHandler }\n\n    constructor(){\n        super()\n        store.get(this).set(sroutes, new Map)\n    }\n\n    get routes(){ return new Map(store.get(this).get(sroutes)) }\n\n    addRouteHandler(path=null, handler=Function.prototype){\n        if ( arguments.length > 1 && typeOf(path) == \"array\") {\n            let count = 0\n\n            for ( path of arguments[0] )\n              count += 1, this.addRouteHandler(path, handler)\n\n            return count\n        }\n\n        if ( typeOf(path) != \"string\" )\n          throw new TypeError(ERR_STRING_EXPECTED)\n\n        if ( !Router.isRouteHandler(handler) )\n          throw new TypeError(ERR_RHANDLER)\n\n        if ( typeOf(store.get(this).get(sroutes).get(path)) == \"array\" )\n          store.get(this).get(sroutes).get(path).push(handler)\n        else if ( Router.isRouteHandler(store.get(this).get(sroutes).get(path)) )\n          store.get(this).get(sroutes).set(path, [store.get(this).get(sroutes).get(path), handler])\n        else\n          store.get(this).get(sroutes).set(path, handler)\n\n        return 1\n    }\n\n    dispatchRoute(route, request){\n        route = route instanceof Route ? route : new Route(route, { request })\n\n        return new RouteDispatcher({ route, target: this })\n    }\n\n    removeRouteHandler(path = null, handler=Function.prototype){\n        if ( arguments.length > 1 && typeOf(path) == \"array\") {\n            let count = 0\n\n            for ( path of arguments[0] )\n              count += 1, this.addRouteHandler(path, handler)\n\n            return count\n        }\n\n        if ( typeOf(store.get(this).get(sroutes).get(path)) == \"array\" ) {\n            let count = 0\n            let idx = -1\n\n            while ( idx = store.get(this).get(sroutes).get(path).indexOf(handler), idx = -1 )\n              count += 1, store.get(this).get(sroutes).get(path).splice(idx, 1)\n\n            switch ( store.get(this).get(sroutes).get(path).length ) {\n                case 0:\n                  store.get(this).get(sroutes).delete(path)\n                  break\n                case 1:\n                  store.get(this).get(sroutes).set(path, store.get(this).get(sroutes).get(path)[0])\n                  break\n            }\n\n            return count\n        }\n\n        if ( store.get(this).get(sroutes).get(path) === handler ) {\n            store.get(this).get(sroutes).delete(path)\n            return 1\n        }\n\n        return 0\n    }\n\n}\n","\"use strict\"\n\nimport store from \"store\"\n\nexport default Class => {\n\n    const Singleton = function(){\n        return function(...args){\n            if ( store.has(Class) )\n              return store.get(Class)\n\n            const singleton = new Class(...args)\n            store.set(Class, singleton)\n            return singleton\n        }\n    }(Class)\n\n    void [\n        ...Object.getOwnPropertyNames(Class)\n      , ...Object.getOwnPropertySymbols(Class)\n    ].forEach(staticProperty => {\n      if (  (Object.getOwnPropertyDescriptor(Singleton, staticProperty)||{configurable:true}).configurable )\n        Object.defineProperty(Singleton, staticProperty, Object.getOwnPropertyDescriptor(Class, staticProperty))\n    })\n\n    return Singleton\n}\n","\"use strict\"\n\nimport Model, { events as modelEvents } from \"models/Model\"\nimport Node from \"nodes/Node\"\nimport Parser from \"views/ZParser\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\nimport UID from \"uids/UID\"\n\nexport const sargs = new Object(Symbol(\"args\"))\nexport const sconstructor = new Object(Symbol(\"constructor\"))\nconst sexpression = new Object(Symbol(\"expression\"))\nconst sfragment = new Object(Symbol(\"fragment\"))\nconst sprops = new Object(Symbol(\"props\"))\nexport const ssubviewAsChild = new Object(Symbol(\"subview_as_child\"))\nconst stemplate = new Object(Symbol(\"template\"))\nconst suid = new Object(Symbol(\"uid\"))\nconst supdates = new Object(Symbol(\"updates\"))\n\nexport const xmap = new Map\n\nlet revocable = null\nconst noop = strictlySealed => () => !strictlySealed\nconst revocableNodeProxy = (view, target, path, opts = {}) => {\n    const traps = {\n        get: (target, key) => {\n            if ( Array.isArray(target[key]) ) {\n                if ( opts.all )\n                  return [...target[key]]\n                else\n                  return target[key][0]\n            }\n\n            return undefined\n        }\n    }\n\n    // TODO make the following compatible with proxy-polyfill\n    // traps.defineProperty = traps.deleteProperty =\n    // traps.preventExtensions = traps.set =\n    // noop(true)\n\n    const { revoke, proxy } = Proxy.revocable(target, traps)\n\n    if ( revocable )\n      revocable()\n    revocable = () => setTimeout(revoke, 4)\n\n    return proxy\n}\n\nconst revocablePropProxy = (view, target, path, opts = {}) => {\n    const traps = {\n        get: (target, key) => target[key]\n    }\n\n    // TODO make the following compatible with proxy-polyfill\n    // traps.defineProperty = traps.deleteProperty =\n    // traps.preventExtensions = traps.set =\n    // noop(true)\n\n    const { revoke, proxy } = Proxy.revocable(target, traps)\n\n    if ( revocable )\n      revocable()\n    revocable = () => setTimeout(revoke, 4)\n\n    return proxy\n}\n\nconst transformPath = path =>\n  path.reduce((acc, step) => {\n      if ( isNaN(parseFloat(step)) )\n        return acc += `.${step}`\n      else\n        return acc += `[\"${step}\"]`\n  }, \"\")\n\nexport const expression = (parts=[\"div\"], ...values) => {\n    parts = typeOf(parts) == \"array\" ? parts : [parts]\n\n    return parts.reduce((acc, current, i) => {\n        const value = i < values.length && (() => {\n            if ( !(values[i] instanceof Object) )\n              return\n        })()\n\n        acc += current\n\n        if ( i < values.length )\n          if ( !(values[i] instanceof Object) )\n            return acc += values[i]\n      // case: inherits from View\n          else if ( typeof values[i] == \"function\" &&\n               View.isPrototypeOf(values[i]) )\n            return acc += `|${Reflect.apply(View.toString, values[i], [])}|`\n      // case: describes a view and a set of args\n          else if ( Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"View\"])\n                    && Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"args\"]) )\n            return acc += `|${Reflect.apply(View.toString, values[i].View, [])}:${values[i].args}|`\n      // case: describes a model and a value path\n          else if ( Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"model\"])\n                    && Reflect.apply(Object.prototype.hasOwnProperty, values[i], [\"path\"]) )\n            return acc += `${transformPath(values[i].path)}${values[i].model}`\n      // default\n          else return acc += Reflect.apply(Object.prototype.toString, values[i], [])\n\n        return acc\n    }, \"\")\n}\n\nexport default class View extends Node {\n    static get expression(){ return expression }\n\n    static expressWith(...args){\n    // generate an entry\n        if ( !store.has(this) )\n          this.toString()\n\n        const uid = UID.uid()\n        store.get(this).get(sargs).set(uid, args)\n        return { View:this, args:uid}\n    }\n\n    static toString(){\n      if ( !store.has(this) )\n        store.set(this, new WeakMap),\n        store.get(this).set(suid, Symbol.for(UID.uid())),\n        store.get(this).set(sconstructor, this),\n        store.get(this).set(sargs, new Map)\n        xmap.set(store.get(this).get(suid), store.get(this))\n\n      return Symbol.keyFor(store.get(this).get(suid))\n    }\n\n    static get x(){ return expression }\n    static get xWith(){  return this.expressWith }\n\n    constructor(...args){\n        super()\n\n        const conf = args[0] instanceof Object ? args[0] : {}\n        const {expression, props, subviewAsChild=true} = conf\n\n        store.get(this).set(sprops, {})\n        if ( props )\n          Object.keys(props).forEach(prop =>\n            store.get(this).get(sprops)[prop] = props[prop])\n        store.get(this).set(ssubviewAsChild, !!subviewAsChild)\n\n        store.get(this).set(sexpression,\n          Parser.parse(expression||this.template, this))\n\n        store.get(this).set(supdates, store.get(this).get(sexpression).updates\n          .reduce((acc, {updaters, handler}) => (updaters.forEach(updater => {\n              if ( !acc.has(updater) )\n                acc.set(updater, new Set)\n              acc.get(updater).add(handler)\n          }), acc), new Map))\n\n        store.get(this).get(supdates).forEach((handlers, updater) =>\n          updater.addEventListener(modelEvents.modelchange, () =>\n              handlers.forEach(handler => handler()), true))\n    }\n\n    get fragment(){ return store.get(this).get(sexpression).fragment }\n    get node(){ return revocableNodeProxy(this, store.get(this).get(sexpression).refs, [], { all: false }) }\n    get nodes(){ return revocableNodeProxy(this, store.get(this).get(sexpression).refs, [], { all: true }) }\n    get props(){ return revocablePropProxy(this, store.get(this).get(sprops), []) }\n\n}\n","\"use strict\"\n\nimport Model from \"models/Model\"\nimport store from \"store\"\nimport View, { sargs, sconstructor, ssubviewAsChild, xmap } from \"views/View\"\n\nconst auto_vars = Object.seal([\"A\", \"INPUT\", \"SUBMIT\", \"BUTTON\"])\n\nconst CLASS_LIST_COMPAT = (Element.prototype.hasOwnProperty(\"classList\") || HTMLElement.prototype.hasOwnProperty(\"classList\")) && function(){\n    // to be compatible, browser must be able to use classlist on a svg element\n    try {\n        document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\").classList.add(\"x\")\n        return true\n    } catch(e){}\n    return false\n}()\n\n// const escapeDummy = document.createTextNode(\"\")\n// const escapeHTML = string => (escapeDummy.nodeValue = string, escapeDummy.nodeValue)\n\nconst evaluate = value => {\n    if ( typeof value !== \"string\" || value instanceof String )\n      return value\n    else if ( value === \"true\" )\n      return true\n    else if ( value === \"false\" )\n      return false\n    else if ( value.indexOf(\".\") == -1 ) {\n        const candidate = parseInt(value)\n        if ( !isNaN )\n          return candidate\n        return value\n    }\n    else if ( value.indexOf(\".\") != -1 ) {\n        const candidate = parseFloat(value)\n        if ( !isNaN )\n          return candidate\n        return value\n    }\n    else return value\n}\nconst setAttributeExceptions = [\"muted\", \"value\"]\n\nexport const namespaces = Object.seal({\n    html: \"http://www.w3.org/1999/xhtml\"\n  , svg: \"http://www.w3.org/2000/svg\"\n  , xml: \"http://www.w3.org/XML/1998/namespace\"\n  , xmlns: \"http://www.w3.org/2000/xmlns/\"\n  , xlink: \"http://www.w3.org/1999/xlink\"\n})\n\nconst sbuffer = new Object(Symbol(\"buffer\"))\nconst scontext = new Object(Symbol(\"context\"))\nconst sexpression = new Object(Symbol(\"expression\"))\nconst sfragment = new Object(Symbol(\"fragment\"))\nconst slength = new Object(Symbol(\"length\"))\nconst sowner = new Object(Symbol(\"owner\"))\nconst spile = new Object(Symbol(\"pile\"))\nconst spointer = new Object(Symbol(\"pointer\"))\nconst srefs = new Object(Symbol(\"refs\"))\nconst supdates = new Object(Symbol(\"updates\"))\nconst svars = new Object(Symbol(\"svars\"))\n\nconst rextractsvars = /(([^]*[^]*))/\nconst rpathmodel = /(.*)(.*)/\nconst extractVars = input => {\n    const output  = []\n    const updaters = new Set\n\n    let hit\n    while ( hit = rextractsvars.exec(input) ) {\n        const [,match, data] = hit\n        const idx = input.indexOf(match)\n\n        if ( idx ) output.push(input.slice(0, idx))\n        input = input.slice(idx + match.length)\n\n        const [, path, ref] = rpathmodel.exec(data)\n        const model = Model.ref(ref)\n\n        if ( !model ) {\n            output.push(match)\n            continue\n        }\n\n        updaters.add(model)\n        output.push(function(path, model, match){\n            return function(){\n                try { return new Function(\"model\", \"path\", `\"use strict\"; return model.io${path}`)(model, path) }\n                catch(e){ return match }\n            }\n        }(path, model, match))\n    }\n\n    output.push(input)\n\n    const handler = function(input){\n        return function(){\n            return input.reduce((acc, curr) =>\n              acc += typeof curr == \"function\" ? curr() : curr\n              , \"\")\n        }\n    }(output)\n\n    return { updaters:updaters.size?[...updaters]:null, handler }\n}\n\nconst operators = new Map\n\noperators.set(\"@\", {\n    name: \"@\"\n  , handler(captured){\n        this.refs[captured] = this.refs[captured] || []\n        this.refs[captured].push(this.buffer)\n    }\n  , capture(){\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done || Parser.traversals.has(value) || Parser.operators.has(value) )\n              break\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        this.pile = \"\"\n\n        return [capture]\n    }\n})\n\noperators.set(\"[\", {\n    name: \"[\"\n  , handler(captured){\n        if ( this.buffer.nodeType != Node.ELEMENT_NODE )\n          return\n\n        const idx = captured.search(\"=\")\n        let attr = idx == -1 ? captured : captured.split(\"=\")[0]\n        let ns\n\n        if ( attr.indexOf(\":\") != -1 ) {\n            const split = attr.split(\":\")\n            attr = split(1)\n            ns = Parser.namespaces[split[0].toLowerCase()] || null\n        }\n\n        const { updaters, handler } = idx == -1\n          ? { handler(){ return true } }\n          : extractVars(captured.slice(idx+1))\n\n        const update = {\n            updaters\n          , handler: function(node, ns, attr, handler){\n                return function(){\n                    const value = evaluate(handler())\n\n                    if ( setAttributeExceptions.indexOf(attr) != -1 )\n                      node[attr] = value\n                    else if ( ns )\n                      node.setAttributeNS(ns, attr, value)\n                    else\n                      node.setAttribute(attr, value)\n                }\n            }(this.buffer, ns, attr, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        let bracket = false\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( !bracket && value === \"]\" ) {\n                this.next()\n                break\n            }\n\n            if ( value === \"\" )\n              bracket = true\n            if ( value === \"\" )\n              bracket = false\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        return [capture]\n    }\n})\n\noperators.set(\"#\", {\n    name: \"#\"\n  , handler(captured){\n        if ( this.buffer.nodeType != Node.ELEMENT_NODE )\n          return\n\n        const { updaters, handler } = extractVars(captured)\n\n        const update = {\n            updaters\n          , handler: function(node, handler){\n                return function(){\n                    node.setAttribute(\"id\", handler())\n                }\n            }(this.buffer, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        let bracket = false\n        do {\n            const { done, value } = this.lookAhead()\n            if ( done )\n              break\n\n            if ( !bracket &&\n                 (Parser.traversals.has(value) || Parser.operators.has(value)) )\n              break\n\n            if ( value === \"\" )\n              bracket = true\n            if ( value === \"\" )\n              bracket = false\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\noperators.set(\".\", {\n    name: \".\"\n  , handler(captured){\n        if ( this.buffer.nodeType != Node.ELEMENT_NODE )\n          return\n\n        const { updaters, handler } = extractVars(captured)\n\n        const update = {\n            updaters\n          , handler: function(node, handler){\n                const was = []\n\n                return function(){\n                    const requested = handler().split(\" \")\n                    const remove = !was.length ? []\n                      : was.reduce((acc, classname) =>\n                        (requested.indexOf(classname) == -1 && acc.push(classname), acc),[])\n                    const add = !was.length ? requested\n                      : requested.reduce((acc, classname) =>\n                        (was.indexOf(classname) == -1 && acc.push(classname), acc), [])\n\n                    if ( CLASS_LIST_COMPAT ) {\n                        remove.forEach(classname => node.classList.remove(classname))\n                        add.forEach(classname => node.classList.add(classname))\n                    } else {\n                        node.setAttribute(\"class\", (node.getAttribute(\"class\") || \"\").split(\" \")\n                          .filter(classname => remove.indexOf(classname) !== -1)\n                          .concat(add)\n                          .join(\" \"))\n                    }\n                    was.splice(0, was.length, ...requested)\n                }\n            }(this.buffer, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        let bracket = false\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( !bracket )\n              if ( Parser.traversals.has(value) || Parser.operators.has(value) )\n                break\n\n            if ( value === \"\" )\n              bracket = true\n            if ( value === \"\" )\n              bracket = false\n\n            this.pile += this.next().value\n        } while ( true )\n\n        const capture = this.pile.trim()\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\noperators.set(\"{\", {\n    name: \"{\"\n  , handler(captured, { safe=true } = {}){\n        const node = !safe || this.buffer.nodeType === Node.TEXT_NODE\n                   ? this.buffer\n                   : this.buffer.appendChild(document.createTextNode(\"\"))\n        const { updaters, handler } = extractVars(captured)\n        const update = {\n            updaters\n          , handler: safe\n              ? function(node, handler){\n                    return function(){ node.nodeValue = handler() }\n                }(node, handler)\n              : function(node, handler){\n                    let was = \"\"\n                    return function(){\n                        const textNodes = Reflect.apply(Array.prototype.slice, node.childNodes, [])\n                          .filter(node => node.nodeType === Node.TEXT_NODE)\n\n                        if ( textNodes.length )\n                          console.warn(\"unsafe variable will provoke a node.normalize()\")\n\n                        const onnode = node.textContent\n                        const position = !onnode.length ? 0\n                                       : was.length ? onnode.length\n                                       : onnode.indexOf(was)\n\n                        const change = handler()\n                        const to = [...onnode]\n                        to.splice(position, was.length, ...change)\n\n                        node.innerHTML = to.join(\"\")\n                    }\n                }(node, handler)\n        }\n\n        if ( updaters )\n          this.updates.push(update)\n        update.handler()\n    }\n  , capture(){\n        const safe = this.lookAhead().value === \"{\" ? (this.next(), false) : true\n\n        let remains = safe ? 1 : 2\n        let ignore = 0\n\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( value !== \"}\" ) {\n                const { done, value } = this.next()\n\n                if ( value == \"{\" )\n                  ignore +1\n\n                if ( !done )\n                  this.pile += value\n            }\n            else if ( ignore ) {\n                ignore -= 1\n\n                if ( ignore) {\n                    const { done, value } = this.next()\n\n                    if ( !done )\n                      this.pile += value\n                }\n\n                if ( remains ) {\n                    remains -= 1\n\n                    if ( remains )\n                      this.next()\n                    else\n                      break\n                }\n            }\n            else {\n                remains -= 1\n                this.next()\n\n                if ( !remains )\n                  break\n            }\n        } while (true)\n\n        const capture = this.pile //don't trim\n        this.pile = \"\"\n        return [capture, {safe}]\n    }\n})\n\noperators.set(\"(\", {\n    name: \"(\"\n  , handler(capture){\n        if ( Parser.debug )\n          console.log(`OP ( => captured: ${capture}`)\n        const { fragment, refs, updates } = Parser.parse(capture)\n\n        Object.keys(refs)\n        .filter(ref => ref !== \"root\")\n        .forEach(ref => this.refs[ref] = this.refs[ref]\n                      ? [...this.refs[ref], ...refs[ref]]\n                      : [...refs[ref]])\n\n        this.updates = [...this.updates, ...updates]\n        this.buffer = fragment\n\n    }\n  , capture(){\n        let ignore = 0\n\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( value !== \")\") {\n                const { done, value } = this.next()\n\n                if ( value == \"(\" )\n                  ignore += 1\n\n                if (!done )\n                  this.pile += value\n            } else {\n                if ( ignore ) {\n                    ignore -= 1\n\n                    const { done, value } = this.next()\n\n                    if (!done )\n                      this.pile += value\n                }\n                else {\n                    this.next()\n                    break\n                }\n            }\n\n        } while (true)\n\n        const capture = this.pile\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\noperators.set(\"|\", {\n    name: \"|\"\n  , handler(capture){\n        if ( Parser.debug )\n          console.log(`OP |, capture: ${capture} => ${xmap.get(Symbol.for(capture))}`)\n\n        const idx = capture.search(\":\")\n        const symbol = Symbol.for(idx == -1 ? capture : capture.split(\":\")[0])\n        const Constructor = xmap.get(symbol).get(sconstructor)\n        const args = idx == -1 ? [] : xmap.get(symbol).get(sargs).get(capture.slice(idx+1))\n        const instance = new Constructor(...args)\n\n        instance.nodes.root.forEach(node => this.context.appendChild(node))\n        this.buffer = instance.nodes.root[instance.nodes.root.length-1]\n\n        if ( this.owner instanceof View &&\n          store.get(this.owner).get(ssubviewAsChild) )\n            this.owner.appendChild(instance)\n    }\n  , capture(){\n        do {\n            const { done, value } = this.lookAhead()\n\n            if ( done )\n              break\n\n            if ( value !== \"|\") {\n                const { done, value } = this.next()\n\n                if (!done )\n                  this.pile += value\n            } else {\n                this.next()\n                break\n            }\n\n        } while (true)\n\n        const capture = this.pile\n        this.pile = \"\"\n        return [capture]\n    }\n})\n\nconst traversals = new Map\n\ntraversals.set(\">\", {\n    name: \"child\"\n  , handler(){\n        if ( Parser.debug )\n          console.log(\"OP >, buffer\", this.buffer, \"context\", this.context)\n        this.context.appendChild(this.buffer)\n        this.context = this.buffer\n\n        this.buffer = null\n    }\n})\n\ntraversals.set(\"+\", {\n    name: \"siblings\"\n  , handler(){\n        this.context.appendChild(this.buffer)\n\n        this.buffer = null\n    }\n})\n\nlet debug = false\nexport default class Parser {\n    static get auto_vars(){ return auto_vars }\n    static get debug(){ return debug }\n    static set debug(bool){ debug = !!bool }\n    static get namespaces(){ return namespaces }\n    static get operators(){ return operators }\n    static get traversals(){ return traversals }\n\n    // static escapeHTML(string){\n    //     escapeDummy.nodeValue = string\n    //     return escapeDummy.nodeValue\n    // }\n\n    static parse(expression, owner){\n        return new Parser().parse(expression, owner)\n    }\n\n    constructor(){\n        store.set(this, new WeakMap)\n    }\n\n    get buffer(){ return store.get(this).get(sbuffer) }\n    set buffer(any){ store.get(this).set(sbuffer, any) }\n\n    get context(){ return store.get(this).get(scontext) }\n    set context(node){ store.get(this).set(scontext, node) }\n\n    get done(){ return this.pointer >= this.length }\n\n    get expression(){ return store.get(this).get(sexpression) }\n    set expression(string){ store.get(this).set(sexpression, string) }\n\n    get fragment(){ return store.get(this).get(sfragment) }\n    set fragment(fragment){ store.get(this).set(sfragment, fragment)  }\n\n    get glyph(){\n        if ( Parser.debug )\n          console.log(`glyph => ${this.expression[this.pointer]} (pointer:${this.pointer}/length:${this.length} done:${this.done})`)\n        return this.expression[this.pointer]\n    }\n\n    get length(){ return store.get(this).get(slength) }\n    set length(int){ return store.get(this).set(slength, int|0) }\n\n    get owner(){ return store.get(this).get(sowner) }\n    set owner(any){ store.get(this).set(sowner, any) }\n\n    get pile(){ return store.get(this).get(spile) }\n    set pile(string){ store.get(this).set(spile, string) }\n\n    get pointer(){ return store.get(this).get(spointer) }\n    set pointer(uint){ store.get(this).set(spointer, uint|0) }\n\n    get refs(){ return store.get(this).get(srefs) }\n    set refs(object){ store.get(this).set(srefs, object) }\n\n    get updates(){ return store.get(this).get(supdates) }\n    set updates(set){ store.get(this).set(supdates, set) }\n\n    get vars(){ return store.get(this).get(svars) }\n    set vars(set){ store.get(this).set(svars, set) }\n\n    lookAhead(){\n        return {\n            done: this.pointer+1 >= this.length\n          , value: this.expression[this.pointer+1]\n        }\n    }\n\n    next(){\n        this.pointer += 1\n        return { value: this.glyph, done: this.done }\n    }\n\n    operate(operator){\n        Reflect.apply(Parser.operator.get(operator), this, [])\n    }\n\n    parse(expression=\"\", owner){\n        if ( Parser.debug )\n          console.log(`parse(${expression})`)\n        this.expression = [...expression]\n        this.fragment = document.createDocumentFragment()\n        this.context = this.fragment\n        this.length = this.expression.length\n        this.owner = owner\n        this.pile = \"\"\n        this.pointer = 0\n        this.refs = {}\n        this.updates = []\n        this.vars = new Set\n\n        do {\n            if ( Parser.traversals.has(this.glyph) ) {\n              const {handler} = Parser.traversals.get(this.glyph)\n              this.unpile()\n              Reflect.apply(handler, this, [])\n            }\n            else if ( Parser.operators.has(this.glyph) ) {\n                const {capture, handler, name} = Parser.operators.get(this.glyph)\n                this.unpile({handler, name})\n                Reflect.apply(handler, this, Reflect.apply(capture, this, []))\n            }\n            else\n              this.pile += this.glyph\n        } while ( !this.next().done  )\n\n    // empty pile\n        if ( this.pile.length )\n          this.unpile()\n    // last traversal\n        Reflect.apply(Parser.traversals.get(\">\").handler, this, [])\n\n        return this\n    }\n\n    unpile({handler, name}={}){\n        this.pile = this.pile.trim()\n\n        if (!this.buffer) {\n            if ( !this.pile.length )\n              this.buffer = document.createElement(\"div\")\n\n            else if ( this.pile === \"\" )\n              this.buffer = document.createTextNode(\"div\")\n\n            else if ( this.pile.indexOf(\":\") != -1 ) {\n                const split = this.pile.split(\":\")\n                this.buffer = document.createElementNS( Parser.namespaces[split[0].toLowerCase()]||Parser.namespaces.html, split[1])\n            }\n\n            else\n              this.buffer = document.createElement(this.pile)\n\n            if ( Parser.auto_vars.indexOf(this.buffer.nodeName) != -1 )\n              Reflect.apply(operators.get(\"@\").handler, this, [this.buffer.nodeName])\n\n        // node is root ( direct childNode of fragment )\n            if ( this.context === this.fragment )\n              Reflect.apply(operators.get(\"@\").handler, this, [\"root\"])\n        }\n\n        this.pile = \"\"\n    }\n}\n","\"use strict\"\nimport { ERR_SS_NOT_WRITABLE } from \"errors\"\nimport CSSConditionalRule from \"css/CSSConditionalRule\"\nimport CSSRule from \"css/CSSRule\"\nimport domready from \"utils/domready\"\nimport Event from \"events/Event\"\nimport isSameDomain from \"utils/isSameDomain\"\nimport Node from \"nodes/Node\"\nimport store from \"store\"\nimport typeOf from \"utils/toType\"\nimport UID from \"uids/UID\"\nimport ZParser from \"views/ZParser\"\n\nimport { sadd, sremove } from \"css/CSSConditionalRule\"\nconst suid = new Object(Symbol())\nconst snode = new Object(Symbol())\nconst sready = new Object(Symbol())\nconst srules = new Object(Symbol())\nconst ssheet = new Object(Symbol())\nconst swritable = new Object(Symbol())\n\nconst updaters_text = new WeakMap\n\nexport class Ready extends Event {\n    static get TYPE(){ return \"ready\" }\n\n    constructor(sheet){\n        super(Ready.TYPE)\n        store.get(this).set(ssheet, sheet)\n    }\n\n    get sheet(){ return store.get(this).get(ssheet) }\n}\n\nexport default class Stylesheet extends Node {\n    static get isLocalFile(){ return isSameDomain }\n\n    constructor(...args){\n        super()\n\n        const rules = typeOf(args[args.length-1]) == \"array\" ? [].concat(args.pop()) : []\n        const dict = typeOf(args[args.length-1]) == \"object\" ? args.pop() : { node: args.pop() }\n        args =  null\n\n        store.get(this).set(suid, typeOf(dict.id) == \"string\" ? dict.id : UID.uid())\n        store.get(this).set(swritable, true)\n        store.get(this).set(srules, [])\n\n        store.get(this).set(snode, function(node){\n            if ( node && node.nodeType === window.Node.ELEMENT_NODE && [\"STYLE\", \"LINK\"].includes(node.nodeName) )\n              return node\n\n            if ( typeOf(node) == \"string\" ) {\n                if ( !Stylesheet.isLocalFile(node) )\n                  store.get(this).set(swritable, false)\n                const href = node\n                node = ZParser.parse(`link#${store.get(this).get(\"uid\")}[rel=stylesheet][href=${href}]`).tree.childNodes[0]\n            }\n            else {\n                node = ZParser.parse(`style#${store.get(this).get(\"uid\")}`).tree.childNodes[0]\n                node.appendChild( document.createTextNode( rules.splice(0).join(\"\\n\") ) )\n            }\n\n            if ( dict.media )\n              node.setAttribute(\"media\", dict.media)\n\n            domready().then(({nodes}) => {\n                nodes.head.appendChild(node)\n\n                requestAnimationFrame(hrt=>{\n                    if ( !!dict.disabled )\n                      node.disabled = true\n                })\n            })\n\n            return node\n        }.call(this, dict.node||dict.href||void 0))\n\n        store.get(this).set(sready, new Promise((resolve, reject) => {\n            const onload = e => {\n                if ( store.get(this).get(swritable) && rules && !!rules.length )\n                  this.insertRule(rules)\n\n                resolve(store.get(this).get(swritable))\n                store.get(this).set(ssheet, store.get(this).get(snode).sheet)\n                this.dispatchEvent(new Ready(store.get(this).get(\"sheet\")))\n            }\n\n            if ( \"msSetImmediate\" in window ) // no events for <style> on ie\n              msSetImmediate(onload) //TODO test on edge\n            else\n              store.get(this).get(snode).addEventListener(\"load\", onload),\n              store.get(this).get(snode).addEventListener(\"error\", function(e){\n                  console.error(e)\n                  reject(e)\n              })\n        }))\n    }\n\n    get media(){ return store.get(this).get(snode).getAttribute(\"media\") }\n    set media(v){ store.get(this).get(snode).setAttribute(\"media\", v) }\n    get node(){ return store.get(this).get(snode) }\n    get sheet(){ return store.get(this).get(snode).sheet }\n\n    async deleteRule(...args){\n        const rules = typeOf(args[0]) == \"array\" ? args.shift()\n                    : args.length ? args\n                    : []\n\n        const writable = await store.get(this).get(sready)\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : null\n\n            if ( !rule )\n              return\n\n            if ( is_rule ) {\n                if ( updaters_text.has(rule) )\n                  rule.removeEventListener(CSSRule.events.textupdate, updaters_text.get(rule)),\n                  updaters_text.delete(rule)\n\n                  let idx = -1\n                  while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 )\n                    store.get(this).get(ssheet).deleteRule(idx),\n                    store.get(this).get(srules).splice(idx, 1)\n\n\n            }\n            else if ( is_conditional ){\n                let idx = -1\n                while ( idx = store.get(this).get(srules).indexOf(rule), idx != -1 ) {\n                    store.get(rule).get(sremove)( store.get(this).get(ssheet).cssRules[idx] )\n                    store.get(this).get(ssheet).deleteRule(idx)\n                    store.get(this).get(srules).splice(idx, 1)\n                }\n\n            }\n        })\n    }\n\n    async insertRule(...args){\n        const rules = typeOf(args[0]) == \"array\" ? args.shift()\n                    : args.length ? args\n                    : []\n\n        const writable = await store.get(this).get(sready)\n\n        if ( !writable )\n          throw new Error(ERR_SS_NOT_WRITABLE)\n\n        rules.forEach(rule => {\n            let is_rule = false\n            let is_conditional = false\n\n            rule = rule instanceof CSSRule ? (is_rule = true, rule)\n                 : rule instanceof CSSConditionalRule ? (is_conditional = true, rule)\n                 : (is_rule = true, new CSSRule(rule))\n\n            const idx = store.get(this).get(ssheet).cssRules.length\n            store.get(this).get(srules)[idx] = rule\n\n            if ( is_rule ) {\n               store.get(this).get(ssheet).insertRule(rule.toString(), idx)\n\n               if ( !updaters_text.has(rule) )\n                 updaters_text.set(rule, ({cssRule}) => {\n                     let idxs = []\n                     store.get(this).get(srules).forEach((rule, idx) => {\n                         if ( rule === cssRule ) idxs.push(idx)\n                     })\n                     idxs.forEach(idx => store.get(this).get(ssheet).cssRules[idx].style.cssText = cssRule.cssText)\n                 })\n\n               rule.addEventListener(CSSRule.events.textupdate, updaters_text.get(rule))\n            }\n            else if ( is_conditional ){\n               store.get(this).get(ssheet).insertRule(rule.toString(), idx)\n               store.get(rule).get(sadd)( store.get(this).get(ssheet).cssRules[idx] )\n            }\n        })\n    }\n}\n","\"use strict\"\n\n//TODO strenghten\n\nexport const sparents = Symbol(\"parents\")\n\nexport default (...classes) => {\n    const Class = class extends classes.pop() {}\n\n    const prototypes = classes.reduce((accumulator, Class) => {\n        const prototypes = [Class.prototype]\n\n        while ( Class = Object.getPrototypeOf(Class), Class != Function.prototype )\n          prototypes.unshift(Class.prototype)\n\n        prototypes.forEach(prototype => accumulator.add(prototype))\n        return accumulator\n    }, new Set)\n\n    prototypes.forEach(prototype =>\n      [...Object.getOwnPropertyNames(prototype), ...Object.getOwnPropertySymbols(prototype)]\n        .forEach(property =>\n            Object.defineProperty(Class.prototype, property, Object.getOwnPropertyDescriptor(prototype, property))))\n\n    Object.defineProperty(Class.prototype, \"constructor\", { configurable:true, value: Class })\n\n    return Class\n}\n","\"use strict\"\r\n\r\nimport { ENOTGRAPH, ENOTVERTEX, EUNCOMPEDGE } from \"errors\"\r\nimport Edge from \"graph/Edge\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\n\r\nimport { sedges } from \"graph/Edge\"\r\nimport { sgraphs } from \"graph/Graph\"\r\nexport const slabel = new Object(Symbol(\"label\"))\r\n\r\nexport default class Vertex extends EventTarget {\r\n    constructor(label){\r\n        super()\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sedges, new Set)\r\n        store.get(this).set(sgraphs, new Set)\r\n        this.label = label\r\n    }\r\n\r\n    get graphs(){ return [...store.get(this).get(sgraphs)] }\r\n\r\n    get label(){ return store.get(this).get(slbabel) || null }\r\n    set label(label=null){ store.get(this).set(slabel, label) }\r\n\r\n    addEdge(graph, edge) { // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.addEdge(edge)\r\n    }\r\n\r\n    addEdges(graph, edges){ // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.addEdges(edges)\r\n    }\r\n\r\n    adjacents(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.adjacents(this)\r\n    }\r\n\r\n    adjacentsIn(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.adjacentsIn(this)\r\n    }\r\n\r\n    adjacentsOut(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.adjacentsOut(this)\r\n    }\r\n\r\n    arcFrom(graph, vertex){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.arcFrom(vertex, this)\r\n    }\r\n\r\n    // number of edges not regions in graph\r\n    arcs(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.arcs.filter(({vertices}) => vertices.includes(this))\r\n    }\r\n\r\n    arcTo(graph, vertex){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.arcTo(vertex, this)\r\n    }\r\n\r\n    // number of edges not regions in graph\r\n    connections(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.connections.filter(({vertices}) => vertices.includes(this))\r\n    }\r\n\r\n    // the number of edges\r\n    degree(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.degree(this)\r\n    }\r\n\r\n    // list edges related to current vertex in the given graph\r\n    edges(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.edges.filter(edge => edge.vertices.includes(this))\r\n    }\r\n\r\n    extravertArcWith(graph, vertex){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.extravertArcWith(vertex, this)\r\n    }\r\n\r\n    hyperEdges(graph){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n      return graph.hyperarcs.filter(edge => edge.vertices.includes(this))\r\n    }\r\n\r\n    hyperEdgeWith(graph, vertices){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.hyperEdgeWith([this, ...vertices])\r\n    }\r\n\r\n    // inward edges ( vertex <= x ) in the given graph\r\n    indegree(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.indegree(this)\r\n        //return graph.edges.filter(edge => edge.in && edge.in.includes(this))\r\n    }\r\n\r\n    introvertArcWith(graph, vertex){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n      if ( !(vertex instanceof Vertex) )\r\n        throw new TypeError(ENOTVERTEX)\r\n\r\n      return graph.addEdge(new Edge([this, vertex], \"<>\"))\r\n    }\r\n\r\n    lines(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.lines.filter(edge => edge.vertices.includes(this))\r\n    }\r\n\r\n    lineWith(graph, vertex){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.lineWith(vertex, this)\r\n    }\r\n\r\n    loop(graph, relation){\r\n      if ( !(graph instanceof Graph) )\r\n        throw new TypeError(ENOTGRAPH)\r\n\r\n      return graph.loop(this, relation)\r\n    }\r\n\r\n    loops(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        return graph.loops.filter(({ a }) => a === this)\r\n    }\r\n\r\n    // outward edges ( vertex => x ) in the given graph\r\n    outdegree(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.outdegree(this)\r\n        //return graph.edges.filter(edge => edge.out && edge.out.includes(this))\r\n    }\r\n\r\n    removeEdge(graph, edge){ // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.removeEdge(edge)\r\n    }\r\n\r\n    removeEdges(graph, edges){ // shortcut to graph method\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        return graph.removeEdges(edges)\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { ENOTVERTEX, EUNKNWNREL } from \"errors\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport store from \"store\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sdirection = new Object(Symbol())\r\nexport const sedges = new Object(Symbol())\r\nexport const sextraverted = new Object(Symbol())\r\nexport const sgraph = new Object(Symbol)\r\nexport const slabel = new Object(Symbol())\r\nexport const srelation = new Object(Symbol())\r\nexport const svertexa = new Object(Symbol())\r\nexport const svertexb = new Object(Symbol())\r\nexport const svertices = new Object(Symbol())\r\n\r\nconst relations = Object.freeze({\r\n    \"-\"   : 0b1 // A - B\r\n  , LINE  : 0b1\r\n  , \"<\"   : 0b10 // A <- B\r\n  , INOUT : 0b10\r\n  , \"<>\"  : 0b100 // A <-> B\r\n  , ININ  : 0b100\r\n  , \">\"   : 0b1000 // A -> B\r\n  , OUTIN : 0b1000\r\n  , \"><\"  : 0b10000 // A >-< B\r\n  , OUTOUT: 0b10000\r\n  , \"@\"   : 0b100000 // < A, B, C,... >\r\n  , REGION: 0b100000\r\n  , HYPERARC: 0b100000\r\n})\r\n\r\nconst states = Object.freeze({\r\n    CONNECTED: 0b1\r\n  , DISCONNECTED: 0b0\r\n})\r\n\r\nconst types = Object.freeze({\r\n    LINE    : 0b1 // 2 vertices and no direction\r\n  , ARC     : 0b10 // 2 vertices and 1-2 direction\r\n  , HYPERARC: 0b100 // more than 2 vertices\r\n  , REGION  : 0b100 // more than 2 vertices\r\n  , LOOP    : 0b1000 // 1 vertice\r\n})\r\n\r\nexport default class Edge extends EventTarget {\r\n    static get relations(){ return relations }\r\n    static get states(){ return states }\r\n    static get types(){ return types }\r\n\r\n    constructor(vertices, relation, label){\r\n        super()\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(svertices, new Set)\r\n\r\n        this.relation = relation\r\n        this.label = label\r\n\r\n        const [a, b, ...otherVertices] = [...vertices]\r\n        if ( a )\r\n          this.addVertex(a)\r\n        if ( b )\r\n          this.addVertex(b)\r\n        if ( otherVertices.length )\r\n          this.addVertices(otherVertices)\r\n    }\r\n\r\n    get a(){ return this.vertices[0] || null }\r\n    get b(){ return this.vertices[1] || this.vertices[0] || null }\r\n\r\n    get bidirected(){ return Boolean(this.relation & ( Edge.relations.OUTOUT|Edge.relations.ININ )) }\r\n\r\n    get directed(){ return Boolean(this.relation & ( Edge.relations.INOUT|Edge.relations.OUTIN )) }\r\n\r\n    get extraverted(){ return Boolean(this.relation & Edge.relations.ININ) }\r\n\r\n    get graph(){ return store.get(this).get(sgraph) || null }\r\n\r\n    get in(){\r\n        if ( this.relation & Edge.relations.ININ )\r\n          return [...new Set([this.a, this.b])]\r\n        else if ( this.relation & Edge.relations.INOUT )\r\n          return [this.a]\r\n        else if ( this.relation & Edge.relations.OUTIN )\r\n          return [this.b]\r\n        return null\r\n    }\r\n    get inward(){ return this.in }\r\n\r\n    get intraverted(){ return Boolean(this.relation & Edge.relations.ININ) }\r\n\r\n    get label(){ return store.get(this).get(slabel) || null }\r\n    set label(label=null){ store.get(this).set(slabel, label) }\r\n\r\n    get out(){\r\n        if ( this.relation & Edge.relations.OUTOUT )\r\n          return [...new Set([this.a, this.b])]\r\n        else if ( this.relation & Edge.relations.OUTIN )\r\n          return [this.a]\r\n        else if ( this.relation & Edge.relations.INOUT )\r\n          return [this.b]\r\n        return null\r\n    }\r\n    get outward(){ return this.out }\r\n\r\n    get relation(){ return store.get(this).get(srelation) }\r\n    set relation(rel=\"LINE\"){\r\n        if ( !Edge.relations.hasOwnProperty(rel) )\r\n          throw new ReferenceError(EUNKNWNREL)\r\n        store.get(this).set(srelation, Edge.relations[rel])\r\n    }\r\n\r\n    get state(){ return store.get(this).get(sgraph) ? Edge.states.CONNECTED : Edge.states.DISCONNECTED }\r\n\r\n    get type(){\r\n        if ( this.relation & Edge.relations.LINE )\r\n          return this.a === this.b ? Edge.types.LOOP : Edge.types.LINE\r\n        else if ( this.relation & (Edge.relations.INOUT|Edge.relations.OUTIN|Edge.relations.ININ|Edge.relations.OUTOUT) )\r\n          return this.a === this.b ? Edge.types.LOOP : Edge.types.ARC\r\n        else if ( this.relation & Edge.relations.REGION )\r\n          return Edge.types.HYPERARC\r\n    }\r\n\r\n    get undirected(){ return !this.directed && !this.bidirected }\r\n\r\n    get vertices(){ return [...store.get(this).get(svertices)] }\r\n\r\n    addVertex(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const l = this.vertices.length\r\n        if ( l >= 2 && this.relation !== Edge.relations.REGION )\r\n          throw new Error(ETOOMANYVERT)\r\n\r\n        store.get(this).get(svertices).add(vertex)\r\n        store.get(vertex).get(sedges).add(this)\r\n        return vertex\r\n    }\r\n\r\n    addVertices(vertices){ return [...vertices].map(vertex => this.addVertex(vertex)) }\r\n\r\n    removeVertex(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        store.get(this).get(svertices).delete(vertex)\r\n        store.get(vertex).get(sedges).delete(this)\r\n        return vertex\r\n    }\r\n\r\n    removeVertices(vertices){ return [...vertices].map(vertex => this.removeVertex(vertex)) }\r\n}\r\n","\"use strict\"\r\n\r\nimport { EINVALIDCONS, ENOTGRAPH, ENOTVERTEX } from \"errors\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sgraph = new Object(Symbol())\r\nexport const sroot = new Object(Symbol())\r\nexport const straversal = new Object(Symbol())\r\n\r\nexport default class DepthFirstTree {\r\n    static from({ graph, rootVertex, traversal }){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const dft = Object.create({})\r\n        Object.setPrototypeOf(dft, DepthFirstTree.prototype)\r\n        store.set(dft, new WeakMap)\r\n        store.get(dft).set(sgraph, graph)\r\n        store.get(dft).set(sroot, rootVertex)\r\n        store.get(dft).set(straversal, traversal)\r\n\r\n        return dft\r\n    }\r\n\r\n    constructor(){ throw new Error(EINVALIDCONS) }\r\n\r\n    get root(){ return store.get(this).get(sroot) }\r\n\r\n    hasPathTo(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return store.get(this).get(straversal).has(vertex)\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { ENOTGRAPH, ENOTVERTEX } from \"errors\"\r\n\r\nimport BreadthFirstTree from \"graph/BreadthFirstTree\"\r\nimport DepthFirstTree from \"graph/DepthFirstTree\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sgraph = new Object(Symbol())\r\n\r\nexport default class Traversal extends EventTarget {\r\n\r\n    constructor(graph){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n\r\n        super()\r\n        store.set(this, new WeakMap)\r\n        store.get(this).set(sgraph, graph)\r\n    }\r\n\r\n    get bft(){ return this.breadthFirstTree }\r\n\r\n    get graph(){ return store.get(this).get(sgraph) }\r\n\r\n    depthFirstTree(rootVertex){\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const traversal = new WeakMap\r\n        const stack = [[null, rootVertex]]\r\n\r\n        while ( stack.length ) {\r\n            const [parent, vertex] = stack[stack.length-1]\r\n\r\n            traversal.set(vertex, parent)\r\n\r\n            const nextVertex = [\r\n                ...this.graph.lines.reduce((acc, {a, b, vertices}) => (vertices.includes(vertex) && acc.push(a===vertex?b:a), acc), [])\r\n              , ...this.graph.adjacentsOut(vertex)\r\n            ]\r\n            .filter(child => !traversal.has(child))\r\n            [0]\r\n\r\n            if ( !nextVertex ) stack.pop()\r\n            else stack.push([vertex, nextVertex])\r\n        }\r\n\r\n        return DepthFirstTree.from({ graph:this.graph, rootVertex, traversal })\r\n    }\r\n\r\n    breadthFirstTree(rootVertex){\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const traversal = new WeakMap\r\n        const queue = [[null, rootVertex]]\r\n\r\n        while ( queue.length ) {\r\n            const [parent, vertex] = queue.shift()\r\n\r\n            if ( traversal.has(vertex) )\r\n              continue\r\n            traversal.set(vertex, parent)\r\n\r\n            // void [\r\n            //     ...this.graph.lines.reduce((acc, {a, b, vertices}) => (vertices.includes(vertex) && acc.push(a===vertex?b:a), acc), [])\r\n            //   , ...this.graph.adjacentsOut(vertex)\r\n            // ]\r\n            // .filter(child => !traversal.has(child))\r\n            // .forEach(child => queue.push([vertex, child]))\r\n\r\n            void [\r\n                ...this.graph.lines.filter(({vertices}) => vertices.includes(vertex))\r\n              , ...this.graph.arcs.filter(({vertices}) => vertices.includes(vertex))\r\n            ]\r\n            .sort((a, b) => (+a.label||0) - (+b.label||0))\r\n            .reduce((acc, {a,b}) =>  (acc.push(a===vertex?b:a), acc), [])\r\n            .forEach(child => queue.push([vertex, child]))\r\n        }\r\n\r\n        return BreadthFirstTree.from({ graph:this.graph, rootVertex, traversal })\r\n    }\r\n\r\n}\r\n","\"use strict\"\r\n\r\nimport { EALRDYCONN, ENOTEDGE, ENOTINSET, ENOTVERTEX, EPRLLLNOTALLOW, EUNCOMPEDGE, EUNKNWNREL } from \"errors\"\r\nimport Edge from \"graph/Edge\"\r\nimport EventTarget from \"events/EventTarget\"\r\nimport Vertex from \"graph/Vertex\"\r\nimport {sgraph} from \"graph/Edge\"\r\nimport store from \"store\"\r\nimport Traversal from \"graph/Traversal\"\r\n\r\nexport const sallowed = new Object(Symbol(\"allowed\"))\r\nexport const sedges = new Object(Symbol(\"edges\"))\r\nexport const sgraphs = new Object(Symbol(\"graphs\"))\r\nexport const svertices = new Object(Symbol(\"vertices\"))\r\n\r\nconst allowance = Object.freeze({\r\n    PARALLELS: 1024\r\n})\r\n\r\nconst presets = Object.freeze({\r\n    LINES: 0b0001\r\n  , UNDIRECTED: 0b0001\r\n  , ARCS: 0b0010\r\n  , DIRECTED: 0b0010\r\n  , CONNECTIONS: 0b1011\r\n  , ALL: 0b1111\r\n})\r\n\r\nexport default class Graph extends EventTarget {\r\n    static get allowance(){ return allowance }\r\n    static get presets(){ return presets }\r\n\r\n    constructor({ allows=3 } = {}){\r\n        super()\r\n        store.set(this, new WeakMap)\r\n\r\n        store.get(this).set(sallowed, allows)\r\n        store.get(this).set(sedges, new Set)\r\n        store.get(this).set(svertices, new Set)\r\n    }\r\n\r\n    get allowed(){ return store.get(this).get(\"sallowed\") }\r\n    get arcs(){ return this.edges.filter(edge => edge.type == Edge.types.ARC) }\r\n    get connections(){ return this.edges.filter(edge => edge.type & (Edge.types.LINE|Edge.types.ARC|Edge.types.LOOP)) }\r\n    get edges(){ return [...store.get(this).get(sedges)] }\r\n    get hyperarcs(){ return this.edges.filter(edge => edge.type == Edge.types.HYPERARC) }\r\n    get lines(){ return this.edges.filter(edge => edge.type == Edge.types.LINE) }\r\n    get loops(){ return this.edges.filter(edge => edge.type == Edge.types.LOOP) }\r\n    get regions(){ return this.hyperarcs }\r\n    get vertices(){ return [...store.get(this).get(svertices)] }\r\n\r\n    allows(type){ return Boolean(store.get(this).get(sallowed) & type) }\r\n\r\n    addEdge(edge){\r\n        if ( !(edge instanceof Edge) )\r\n          throw new TypeError(ENOTEDGE)\r\n\r\n        if ( edge.state == Edge.states.CONNECTED )\r\n          throw new Error(EALRDYCONN)\r\n\r\n        if ( !this.allows(edge.type) || edge.vertices.some(vertex => !store.get(this).get(svertices).has(vertex)))\r\n          throw new TypeError(EUNCOMPEDGE)\r\n\r\n        if ( edge.type !== Edge.types.HYPERARC && !this.allows(Graph.allowance.PARALLELS)\r\n        && ( edge.type !== Edge.types.LOOP && [...this.connections].filter(({ vertices }) => vertices.includes(edge.a) && vertices.includes(edge.b)).length\r\n        || edge.type === Edge.types.LOOP && [...this.loops].filter(({a}) => a == edge.a).length ))\r\n          throw new Error(EPRLLLNOTALLOW)\r\n\r\n        store.get(this).get(sedges).add(edge)\r\n        store.get(edge).set(sgraph, this)\r\n        return edge\r\n    }\r\n\r\n    addEdges(edges){ void [...edges].forEach(edge => this.addEdge(edge)) }\r\n\r\n    adjacents(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return [...this.connections.reduce((acc, {a, b}) => {\r\n            return b === vertex ? (acc.add(a), acc)\r\n                 : a === vertex ? (acc.add(b), acc)\r\n                 : acc\r\n        }, new Set)]\r\n    }\r\n\r\n    adjacentsIn(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return [...this.arcs.reduce((acc, {inward, outward, relation}) => {\r\n            if ( inward && inward.includes(vertex) )\r\n              relation !== Edge.relations.ININ ? outward && outward.forEach(outward => outward !== vertex && acc.add(outward))\r\n                                               : inward.forEach(inward => inward !== vertex && acc.add(inward))\r\n            return acc\r\n        }, new Set)]\r\n    }\r\n\r\n    adjacentsOut(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return [...this.arcs.reduce((acc, {inward, outward, relation}) => {\r\n            if ( outward && outward.includes(vertex) )\r\n              relation !== Edge.relations.OUTOUT ? inward && inward.forEach(inward => inward !== vertex && acc.add(inward))\r\n                                                 : outward.forEach(outward => outward !== vertex && acc.add(outward))\r\n            return acc\r\n        }, new Set)]\r\n    }\r\n\r\n    addVertex(vertex, edges, ...args){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        store.get(this).get(svertices).add(vertex)\r\n        store.get(vertex).get(sgraphs).add(this)\r\n\r\n        if ( edges && edges instanceof Edge )\r\n          this.addEdge(edges)\r\n        else if ( edges && edges[Symbol.iterator] )\r\n          this.addEdges(edges)\r\n        else if ( typeof edges == \"function\" ) {\r\n            const edge = this.addEdge(Reflect.construct(edges, [[vertex], ...args]))\r\n            return [vertex, edge]\r\n        }\r\n\r\n\r\n        return vertex\r\n    }\r\n\r\n    addVertices(vertices, edges, ...args){\r\n        const added = [...vertices].map(vertex => this.addVertex(vertex))\r\n\r\n        if ( edges && edges instanceof Edge )\r\n          this.addEdge(edges)\r\n        else if ( edges && edges[Symbol.iterator] )\r\n          this.addEdges(edges)\r\n        else if ( typeof edges == \"function\" ) {\r\n            const edge = Reflect.construct(edges, [added, ...args])\r\n            return [added, this.addEdge(edge)]\r\n        }\r\n\r\n        return added\r\n    }\r\n\r\n    arcFrom(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \">\"))\r\n    }\r\n\r\n    arcTo(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \"<\"))\r\n    }\r\n\r\n    get bft(){ return this.breadthFirstTree }\r\n    breadthFirstTree(vertex){ return new Traversal(this).breadthFirstTree(vertex) }\r\n\r\n    degree(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return this.connections.reduce((acc, {vertices, type}) => {\r\n            if ( vertices.includes(vertex) )\r\n              acc += type === Edge.types.LOOP ? 2 : 1\r\n            return acc\r\n        }, 0)\r\n    }\r\n\r\n    get dft(){ return this.depthFirstTree }\r\n    depthFirstTree(vertex){ return new Traversal(this).depthFirstTree(vertex) }\r\n\r\n    extravertArcWith(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \"><\"))\r\n    }\r\n\r\n    hyperEdgeWith(vertices){\r\n        vertices.forEach(vertex => {\r\n            if ( !(vertex instanceof Vertex) )\r\n            throw new TypeError(ENOTVERTEX)\r\n        })\r\n\r\n        return this.addEdge(new Edge([...vertices], \"@\"))\r\n    }\r\n\r\n    indegree(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return this.arcs.reduce((acc, {inward}) => {\r\n            if ( inward.includes(vertex) )\r\n              acc += 1\r\n            return acc\r\n        }, 0)\r\n    }\r\n\r\n    introvertArcWith(vertices){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b], \"<>\"))\r\n    }\r\n\r\n    lineWith(a, b){\r\n        if ( !(a instanceof Vertex) || !(b instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return this.addEdge(new Edge([a, b]))\r\n    }\r\n\r\n    loop(vertex, rel=\"LINE\"){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n        if ( !Edge.relations.hasOwnProperty(rel) )\r\n          throw new ReferenceError(EUNKNWNREL)\r\n\r\n        return this.addEdge(new Edge([vertex], rel))\r\n    }\r\n\r\n    outdegree(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        if ( !store.get(this).get(svertices).has(vertex) )\r\n          throw new ReferenceError(ENOTINSET)\r\n\r\n        return this.arcs.reduce((acc, {outward}) => {\r\n            if ( outward.includes(vertex) )\r\n              acc += 1\r\n            return acc\r\n        }, 0)\r\n    }\r\n\r\n    removeEdge(edge){\r\n        if ( !(edge instanceof Edge) )\r\n          throw new TypeError(ENOTEDGE)\r\n\r\n        store.get(this).get(sedges).delete(edge)\r\n        store.get(edge).delete(sgraph)\r\n\r\n        return edge\r\n    }\r\n\r\n    removeEdges(edges){ void [...edges].forEach(edge => this.removeEdge(edge)) }\r\n\r\n    removeVertex(vertex, edges){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        store.get(this).get(svertices).delete(vertex)\r\n        store.get(vertex).get(sgraphs).delete(this)\r\n\r\n        edges = edges && edges[Symbol.iterator] ? edges\r\n              : edges ? [edges] : []\r\n        void [...edges].forEach(edge => this.removeEdge(edge))\r\n\r\n        void [...this.edges].forEach(edge => {\r\n            if ( !edge.vertices.includes(vertex) )\r\n              return\r\n\r\n            //if ( edge.type != Edge.types.HYPERARC || edge.vertices.length == 1)\r\n            if ( edge.vertices.length > 1 && (edge.type == Edge.types.HYPERARC || this.allows(Edge.types.LOOP))  )\r\n              edge.removeVertex(vertex)\r\n            else\r\n              this.removeEdge(edge)\r\n        })\r\n\r\n        return vertex\r\n    }\r\n\r\n    removeVertices(vertices, edges){\r\n        void [...vertices].forEach(vertex => this.removeVertex(vertex))\r\n\r\n        if ( edges && !edges[Symbol.iterator] )\r\n          this.removeEdge(edges)\r\n        else if ( edges && edges[Symbol.iterator] )\r\n          this.removeEdges(edges)\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport { EINVALIDCONS, ENOTGRAPH, ENOTVERTEX } from \"errors\"\r\nimport Graph from \"graph/Graph\"\r\nimport store from \"store\"\r\nimport typeOf from \"utils/toType\"\r\nimport Vertex from \"graph/Vertex\"\r\n\r\nexport const sgraph = new Object(Symbol())\r\nexport const sroot = new Object(Symbol())\r\nexport const straversal = new Object(Symbol())\r\n\r\nexport default class BreadthFirstTree {\r\n    static from({ graph, rootVertex, traversal }){\r\n        if ( !(graph instanceof Graph) )\r\n          throw new TypeError(ENOTGRAPH)\r\n        if ( !(rootVertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const bft = Object.create({})\r\n        Object.setPrototypeOf(bft, BreadthFirstTree.prototype)\r\n        store.set(bft, new WeakMap)\r\n        store.get(bft).set(sgraph, graph)\r\n        store.get(bft).set(sroot, rootVertex)\r\n        store.get(bft).set(straversal, traversal)\r\n\r\n        return bft\r\n    }\r\n\r\n    constructor(){ throw new Error(EINVALIDCONS) }\r\n\r\n    get root(){ return store.get(this).get(sroot) }\r\n\r\n    hasPathTo(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        return store.get(this).get(straversal).has(vertex)\r\n    }\r\n\r\n    pathTo(vertex){\r\n        if ( !(vertex instanceof Vertex) )\r\n          throw new TypeError(ENOTVERTEX)\r\n\r\n        const traversal = store.get(this).get(straversal)\r\n        if ( !traversal.has(vertex) ) return null\r\n\r\n        const path = [vertex]\r\n        let parent = vertex\r\n        while ( parent = traversal.get(parent) )\r\n          path.unshift(parent)\r\n\r\n        return path\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nimport Graph from \"graph/Graph\"\r\n\r\nexport default class HyperGraph extends Graph {\r\n    constructor(){\r\n        super({ allows:7 })\r\n    }\r\n}\r\n","\"use strict\"\r\n\r\nexport cancelAnimationFrames from \"utils/cancelAnimationFrames\"\r\nexport Cookie, { Sync as CookieSync } from \"cookies/Cookie\"\r\nexport CSSConditionalRule from \"css/CSSConditionalRule\"\r\nexport CSSHook from \"css/CSSHook\"\r\nexport CSSMediaRule from \"css/CSSMediaRule\"\r\nexport CSSRule, { TextUpdate as CSSRuleTextUpdate, SelectorUpdate as CSSRuleSelectorUpdate, Reset as CSSRuleReset } from \"css/CSSRule\"\r\nexport domready from \"utils/domready\"\r\nexport dummy from \"utils/dummy\"\r\nexport Event from \"events/Event\"\r\nexport EventDispatcher from \"events/EventDispatcher\"\r\nexport EventTarget from \"events/EventTarget\"\r\nexport isNative from \"utils/isNative\"\r\nexport isSameDomain from \"utils/isSameDomain\"\r\nexport Model from \"models/Model\"\r\nexport Node from \"nodes/Node\"\r\nexport ReadyStateFul, { ReadyStateChange } from \"utils/ReadyStateFul\"\r\nexport requestAnimationFrames from \"utils/requestAnimationFrames\"\r\nexport Route from \"routing/Route\"\r\nexport RouteDispatcher from \"routing/RouteDispatcher\"\r\nexport Router from \"routing/Router\"\r\nexport Serializer from \"serializers/Serializer\"\r\nexport singleton from \"utils/singleton\"\r\nexport Stylesheet from \"css/Stylesheet\"\r\nexport store from \"store\"\r\nexport trait from \"utils/trait\"\r\nexport toType from \"utils/toType\"\r\nexport View, { expression } from \"views/View\"\r\nexport ZParser from \"views/ZParser\"\r\n\r\n// graph\r\nexport BreadthFirstTree from \"graph/BreadthFirstTree\"\r\nexport DepthFirstTree from \"graph/DepthFirstTree\"\r\nexport Edge from \"graph/Edge\"\r\nexport Graph from \"graph/Graph\"\r\nexport HyperGraph from \"graph/HyperGraph\"\r\nexport Traversal from \"graph/Traversal\"\r\nexport Vertex from \"graph/Vertex\"\r\n\r\nexport default `${process.env.APPNAME}@${process.env.APPVERSION}`\r\n"],"sourceRoot":""}